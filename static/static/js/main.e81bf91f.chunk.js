(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){e.exports={root:"ArticleComponent_root__D8j7b",loading:"ArticleComponent_loading__2Q302","main-content":"ArticleComponent_main-content__17hyq",author:"ArticleComponent_author__fZAz_","edit-button":"ArticleComponent_edit-button__2LZV1",content:"ArticleComponent_content__2oNPx"}},116:function(e,t,a){e.exports={root:"BoardComponent_root__3yRoo","add-icon-container":"BoardComponent_add-icon-container__2bYpA","add-icon-subcontainer":"BoardComponent_add-icon-subcontainer__2zXNz","add-icon":"BoardComponent_add-icon__11iZ2"}},12:function(e,t,a){e.exports={root:"ShowOpLogModal_root__3gtEJ","top-bar":"ShowOpLogModal_top-bar__2MAFQ","prev-button":"ShowOpLogModal_prev-button__1UI-6","prev-button-icon":"ShowOpLogModal_prev-button-icon__2GPxC",title:"ShowOpLogModal_title__1crXl","multi-device":"ShowOpLogModal_multi-device__fw3Fo",content:"ShowOpLogModal_content__2SOgq","content-title":"ShowOpLogModal_content-title__cAeul","oplog-item":"ShowOpLogModal_oplog-item__22ZAH","item-index":"ShowOpLogModal_item-index__2H9H6",item:"ShowOpLogModal_item__3e4ou","op-title-index":"ShowOpLogModal_op-title-index___hOT8","op-title":"ShowOpLogModal_op-title__2cU_L","op-value-index":"ShowOpLogModal_op-value-index__2mzJ9","op-value":"ShowOpLogModal_op-value__1tRkf"}},141:function(e,t,a){e.exports={root:"ArticlePage_root__3KJuo",time:"ArticlePage_time__2WAnP"}},17:function(e,t,a){e.exports={root:"MultiDeviceModal_root__18hI0","top-bar":"MultiDeviceModal_top-bar__3qvAI","prev-button":"MultiDeviceModal_prev-button__1qNaK","prev-button-icon":"MultiDeviceModal_prev-button-icon__1FbxM",title:"MultiDeviceModal_title__1m7iz","null-space":"MultiDeviceModal_null-space__1bOXO","device-list":"MultiDeviceModal_device-list__2k9VY","device-item":"MultiDeviceModal_device-item__htW7z","item-index":"MultiDeviceModal_item-index__oKF03",item:"MultiDeviceModal_item__2_sXY","op-title-index":"MultiDeviceModal_op-title-index__2kxW5","op-title":"MultiDeviceModal_op-title__1l-4q","op-value-index":"MultiDeviceModal_op-value-index__1fcRl","op-value":"MultiDeviceModal_op-value__1NB0F","add-icon-container":"MultiDeviceModal_add-icon-container__2gTA-","add-icon-subcontainer":"MultiDeviceModal_add-icon-subcontainer__2jjJ_","add-icon":"MultiDeviceModal_add-icon__3qG52","submodal-action-section":"MultiDeviceModal_submodal-action-section__glGFs","submodal-join-board-button":"MultiDeviceModal_submodal-join-board-button__2n1AG","submodal-create-board-button":"MultiDeviceModal_submodal-create-board-button__Qnimm","submodal-close-button":"MultiDeviceModal_submodal-close-button__O2cml"}},19:function(e,t,a){e.exports={root:"NameCardModal_root__1KCO0","modal-action-section":"NameCardModal_modal-action-section__2qfMn","edit-button":"NameCardModal_edit-button__QGVJl","submit-button":"NameCardModal_submit-button__3_zbb","info-section":"NameCardModal_info-section__22byN","left-side":"NameCardModal_left-side__2CO2P","profile-picture":"NameCardModal_profile-picture__cl0DM","right-side":"NameCardModal_right-side__153Lc","main-info":"NameCardModal_main-info__3vu70","contact-info":"NameCardModal_contact-info__2x8kb","other-info":"NameCardModal_other-info__1Cadr","profile-input":"NameCardModal_profile-input__3nyI3",name:"NameCardModal_name__1kDYq",company:"NameCardModal_company__1rkRz","job-title":"NameCardModal_job-title__axVz-",email:"NameCardModal_email__Li7tS",phone:"NameCardModal_phone__1JT0L",description:"NameCardModal_description__4P3j5","qr-code":"NameCardModal_qr-code__3R-FQ",overlay:"NameCardModal_overlay__2Pl1_",editing:"NameCardModal_editing__3taPx"}},197:function(e,t,a){e.exports={root:"LatestPageModal_root__6nrdy",overlay:"LatestPageModal_overlay__3nNG4"}},198:function(e,t,a){e.exports={root:"RootPage_root__1CDU_"}},21:function(e,t,a){e.exports={root:"SettingMenuModal_root__OgQGV","action-section":"SettingMenuModal_action-section__2n3BD","menu-button":"SettingMenuModal_menu-button__2Y4eH",overlay:"SettingMenuModal_overlay__2ZjZf"}},22:function(e,t,a){e.exports={root:"FriendChatComponent_root__1_Bpy","action-section":"FriendChatComponent_action-section__17s-z","edit-button":"FriendChatComponent_edit-button__IT5Mb",chat:"FriendChatComponent_chat__2MHt7","no-message":"FriendChatComponent_no-message__28Zzo","user-message-item":"FriendChatComponent_user-message-item__2f08J","message-item":"FriendChatComponent_message-item__1mOzC","user-message-content":"FriendChatComponent_user-message-content__1gdtH","user-message-content-invitation":"FriendChatComponent_user-message-content-invitation__3z5Qj","message-content":"FriendChatComponent_message-content__2vHab","message-content-invitation":"FriendChatComponent_message-content-invitation__3HA2w",expired:"FriendChatComponent_expired__aV-rW","user-message-meta":"FriendChatComponent_user-message-meta__1hAEx","message-meta":"FriendChatComponent_message-meta__-rSTp","user-message-status":"FriendChatComponent_user-message-status__1SyKP","message-status":"FriendChatComponent_message-status__2nZ2p","user-message-status-circle-pre-alive":"FriendChatComponent_user-message-status-circle-pre-alive__dGxs2","message-status-circle-pre-alive":"FriendChatComponent_message-status-circle-pre-alive__2qXjL","user-message-status-circle-alive":"FriendChatComponent_user-message-status-circle-alive__1x0XM","message-status-circle-alive":"FriendChatComponent_message-status-circle-alive__28Zl-","user-message-status-circle-failed":"FriendChatComponent_user-message-status-circle-failed__2tlu7","message-status-circle-failed":"FriendChatComponent_message-status-circle-failed__yk4ol","user-message-status-circle-post-failed":"FriendChatComponent_user-message-status-circle-post-failed__3xQ_H","message-status-circle-post-failed":"FriendChatComponent_message-status-circle-post-failed__1gWUJ","user-message-time":"FriendChatComponent_user-message-time__3hRQ0","message-time":"FriendChatComponent_message-time__U99JA","message-divider":"FriendChatComponent_message-divider__2g19i","message-input":"FriendChatComponent_message-input__3NbCR","message-action":"FriendChatComponent_message-action__aYC42",loader:"FriendChatComponent_loader__1H3oq"}},23:function(e,t,a){e.exports={root:"FirstPopupModal_root__3C0vE","sign-up":"FirstPopupModal_sign-up__15hHT","profile-title":"FirstPopupModal_profile-title__3OU3j","profile-input":"FirstPopupModal_profile-input__1xO25","profile-input-name":"FirstPopupModal_profile-input-name__2wVgh","signup-action":"FirstPopupModal_signup-action__3p7eQ","close-button":"FirstPopupModal_close-button__1aCRq","submit-button":"FirstPopupModal_submit-button__3LQv0",overlay:"FirstPopupModal_overlay__2_7FF",divider:"FirstPopupModal_divider__YzDAX","sign-in":"FirstPopupModal_sign-in__2qWh6","signin-action":"FirstPopupModal_signin-action__2vLWo","signin-button":"FirstPopupModal_signin-button__2nA28","scan-btn-container":"FirstPopupModal_scan-btn-container__pXW8a","scan-btn":"FirstPopupModal_scan-btn__2Wqhk","submodal-signup-container":"FirstPopupModal_submodal-signup-container__1OdBg","submodal-signup":"FirstPopupModal_submodal-signup__2z8h8","submodal-signup-title":"FirstPopupModal_submodal-signup-title__1QR7A","submodal-checkmark-container":"FirstPopupModal_submodal-checkmark-container__AYlW8",checkmark:"FirstPopupModal_checkmark__2fsrN","submodal-ga-agreement":"FirstPopupModal_submodal-ga-agreement__1yPdG","submodal-ga-agreement-item":"FirstPopupModal_submodal-ga-agreement-item__1Qzbv","submodal-ga-agreement-see-more":"FirstPopupModal_submodal-ga-agreement-see-more__1f_CT","submodal-signup-profile-input":"FirstPopupModal_submodal-signup-profile-input__64CZf","submodal-signup-action-section":"FirstPopupModal_submodal-signup-action-section__H4U0V","submodal-signup-confirm":"FirstPopupModal_submodal-signup-confirm__28vHo","submodal-signup-cancel":"FirstPopupModal_submodal-signup-cancel__7OLFI","submodal-signin-container":"FirstPopupModal_submodal-signin-container__3C3Za","submodal-signin":"FirstPopupModal_submodal-signin__1bCon","submodal-signin-title":"FirstPopupModal_submodal-signin-title__sNa-7","submodal-signin-scanner-container":"FirstPopupModal_submodal-signin-scanner-container__2EfpB","submodal-qr-code-scanner":"FirstPopupModal_submodal-qr-code-scanner__3Mq2r","submodal-qr-code-text":"FirstPopupModal_submodal-qr-code-text__FQ2Ap","submodal-signin-node-id":"FirstPopupModal_submodal-signin-node-id__1hMVm","submodal-signin-action-section":"FirstPopupModal_submodal-signin-action-section__25abP","submodal-signin-submit":"FirstPopupModal_submodal-signin-submit__3uw8M","submodal-signin-cancel":"FirstPopupModal_submodal-signin-cancel__3T5Wr"}},24:function(e,t,a){e.exports={root:"CreateBoardModal_root__3PaQ0","title-header":"CreateBoardModal_title-header__M2oX0","prev-arrow":"CreateBoardModal_prev-arrow__2X8Gw","header-text":"CreateBoardModal_header-text__2eEt-",search:"CreateBoardModal_search__2dKsX","title-section":"CreateBoardModal_title-section__2Eqbz","title-input":"CreateBoardModal_title-input__3By4V","invite-title":"CreateBoardModal_invite-title__1T1Nr","friend-list-text":"CreateBoardModal_friend-list-text__p1Jy7","no-friend-text":"CreateBoardModal_no-friend-text__19hyr","friend-item":"CreateBoardModal_friend-item__313ZH","list-item-author":"CreateBoardModal_list-item-author__2NRx6","list-item-author-pic":"CreateBoardModal_list-item-author-pic__3Zo4j","list-item-author-name":"CreateBoardModal_list-item-author-name__2TLIc","list-item-main":"CreateBoardModal_list-item-main__35Iip","list-item-header":"CreateBoardModal_list-item-header__rBxn0","list-item-title":"CreateBoardModal_list-item-title__2x9wR","list-item-time":"CreateBoardModal_list-item-time__ZM7C9","list-item-content":"CreateBoardModal_list-item-content__1DP-Z","list-item-meta":"CreateBoardModal_list-item-meta__phIXq","list-item-invited":"CreateBoardModal_list-item-invited__-FGRF","list-item-to-invite":"CreateBoardModal_list-item-to-invite__jYe6p","action-section":"CreateBoardModal_action-section__3wWp2","add-icon-container":"CreateBoardModal_add-icon-container__3HFpB","add-icon-subcontainer":"CreateBoardModal_add-icon-subcontainer___odh0","add-icon":"CreateBoardModal_add-icon__2E650",overlay:"CreateBoardModal_overlay__1n_rW"}},25:function(e,t,a){e.exports={root:"InviteToBoardModal_root__19ge7","modal-bar":"InviteToBoardModal_modal-bar__8z-Qs","null-prev-arrow":"InviteToBoardModal_null-prev-arrow__3gery","prev-arrow":"InviteToBoardModal_prev-arrow__2ZcPR","prev-arrow-icon":"InviteToBoardModal_prev-arrow-icon__1qk7J","modal-title":"InviteToBoardModal_modal-title__zH2zW","board-name":"InviteToBoardModal_board-name__22ceP","invite-title":"InviteToBoardModal_invite-title__2MWTA","friend-list":"InviteToBoardModal_friend-list__1w9SG","no-friend-text":"InviteToBoardModal_no-friend-text__c_Sv6","friend-item":"InviteToBoardModal_friend-item__1aFII","list-item-author":"InviteToBoardModal_list-item-author__2D2Ww","list-item-author-pic":"InviteToBoardModal_list-item-author-pic__2vr_T","list-item-author-name":"InviteToBoardModal_list-item-author-name__26dPt","list-item-main":"InviteToBoardModal_list-item-main__2Mwia","list-item-header":"InviteToBoardModal_list-item-header__3gQLF","list-item-title":"InviteToBoardModal_list-item-title__3iyIC","list-item-time":"InviteToBoardModal_list-item-time__yhWBT","list-item-content":"InviteToBoardModal_list-item-content__FZKF4","list-item-meta":"InviteToBoardModal_list-item-meta__LN8qI","list-item-invited":"InviteToBoardModal_list-item-invited__28Ypf","list-item-to-invite":"InviteToBoardModal_list-item-to-invite__xXuMJ","action-section":"InviteToBoardModal_action-section__1jyzc","submit-button":"InviteToBoardModal_submit-button__I6lwh","submit-icon-subcontainer":"InviteToBoardModal_submit-icon-subcontainer__3yddf","submit-icon":"InviteToBoardModal_submit-icon__lapft","null-space":"InviteToBoardModal_null-space__3rCh1","copy-space":"InviteToBoardModal_copy-space__1EBi4","invite-title-text":"InviteToBoardModal_invite-title-text__1G80Q","manageboard-modal-copy":"InviteToBoardModal_manageboard-modal-copy__Oq6R8",overlay:"InviteToBoardModal_overlay__2eQgk"}},28:function(e,t,a){e.exports={root:"ManageBoardMemberModal_root__2UtaA","modal-bar":"ManageBoardMemberModal_modal-bar__3Ipxl","null-prev-arrow":"ManageBoardMemberModal_null-prev-arrow__3XiK5","prev-arrow":"ManageBoardMemberModal_prev-arrow__3xsPD","prev-arrow-icon":"ManageBoardMemberModal_prev-arrow-icon__1OLXK","board-name":"ManageBoardMemberModal_board-name__1rmmU","invite-title":"ManageBoardMemberModal_invite-title__2EzRx","friend-list":"ManageBoardMemberModal_friend-list__2JQqX","no-friend-text":"ManageBoardMemberModal_no-friend-text__1KFBh","friend-item":"ManageBoardMemberModal_friend-item__1TRN2","list-item-author":"ManageBoardMemberModal_list-item-author__3R9Uo","list-item-author-pic":"ManageBoardMemberModal_list-item-author-pic__54Avv","list-item-author-name":"ManageBoardMemberModal_list-item-author-name__3jQAx","list-item-main":"ManageBoardMemberModal_list-item-main__17y9U","list-item-title":"ManageBoardMemberModal_list-item-title__3ugIT","list-item-time":"ManageBoardMemberModal_list-item-time__2E2lJ","list-item-meta":"ManageBoardMemberModal_list-item-meta__3mfsw","list-item-selected":"ManageBoardMemberModal_list-item-selected__2P8ct","list-item-unselect":"ManageBoardMemberModal_list-item-unselect__Orxkl","action-section":"ManageBoardMemberModal_action-section__PfEVQ","submit-button":"ManageBoardMemberModal_submit-button__ro2do","submit-icon-subcontainer":"ManageBoardMemberModal_submit-icon-subcontainer__vWes1","submit-icon":"ManageBoardMemberModal_submit-icon__ifIr-","null-space":"ManageBoardMemberModal_null-space__2z23X","copy-space":"ManageBoardMemberModal_copy-space__1KdDY","invite-title-text":"ManageBoardMemberModal_invite-title-text__1itRc",overlay:"ManageBoardMemberModal_overlay__3v48k"}},29:function(e,t,a){e.exports={root:"CommentReplyListComponent_root__3Cb8k","spinner-item":"CommentReplyListComponent_spinner-item__2KWDt","list-item":"CommentReplyListComponent_list-item__1rll2","list-item-menu":"CommentReplyListComponent_list-item-menu__VjU_X","list-item-menu-slider":"CommentReplyListComponent_list-item-menu-slider__3Ea1M","list-item-menu-item":"CommentReplyListComponent_list-item-menu-item__1RzyK","list-item-menu-item-text":"CommentReplyListComponent_list-item-menu-item-text__18Ob_","comment-creator-profile":"CommentReplyListComponent_comment-creator-profile__2ttA-",mask:"CommentReplyListComponent_mask__2APII","comment-creator":"CommentReplyListComponent_comment-creator__2gzzK","comment-creator-name":"CommentReplyListComponent_comment-creator-name__3BwhV","comment-creator-id-prefix":"CommentReplyListComponent_comment-creator-id-prefix__3AXVn","comment-content":"CommentReplyListComponent_comment-content__2688R","comment-content-input":"CommentReplyListComponent_comment-content-input__17eJO","comment-input":"CommentReplyListComponent_comment-input__3akZ8","comment-content-container":"CommentReplyListComponent_comment-content-container__1c1mC","comment-content-wrapper":"CommentReplyListComponent_comment-content-wrapper__15Cjl","comment-status-wrapper":"CommentReplyListComponent_comment-status-wrapper__13jGb","comment-status":"CommentReplyListComponent_comment-status__1RWUI","pre-alive":"CommentReplyListComponent_pre-alive__XeJ1I",alive:"CommentReplyListComponent_alive__1itPU",failed:"CommentReplyListComponent_failed__14Yh-","post-failed":"CommentReplyListComponent_post-failed__11wL2","comment-manage":"CommentReplyListComponent_comment-manage__13bdL","action-section":"CommentReplyListComponent_action-section__2i71F","comment-action-input-enter":"CommentReplyListComponent_comment-action-input-enter__3t3yI","comment-action-content-input":"CommentReplyListComponent_comment-action-content-input__mtLut","comment-action-icon":"CommentReplyListComponent_comment-action-icon__1voTb","list-item-ellipsis":"CommentReplyListComponent_list-item-ellipsis__1rV_G"}},297:function(e,t){},299:function(e,t,a){e.exports={root:"Empty_root__3Depi"}},30:function(e,t,a){e.exports={root:"PrivacySettingModal_root__3BTdV",overlay:"PrivacySettingModal_overlay__1bJCN","checkmark-container":"PrivacySettingModal_checkmark-container__17XVc",checkmark:"PrivacySettingModal_checkmark__fV0mI","ga-bar":"PrivacySettingModal_ga-bar__IYBOt","prev-button":"PrivacySettingModal_prev-button__1dTyv","prev-button-icon":"PrivacySettingModal_prev-button-icon__2O75T","null-space":"PrivacySettingModal_null-space__2zvn7","ga-title":"PrivacySettingModal_ga-title__1tVGO","ga-agreement-paragraph":"PrivacySettingModal_ga-agreement-paragraph__3lMSy","ga-agreement":"PrivacySettingModal_ga-agreement__3FUgz","ga-agreement-content":"PrivacySettingModal_ga-agreement-content__LMn3i","ga-agreement-item":"PrivacySettingModal_ga-agreement-item__2wVG5","ga-agreement-item-disabled":"PrivacySettingModal_ga-agreement-item-disabled__2ZfmJ","action-section":"PrivacySettingModal_action-section__1QHm7",confirm:"PrivacySettingModal_confirm__2j8rh",cancel:"PrivacySettingModal_cancel__1Z3nN"}},307:function(e){e.exports={"site-title.title":"PTT.ai","site-title.notify1":"{SENDER} \u9001\u4f86\u65b0\u6d88\u606f","site-title.notify2":"(*) PTT.ai","navigator.tab1":"\u7fa4\u7d44","navigator.tab2":"\u79c1\u8a0a","newsbar.title":"\u6700\u65b0\u4e3b\u984c","newsbar.prev-button":"\u7fa4\u7d44","boardbar.prev-button":"\u7fa4\u7d44","friendbar.title":"\u670b\u53cb","multi-device-modal.title":"\u88dd\u7f6e\u7ba1\u7406","multi-device-modal.device-content1":"\u555f\u7528\u65e5\u671f","multi-device-modal.add-menu1":"\u65b0\u589e\u4fe1\u4efb\u7684\u88dd\u7f6e","multi-device-modal.add-menu2":"\u8207\u4e3b\u88dd\u7f6e\u540c\u6b65","multi-device-modal.add-menu3":"\u53d6\u6d88","setting-menu-modal.menu1":"\u88dd\u7f6e\u7ba1\u7406","setting-menu-modal.menu2":"Op Log","setting-menu-modal.menu3":"\u53d6\u6d88","friend-setting-menu-modal.menu0":"\u522a\u9664\u670b\u53cb","friend-setting-menu-modal.menu1":"\u53d6\u6d88","setting-menu-modal.menu4":"\u96b1\u79c1\u6b0a\u7ba1\u7406","board-setting-menu-modal.menu0":"\u9080\u8acb\u670b\u53cb","board-setting-menu-modal.menu1":"\u6210\u54e1\u7ba1\u7406","board-setting-menu-modal.menu2":"\u66f4\u6539\u7fa4\u7d44\u540d","board-setting-menu-modal.menu3":"\u522a\u9664\u7fa4\u7d44","board-setting-menu-modal.menu4":"\u96e2\u958b\u7fa4\u7d44","board-setting-menu-modal.menu5":"\u53d6\u6d88","article-setting-menu-modal.menu1":"\u7de8\u8f2f\u6587\u7ae0","article-setting-menu-modal.menu2":"\u522a\u9664\u6587\u7ae0","article-setting-menu-modal.menu3":"\u53d6\u6d88","comment-setting-menu-modal.menu1":"\u7de8\u8f2f\u7559\u8a00","comment-setting-menu-modal.menu2":"\u522a\u9664\u7559\u8a00","comment-setting-menu-modal.menu3":"\u53d6\u6d88","manage-board-modal.message1":"\u66f4\u6539\u7fa4\u7d44\u540d\u7a31","manage-board-member-modal.message1":"\u6c92\u6709\u6210\u54e1\u5728\u7fa4\u7d44 {BOARD_NAME}","manage-board-member-modal.message2":"\u6210\u54e1\u7ba1\u7406","manage-board-member-modal.remove-member-1":"\u53d6\u6d88\u9078\u64c7","manage-board-member-modal.remove-member-2":"\u9078\u64c7\u79fb\u9664","manage-board-member-modal.member-status":"{JOIN_TIME} \u52a0\u5165","invite-to-board-modal.message1":"\u6c92\u6709\u670b\u53cb\u53ef\u4ee5\u9080\u8acb\u81f3 {BOARD_NAME}","invite-to-board-modal.message2":"\u9080\u8acb","invite-to-board-modal.copy-node-id-2":"\u5df2\u8907\u88fd","invite-to-board-modal.copy-my-id-1":"\u8907\u88fd\u9080\u8acb\u78bc","invite-to-board-modal.invite-friend-1":"\u53d6\u6d88\u9078\u64c7","invite-to-board-modal.invite-friend-2":"\u9078\u64c7\u9080\u8acb","invite-to-board-modal.invite-friend-0":"{JOIN_TIME} \u52a0\u5165","first-popup-modal.title":"\u4ee5\u73fe\u6709\u5e33\u865f\u767b\u5165","first-popup-modal.title2":"\u8b93\u670b\u53cb\u77e5\u9053\u60a8\u662f\u8ab0","first-popup-modal.title3":"\u540c\u610fPTT.ai \u7684\u4f7f\u7528\u8005\u689d\u6b3e","first-popup-modal.title4":"\u540c\u610f\u4f7f\u7528\u884c\u70ba\u8490\u96c6\u8207\u5206\u6790","first-popup-modal.placeholder":"\u8f38\u5165\u60a8\u7684\u59d3\u540d","first-popup-modal.action1":"\u53d6\u6d88","first-popup-modal.action2":"\u78ba\u5b9a","first-popup-modal.action3":"\u4ee5\u73fe\u6709\u5e33\u865f\u767b\u5165","first-popup-modal.action4":"\u5275\u5efa\u65b0\u8eab\u4efd","first-popup-modal.divider":"\u6216","create-board-modal.title":"\u5efa\u7acb\u65b0\u7fa4\u7d44","create-board-modal.placeholder":"\u8f38\u5165\u7fa4\u7d44\u7684\u540d\u7a31","create-board-modal.invite-friend-1":"\u53d6\u6d88\u9078\u64c7","create-board-modal.invite-friend-2":"\u9078\u64c7","create-article-modal.placeholder":"\u8acb\u8f38\u5165\u8a0e\u8ad6\u4e3b\u984c","create-article-modal.file-uploading":"\u6a94\u6848\u4e0a\u50b3\u4e2d...","add-known-board-modal.title":"\u8f38\u5165\u6b32\u52a0\u5165\u7fa4\u7d44\u9080\u8acb\u78bc","add-known-board-modal.action1":"\u53d6\u6d88","add-known-board-modal.action2":"\u78ba\u5b9a","add-known-board-modal.placeholder":"\u8acb\u8cbc\u4e0a\u7fa4\u7d44\u7684\u9080\u8acb\u78bc","add-known-board-modal.scan-code-title":"\u8acb\u5c07\u93e1\u982d\u5c0d\u6e96 QR code","add-known-board-modal.scan-code-action":"\u52a0\u5165\u7fa4\u7d44","add-friend-modal.title":"\u52a0\u670b\u53cb","add-friend-modal.copy-my-id-1":"\u8907\u88fd\u4f60\u7684 ID","add-friend-modal.scan-code-title":"\u8acb\u5c07\u93e1\u982d\u5c0d\u6e96 QR code","add-friend-modal.placeholder":"\u8acb\u5c07\u670b\u53cb\u7684 ID \u8cbc\u5728\u6b64\u8655\uff0c\u4e26\u9ede\u9078\u52a0\u70ba\u597d\u53cb","add-friend-modal.scan-code-action":"\u52a0\u70ba\u670b\u53cb","add-friend-modal.show-qrcode":"\u986f\u793a QR Code","add-friend-modal.scan-qrcide":"\u6383\u63cf QR Code","add-friend-modal.add-self-alert":"\u4e0d\u80fd\u52a0\u81ea\u5df1\u70ba\u597d\u53cb","add-device-scanner-modal.copy-device-id-1":"\u8907\u88fd\u300c\u767b\u5165\u78bc\u300d","add-device-scanner-modal.copy-device-id-2":"\u5df2\u8907\u88fd","add-device-scanner-modal.copy-device-id-3":"\u9ede\u9078\u6309\u9215\uff0c\u8907\u88fd\u81ea\u5df1\u7684\u300c\u767b\u5165\u78bc\u300d\u4e26\u8cbc\u81f3\u4e0b\u65b9\u3002\u9ede\u9078\u5b8c\u6210\uff0c\u5c07\u958b\u59cb\u8207\u4e3b\u88dd\u7f6e\u540c\u6b65","add-device-scanner-modal.copy-device-id-4":"\u8acb\u5c07\u93e1\u982d\u5c0d\u6e96 QR code","sign-in-scanner-modal.copy-device-id":"\u8acb\u5c07\u93e1\u982d\u5c0d\u6e96 QR code","sign-in-scanner-modal.title":"\u4f7f\u7528\u8005\u767b\u5165","sign-in-scanner-modal.placeholder2":"\u8f38\u5165\u6b32\u767b\u5165\u4e4b p.me \u78bc","add-device-scanner-modal.title":"\u8207\u4e3b\u88dd\u7f6e\u540c\u6b65","add-device-scanner-modal.placeholder1":"\u8cbc\u4e0a\u300c\u767b\u5165\u78bc\u300d","add-device-scanner-modal.placeholder2":"\u8f38\u5165\u6b32\u540c\u6b65\u4e4b p.me \u78bc","add-device-scanner-modal.copy-device-id-action1":"\u958b\u59cb\u540c\u6b65","add-device-scanner-modal.copy-device-id-action2":"\u4e0b\u4e00\u6b65","add-device-scanner-modal.copy-device-id-message1":"\u540c\u6b65\u6210\u529f","add-device-scanner-modal.copy-device-id-message2":"\u6b64\u88dd\u7f6e\u5df2\u8207\u539f\u88dd\u7f6e\u5b8c\u6210\u540c\u6b65","add-device-modal.copy-node-id-1":"\u8907\u88fd p.me \u78bc","add-device-modal.copy-node-id-2":"\u5df2\u8907\u88fd","add-device-modal.copy-node-id-3":"\u4ee5\u5e33\u865f\u767b\u5165\u6642\u8acb\u6383\u63cf\u6b64 QR Code \u6216\u662f\u4f7f\u7528\u6b64\u300cp.me\u78bc\u300d","add-device-modal.title":"p.me \u78bc","add-device-modal.expiration":"{expTimeVal}","qrcode-scanner.tap-to-scan":"\u9ede\u64ca\u4ee5\u6383\u63cf QR Code","news-list-component.message":"\u76ee\u524d\u6c92\u6709\u8a0e\u8ad6\u4e3b\u984c","news-list-component.empty":"(\u7121\u5167\u5bb9)","friend-list-component.message":"\u8acb\u9ede\u9078\u4e0b\u65b9\u6309\u9215\u300c\u65b0\u589e\u670b\u53cb\u300d","friend-list-component.message2":"\u2605 {INVITING_USER_NAME} \u9080\u8acb {INVITED_USER_NAME} \u52a0\u5165\u67d0\u500b\u7fa4\u7d44","friend-list-component.syncing":"\u540c\u6b65\u4e2d","article-list-component.message":"\u8acb\u9ede\u9078\u4e0b\u65b9\u6309\u9215\u300c\u65b0\u589e\u8a0e\u8ad6\u4e3b\u984c\u300d","summary-template.user-upload-file":"\u4e0a\u50b3\u4e86\u6a94\u6848","summary-template.user-upload-image":"\u4e0a\u50b3\u4e86\u5716\u7247","article-component.message1":"\u6293\u53d6\u6587\u7ae0\u4e2d ({cntDown})","article-component.message2":"(\u7121\u5167\u5bb9)","board-action-modal.action1":"\u52a0\u5165\u7fa4\u7d44","board-action-modal.action2":"\u958b\u65b0\u7fa4\u7d44","board-action-modal.action3":"\u53d6\u6d88","alert-component.action1":"\u53d6\u6d88","alert-component.action2":"\u78ba\u8a8d","board-list-component.message":"\u8acb\u9ede\u9078\u4e0b\u65b9\u6309\u9215\u300c\u65b0\u589e\u7fa4\u7d44\u300d","board-list-component.board-type":"[\u500b\u677f] {name}","comment-reply-list-component.action":"\u522a\u9664","comment-reply-list-component.comment-length-alert":"\u7559\u8a00\u4e0d\u80fd\u8d85\u904e {MAX_COMMENT_SIZE} \u500b\u5b57","article-list-component.action":"\u522a\u9664","article-list-component.empty":"(\u7121\u5167\u5bb9)","friend-chat-component.title":"\u958b\u59cb\u804a\u5929\u5427\uff01","friend-chat-component.placeholder":"\u8acb\u8f38\u5165\u8a0a\u606f","friend-chat-component.action1":"\u5df2\u52a0\u5165","friend-chat-component.action1-2":"\u9ede\u9078\u524d\u5f80\u7fa4\u7d44","friend-chat-component.action2":"\u53d7\u9080\u52a0\u5165","friend-chat-component.action2-2":"\u9ede\u9078\u63a5\u53d7 ({expTimeVal})","friend-chat-component.action3":"\u5df2\u50b3\u9001\u7fa4\u7d44\u9080\u8acb","friend-chat-component.action4":" ({expTimeVal})","alert.message1":"\u78ba\u5b9a\u8981\u522a\u9664\u55ce?","alert.message2":"\u8f38\u5165\u8a0a\u606f\u4e0d\u80fd\u8d85\u904e {MAX_COMMENT_SIZE} \u500b\u5b57","alert.message3":"\u3010\u52a0\u5165\u88dd\u7f6e\u5931\u6557\u3011 {data}:{nodeId}","alert.message4":"\u3010\u6210\u529f\u3011 \u88dd\u7f6e\u5df2\u52a0\u5165","alert.message5":"\u8f38\u5165\u7684\u300cp.me\u78bc\u300d\u4e0d\u6b63\u78ba","alert.message6":"\u8f38\u5165\u7684\u300c\u767b\u5165\u78bc\u300d\u4e0d\u6b63\u78ba","alert.message7":"\u3010\u52a0\u677f\u5931\u6557\u3011 {data}:{boardUrl}","alert.message8":"\u8f38\u5165\u7684\u7fa4\u7d44\u540d\u4e0d\u6b63\u78ba","alert.message9":"\u4e3b\u984c\u672a\u5b8c\u6210\uff0c\u78ba\u5b9a\u8981\u96e2\u958b?","alert.message10":"\u8acb\u8f38\u5165\u4e3b\u984c\u53ca\u5167\u5bb9","alert.message11":"\u5167\u5bb9\u4e0d\u80fd\u8d85\u904e {MAX_ARTICLE_SIZE} \u500b\u5b57","alert.message12":"\u7fa4\u7d44\u540d\u4e0d\u80fd\u8d85\u904e {MAX_BOARDNAME_SIZE} \u500b\u5b57","alert.message13":"\u8acb\u8f38\u5165\u7fa4\u7d44\u540d","alert.message14":"\u5167\u5bb9\u7de8\u8f2f\u4e2d, \u78ba\u5b9a\u8981\u96e2\u958b?","alert.message15":"\u8acb\u8f38\u5165\u4e3b\u984c\u5167\u5bb9","alert.message16":"\u5167\u5bb9\u4e0d\u80fd\u8d85\u904e {MAX_ARTICLE_SIZE} \u500b\u5b57","alert.message17":"\u540d\u7a31\u4e0d\u80fd\u662f'{DEFAULT_USER_NAME}'","alert.message18":"\u540d\u7a31\u4e0d\u80fd\u8d85\u904e {MAX_USER_NAME_SIZE} \u500b\u5b57","alert.message19":"\u8acb\u8f38\u5165\u540d\u7a31","alert.message20":"\u3010\u52a0\u53cb\u5931\u6557\u3011 {data}:{friendReqUrl}","alert.message21":"\u3010\u6210\u529f\u3011 \u670b\u53cb\u5df2\u52a0\u5165","alert.message22":"\u8f38\u5165\u7684\u300c\u597d\u53cb\u78bc\u300d\u4e0d\u6b63\u78ba","alert.message23":"\u3010\u4e0a\u50b3\u5931\u6557\u3011 \u53ea\u652f\u63f4\u5716\u7247\u683c\u5f0f jpeg / png / gif","alert.message24":"\u6a94\u6848\u5927\u5c0f\u4e0d\u80fd\u8d85\u904e {MAX_FILE_UPLOAD_SIZE}","alert.message25":"\u3010\u6210\u529f\u3011\u52a0\u5165\u7fa4\u7d44","alert.message26":"\u3010\u767b\u5165\u5931\u6557\u3011 \u7a7a\u767d p.me \u78bc","alert.message27":"\u3010\u6210\u529f\u3011 \u5df2\u767b\u5165","alert.message28":"\u3010\u7b49\u5f85\u3011 \u767b\u5165\u4e2d...","alert.message29":"\u3010\u6210\u529f\u3011 \u5df2\u52a0\u5165","alert.message30":"\u3010\u6210\u529f\u3011 \u670b\u53cb\u5df2\u522a\u9664","alert.message31":"\u3010\u522a\u53cb\u5931\u6557\u3011 {data}:{chatId}","alert.message32":"\u3010\u96e2\u958b\u5931\u6557\u3011 {data}","alert.message33":"\u3010\u6210\u529f\u3011\u5df2\u96e2\u958b\u7fa4\u7d44","alert.message34":"\u3010\u6210\u529f\u3011\u7fa4\u7d44\u5df2\u522a\u9664","alert.message35":"\u78ba\u5b9a\u8981\u96e2\u958b\u7fa4\u7d44\u55ce?","alert.message36":"\u6a19\u984c\u5b57\u6578\u904e\u9577\uff08\u4e2d\u6587\u9650 14 \u5b57\u3001\u82f1\u6587 27 \u5b57\uff09","alert.message37":"\u60a8\u5c1a\u672a\u540c\u610f PTT.ai \u7684\u4f7f\u7528\u8005\u689d\u6b3e","alert.message38":"\u8a3b\u518a\u6210\u529f\uff01","edit-name-modal.company-placeholder":"\u516c\u53f8","edit-name-modal.jobtitle-placeholder":"\u8077\u7a31","edit-name-modal.email-placeholder":"E-mail","edit-name-modal.phone-placeholder":"\u806f\u7d61\u96fb\u8a71","edit-name-modal.description-placeholder":"\u8acb\u586b\u5165\u81ea\u6211\u4ecb\u7d39","edit-name-modal.edit-button":"\u7de8\u8f2f","edit-name-modal.leave-button":"\u96e2\u958b","edit-name-modal.default-user-name-alert":"\u4f7f\u7528\u8005\u540d\u7a31\u4e0d\u80fd\u662f {DEFAULT_USER_NAME}","edit-name-modal.user-name-length-alert":"\u4f7f\u7528\u8005\u540d\u7a31\u4e0d\u80fd\u8d85\u904e {MAX_USER_NAME_SIZE} \u500b\u5b57","edit-name-modal.user-name-empty-alert":"\u4f7f\u7528\u8005\u540d\u7a31\u4e0d\u53ef\u70ba\u7a7a","edit-name-modal.company-name-length-alert":"\u516c\u53f8\u540d\u7a31\u4e0d\u80fd\u8d85\u904e {MAX_USER_COMPANY_SIZE} \u500b\u5b57","edit-name-modal.job-title-length-alert":"\u8077\u4f4d\u540d\u7a31\u4e0d\u80fd\u8d85\u904e {MAX_USER_JOBTITLE_SIZE} \u500b\u5b57","edit-name-modal.email-length-alert":"Email \u4e0d\u80fd\u8d85\u904e {MAX_USER_EMAIL_SIZE} \u500b\u5b57","edit-name-modal.phone-length-alert":"\u96fb\u8a71\u865f\u78bc\u4e0d\u80fd\u8d85\u904e {MAX_USER_PHONE_SIZE} \u500b\u5b57","edit-name-modal.description-length-alert":"\u63cf\u8ff0\u4e0d\u80fd\u8d85\u904e {MAX_USER_DESCRIPTION_SIZE} \u500b\u5b57","edit-name-modal.email-format-alert":"Email \u683c\u5f0f\u4e0d\u5408\u6cd5","privacy-modal.title1":"\u4f7f\u7528\u8005\u689d\u6b3e\u8207\u4f7f\u7528\u884c\u70ba\u641c\u96c6","privacy-modal.content1":"\u56e0\u53bb\u4e2d\u5fc3\u5316\u5132\u5b58\u6a5f\u5236\uff0c\u672c\u5718\u968a\u7121\u6cd5\u5be9\u67e5\u4f7f\u7528\u8005\u4e0a\u50b3\u4e4b\u5167\u5bb9\u662f\u5426\u5408\u6cd5\u3001\u7121\u6cd5\u70ba\u8cc7\u6599\u907a\u5931\u8ca0\u8cac\uff0c\u767c\u8868\u8cc7\u8a0a\u524d\u8acb\u81ea\u884c\u659f\u914c\u5206\u4eab\u5c0d\u8c61\uff0c\u4ee5\u514d\u89f8\u6cd5\u3002\u5728\u63a5\u6536\u8cc7\u8a0a\u540c\u6642\uff0c\u81ea\u5df1\u7684p.me\u4e0a\u4e5f\u6703\u5132\u5b58\u4e00\u4efd\u8cc7\u6599\uff0c\u8acb\u4f7f\u7528\u8005\u81ea\u884c\u659f\u914c\u7be9\u9078\u63a5\u6536\u8cc7\u8a0a\u7684\u5c0d\u8c61\uff08\u5982\u52a0\u5165\u7684\u7fa4\u7d44\u3001\u804a\u5929\u7684\u670b\u53cb\uff09\u3002","privacy-modal.content2":"PTT.ai\u81f4\u529b\u9075\u5b88\u4e4bGDPR\u91cd\u8981\u898f\u7bc4\u8207\u539f\u5247\u3002\u672a\u7d93\u4f7f\u7528\u8005\u540c\u610f\uff0c\u672c\u5718\u968a\u4e0d\u6703\u8490\u96c6\uff0f\u8655\u7406\uff0f\u5229\u7528p.me\u4e0a\u7684\u300c\u4efb\u4f55\u8cc7\u6599\u300d\uff0c\u4ea6\u4e0d\u6703\u81ea\u52d5\u50b3\u9001\u533f\u540d\u7cfb\u7d71\u8cc7\u8a0a\u3002\u5982\u679c\u60a8\u9858\u610f\u5206\u4eab\u4f7f\u7528\u884c\u70ba\uff08\u5982Google Analytics\uff09\u4f86\u8b93PTT.ai\u8b8a\u5f97\u66f4\u597d\uff0c\u8acb\u6309\u540c\u610f\uff1b\u82e5\u4e0d\u540c\u610f\uff0c\u6211\u5011\u5c07\u5b8c\u5168\u5c0a\u91cd\u60a8\u7684\u9078\u64c7\u3001\u4e0d\u6536\u96c6\u60a8\u7684\u4f7f\u7528\u884c\u70ba\uff0c\u4e5f\u6b61\u8fce\u60a8\u7e7c\u7e8c\u4f7f\u7528 PTT.ai\u3002PTT.ai\u76ee\u524d\u6301\u7e8c\u958b\u767c\u4e2d\uff0c\u7121\u6cd5\u4fdd\u8b49\u6240\u5217\u529f\u80fd\u65bc\u6240\u6709\u6642\u9593\u90fd\u5b8c\u6574\u904b\u4f5c\u3001\u4e5f\u4e0d\u70ba\u8edf\u9ad4\u9810\u671f\u5916\u884c\u70ba\u8ca0\u8cac\u3002\u6b61\u8fce\u4f7f\u7528\u8005\u56de\u5831\u8207\u5efa\u8b70\uff0c\u672c\u5718\u968a\u6703\u6301\u7e8c\u6539\u9032\u3002","privacy-modal.content3":"\u4ee5\u4e0a\u8a73\u60c5\u8acb\u898b","privacy-modal.content4":"\u5982\u679c\u60a8\u9858\u610f\u5206\u4eab\u4f60\u7684\u4f7f\u7528\u8005\u884c\u70ba\uff08\u5982 google analytics\uff09\u4f86\u8b93 PTT.ai \u8b8a\u5f97\u66f4\u597d\uff0c\u8acb\u6309\u540c\u610f\uff1b\u82e5\u4e0d\u540c\u610f\uff0c\u6211\u5011\u5c07\u5b8c\u5168\u5c0a\u91cd\u60a8\u7684\u9078\u64c7\u3001\u4e0d\u6536\u96c6\u60a8\u7684\u4f7f\u7528\u884c\u70ba\uff0c\u4e5f\u6b61\u8fce\u60a8\u7e7c\u7e8c\u4f7f\u7528 PTT.ai\u3002"}},308:function(e){e.exports={"site-title.title":"PTT.ai","site-title.notify1":"{SENDER} messaged you","site-title.notify2":"(*) PTT.ai","navigator.tab1":"Groups","navigator.tab2":"Messages","newsbar.title":"Latest posts","newsbar.prev-button":"Groups","boardbar.prev-button":"Groups","friendbar.title":"Friend List","multi-device-modal.title":"Devices Setting","multi-device-modal.device-content1":"Start Date","multi-device-modal.add-menu1":"Add Device","multi-device-modal.add-menu2":"Sync Device","multi-device-modal.add-menu3":"Cancel","setting-menu-modal.menu1":"Devices setting","setting-menu-modal.menu2":"Op Log","setting-menu-modal.menu3":"Cancel","friend-setting-menu-modal.menu0":"Delete Friend","friend-setting-menu-modal.menu1":"Cancel","setting-menu-modal.menu4":"Privacy","board-setting-menu-modal.menu0":"Invite","board-setting-menu-modal.menu1":"Members","board-setting-menu-modal.menu2":"Edit Name","board-setting-menu-modal.menu3":"Delete Group","board-setting-menu-modal.menu4":"Leave Group","board-setting-menu-modal.menu5":"Cancel","article-setting-menu-modal.menu1":"Edit Article","article-setting-menu-modal.menu2":"Delete Article","article-setting-menu-modal.menu3":"Cancel","comment-setting-menu-modal.menu1":"Edit Comment","comment-setting-menu-modal.menu2":"Delete Comment","comment-setting-menu-modal.menu3":"Cancel","manage-board-modal.message1":"Change Group Name","manage-board-member-modal.message1":"No member in group {BOARD_NAME}","manage-board-member-modal.message2":"Manage Members","manage-board-member-modal.remove-member-1":"UnSelect","manage-board-member-modal.remove-member-2":"Remove","manage-board-member-modal.member-status":"joined {JOIN_TIME}","invite-to-board-modal.message1":"You have no friend to invite to {BOARD_NAME}","invite-to-board-modal.message2":"Invite Friend","invite-to-board-modal.copy-node-id-2":"Copied","invite-to-board-modal.copy-my-id-1":"Copy Invite Code","invite-to-board-modal.invite-friend-1":"UnSelect","invite-to-board-modal.invite-friend-2":"Select","invite-to-board-modal.invite-friend-0":"joined {JOIN_TIME}","first-popup-modal.title":"Sign in with existing account","first-popup-modal.title2":"Let others know your name","first-popup-modal.title3":"Agree to the PTT.ai Terms and Policies","first-popup-modal.title4":"Agree to user tracking for improving Ptt.ai's service","first-popup-modal.placeholder":"Enter your name","first-popup-modal.action1":"Cancel","first-popup-modal.action2":"Confirm","first-popup-modal.action3":"Sign In","first-popup-modal.action4":"Sign up as new user","first-popup-modal.divider":"Or","create-board-modal.title":"Create New Group","create-board-modal.placeholder":"Enter Group name","create-board-modal.invite-friend-1":"UnSelect","create-board-modal.invite-friend-2":"Select","create-article-modal.placeholder":"Enter title","create-article-modal.file-uploading":"File is uploading...","add-known-board-modal.title":"Enter Invite Code to join","add-known-board-modal.action1":"Cancel","add-known-board-modal.action2":"Confirm","add-known-board-modal.placeholder":"Paste Invite Code here","add-known-board-modal.scan-code-title":"Scan QR Code to join Group","add-known-board-modal.scan-code-action":"Join","add-friend-modal.title":"Add friend","add-friend-modal.copy-my-id-1":'Copy your "Friend Code"',"add-friend-modal.scan-code-title":"Scan QR Code to add friend","add-friend-modal.placeholder":'Paste friend\'s "Friend Code" here',"add-friend-modal.scan-code-action":"Add","add-friend-modal.show-qrcode":"Show QR Code","add-friend-modal.scan-qrcide":"Scan QR Code","add-friend-modal.add-self-alert":"Add yourself is not allowed","add-device-scanner-modal.copy-device-id-1":'Copy "Sign-In Code"',"add-device-scanner-modal.copy-device-id-2":"Copied","add-device-scanner-modal.copy-device-id-3":'Copy the above "Sign-In Code" and paste below',"add-device-scanner-modal.copy-device-id-4":"Scan QR Code to sync","sign-in-scanner-modal.copy-device-id":"Scan QR Code to sign in","sign-in-scanner-modal.title":"Sign in as","sign-in-scanner-modal.placeholder2":"Enter the p.me Code to sign in","add-device-scanner-modal.title":"Sync with Main Device","add-device-scanner-modal.placeholder1":'Paste the above "Sign-In Code" here',"add-device-scanner-modal.placeholder2":"Enter the p.me Code to be synced","add-device-scanner-modal.copy-device-id-action1":"Start to sync","add-device-scanner-modal.copy-device-id-action2":"Next","add-device-scanner-modal.copy-device-id-message1":"Sync succeeded","add-device-scanner-modal.copy-device-id-message2":"This device has synced with the main device","add-device-modal.copy-node-id-1":"Copy p.me Code","add-device-modal.copy-node-id-2":"Copied","add-device-modal.copy-node-id-3":"Scan QR Code or use the above p.me Code when signing in","add-device-modal.title":"p.me Code","add-device-modal.expiration":"{expTimeVal}","qrcode-scanner.tap-to-scan":"Tap to scan QR Code","news-list-component.message":"There are no new discussions","news-list-component.empty":"(No content)","friend-list-component.message":"Click below button to add new friends","friend-list-component.message2":"\u2605 {INVITING_USER_NAME} invited {INVITED_USER_NAME} to join a group","friend-list-component.syncing":"Syncing","article-list-component.message":"Click below button to add discussions","summary-template.user-upload-file":"uploaded file","summary-template.user-upload-image":"uploaded image","article-component.message1":"Fetching the content ({cntDown})","article-component.message2":"(No content)","board-action-modal.action1":"Join Group","board-action-modal.action2":"Create Group","board-action-modal.action3":"Cancel","alert-component.action1":"Cancel","alert-component.action2":"Confirm","board-list-component.message":"Click below button to add groups","board-list-component.board-type":"[Private] {name}","comment-reply-list-component.action":"Delete","comment-reply-list-component.comment-length-alert":"cannot comment more than {MAX_COMMENT_SIZE} characters","article-list-component.action":"Delete","article-list-component.empty":"(No content)","friend-chat-component.title":"Start chatting!","friend-chat-component.placeholder":"Enter message","friend-chat-component.action1":"You Have Joined","friend-chat-component.action1-2":"Click to go to group","friend-chat-component.action2":"Invited to","friend-chat-component.action2-2":"Click to join ({expTimeVal})","friend-chat-component.action3":"Sent Group Invitation","friend-chat-component.action4":" ({expTimeVal})","alert.message1":"Are you sure you want to delete?","alert.message2":"Input message cannot exceed {MAX_COMMENT_SIZE} words","alert.message3":"[Failed] {data}:{nodeId}","alert.message4":"[Success] Deivce Added","alert.message5":"p.me Code empty or invalid","alert.message6":"Sign-In Code empty or invalid","alert.message7":"[Failed] {data}:{boardUrl}","alert.message8":"Group name empty or invalid","alert.message9":"You have unfinished content, are you sure you want to leave?","alert.message10":"Title and content cannot be empty","alert.message11":"Max content is {MAX_ARTICLE_SIZE} characters","alert.message12":"Group name cannot exceed {MAX_BOARDNAME_SIZE} characters","alert.message13":"Group name cannot be empty","alert.message14":"You have edited the content, are you sure you want to leave?","alert.message15":"Content cannot be empty","alert.message16":"Max content is {MAX_ARTICLE_SIZE} characters","alert.message17":"User name cannot be '{DEFAULT_USER_NAME}'","alert.message18":"User name cannot exceed {MAX_USER_NAME_SIZE} characters","alert.message19":"User name cannot be empty","alert.message20":"[Failed] {data}:{friendReqUrl}","alert.message21":"[Success] Friend Added","alert.message22":"Invite Code empty or invalid","alert.message23":"[Error] Only allow image format: jpeg / png / gif","alert.message24":"File size cannot exceed {MAX_FILE_UPLOAD_SIZE}","alert.message25":"[Success] Group Joined","alert.message26":"[Failed] Empty p.me Code","alert.message27":"[Success] Signed In","alert.message28":"[Wait] Signing...","alert.message29":"[Success] Group Joined","alert.message30":"[Success] Friend Deleted","alert.message31":"[Failed] {data}:{chatId}","alert.message32":"[Failed] {data}","alert.message33":"[Success] Left Group","alert.message34":"[Success] Group Deleted","alert.message35":"Are you sure you want to leave to group?","alert.message36":"Title is too long (CJK word: 14, eng: 27)","alert.message37":"Please agree the PTT.ai Terms and Conditions","alert.message38":"Sign-up succeeded!","edit-name-modal.company-placeholder":"Company (press below to edit)","edit-name-modal.jobtitle-placeholder":"Job Title (press below to edit)","edit-name-modal.email-placeholder":"Email (press below to edit)","edit-name-modal.phone-placeholder":"Phone (press below to edit)","edit-name-modal.description-placeholder":"About me (press below to edit)","edit-name-modal.edit-button":"Edit","edit-name-modal.leave-button":"Leave","edit-name-modal.default-user-name-alert":"user name cannot be {DEFAULT_USER_NAME}","edit-name-modal.user-name-length-alert":"user name cannot exceed {MAX_USER_NAME_SIZE} characters","edit-name-modal.user-name-empty-alert":"user name cannot be empty","edit-name-modal.company-name-length-alert":"company name cannot exceed {MAX_USER_COMPANY_SIZE} characters","edit-name-modal.job-title-length-alert":"job title cannot exceed {MAX_USER_JOBTITLE_SIZE} characters","edit-name-modal.email-length-alert":"email cannot exceed {MAX_USER_EMAIL_SIZE} characters","edit-name-modal.phone-length-alert":"phone cannot exceed {MAX_USER_PHONE_SIZE} characters","edit-name-modal.description-length-alert":"description cannot exceed {MAX_USER_DESCRIPTION_SIZE} characters","edit-name-modal.email-format-alert":"Email is invalid","privacy-modal.title1":"Terms and Conditions & Google Analytics Tracking","privacy-modal.content1":"\u56e0\u53bb\u4e2d\u5fc3\u5316\u5132\u5b58\u6a5f\u5236\uff0c\u672c\u5718\u968a\u7121\u6cd5\u5be9\u67e5\u4f7f\u7528\u8005\u4e0a\u50b3\u4e4b\u5167\u5bb9\u662f\u5426\u5408\u6cd5\u3001\u7121\u6cd5\u70ba\u8cc7\u6599\u907a\u5931\u8ca0\u8cac\uff0c\u767c\u8868\u8cc7\u8a0a\u524d\u8acb\u81ea\u884c\u659f\u914c\u5206\u4eab\u5c0d\u8c61\uff0c\u4ee5\u514d\u89f8\u6cd5\u3002\u5728\u63a5\u6536\u8cc7\u8a0a\u540c\u6642\uff0c\u81ea\u5df1\u7684p.me\u4e0a\u4e5f\u6703\u5132\u5b58\u4e00\u4efd\u8cc7\u6599\uff0c\u8acb\u4f7f\u7528\u8005\u81ea\u884c\u659f\u914c\u7be9\u9078\u63a5\u6536\u8cc7\u8a0a\u7684\u5c0d\u8c61\uff08\u5982\u52a0\u5165\u7684\u7fa4\u7d44\u3001\u804a\u5929\u7684\u670b\u53cb\uff09\u3002","privacy-modal.content2":"PTT.ai\u81f4\u529b\u9075\u5b88\u4e4bGDPR\u91cd\u8981\u898f\u7bc4\u8207\u539f\u5247\u3002\u672a\u7d93\u4f7f\u7528\u8005\u540c\u610f\uff0c\u672c\u5718\u968a\u4e0d\u6703\u8490\u96c6\uff0f\u8655\u7406\uff0f\u5229\u7528p.me\u4e0a\u7684\u300c\u4efb\u4f55\u8cc7\u6599\u300d\uff0c\u4ea6\u4e0d\u6703\u81ea\u52d5\u50b3\u9001\u533f\u540d\u7cfb\u7d71\u8cc7\u8a0a\u3002\u5982\u679c\u60a8\u9858\u610f\u5206\u4eab\u4f7f\u7528\u884c\u70ba\uff08\u5982Google Analytics\uff09\u4f86\u8b93PTT.ai\u8b8a\u5f97\u66f4\u597d\uff0c\u8acb\u6309\u540c\u610f\uff1b\u82e5\u4e0d\u540c\u610f\uff0c\u6211\u5011\u5c07\u5b8c\u5168\u5c0a\u91cd\u60a8\u7684\u9078\u64c7\u3001\u4e0d\u6536\u96c6\u60a8\u7684\u4f7f\u7528\u884c\u70ba\uff0c\u4e5f\u6b61\u8fce\u60a8\u7e7c\u7e8c\u4f7f\u7528 PTT.ai\u3002PTT.ai\u76ee\u524d\u6301\u7e8c\u958b\u767c\u4e2d\uff0c\u7121\u6cd5\u4fdd\u8b49\u6240\u5217\u529f\u80fd\u65bc\u6240\u6709\u6642\u9593\u90fd\u5b8c\u6574\u904b\u4f5c\u3001\u4e5f\u4e0d\u70ba\u8edf\u9ad4\u9810\u671f\u5916\u884c\u70ba\u8ca0\u8cac\u3002\u6b61\u8fce\u4f7f\u7528\u8005\u56de\u5831\u8207\u5efa\u8b70\uff0c\u672c\u5718\u968a\u6703\u6301\u7e8c\u6539\u9032\u3002","privacy-modal.content3":"\u4ee5\u4e0a\u8a73\u60c5\u8acb\u898b","privacy-modal.content4":"\u5982\u679c\u60a8\u9858\u610f\u5206\u4eab\u4f60\u7684\u4f7f\u7528\u8005\u884c\u70ba\uff08\u5982 google analytics\uff09\u4f86\u8b93 PTT.ai \u8b8a\u5f97\u66f4\u597d\uff0c\u8acb\u6309\u540c\u610f\uff1b\u82e5\u4e0d\u540c\u610f\uff0c\u6211\u5011\u5c07\u5b8c\u5168\u5c0a\u91cd\u60a8\u7684\u9078\u64c7\u3001\u4e0d\u6536\u96c6\u60a8\u7684\u4f7f\u7528\u884c\u70ba\uff0c\u4e5f\u6b61\u8fce\u60a8\u7e7c\u7e8c\u4f7f\u7528 PTT.ai\u3002"}},31:function(e,t,a){e.exports={root:"ArticleListComponent_root__3zuTV",list:"ArticleListComponent_list__3LaHg","list-item":"ArticleListComponent_list-item__31SoA",read:"ArticleListComponent_read__29L45",unread:"ArticleListComponent_unread__2yqwJ","list-item-blocker":"ArticleListComponent_list-item-blocker__-0j6W","list-item-menu":"ArticleListComponent_list-item-menu__ix_kT","list-item-menu-slider":"ArticleListComponent_list-item-menu-slider__ZnsuU","list-item-menu-item":"ArticleListComponent_list-item-menu-item__12Qt7","no-content-message":"ArticleListComponent_no-content-message__2QZiN","list-item-author":"ArticleListComponent_list-item-author__VOGmq","list-item-author-pic":"ArticleListComponent_list-item-author-pic__26Jqn","list-item-author-name":"ArticleListComponent_list-item-author-name__1NPqz","list-item-main":"ArticleListComponent_list-item-main__2ssmI","list-item-header":"ArticleListComponent_list-item-header__IFhKm","list-item-title":"ArticleListComponent_list-item-title__2q8ac","list-item-time":"ArticleListComponent_list-item-time__1SXIo","list-item-content":"ArticleListComponent_list-item-content__2IjRs","list-item-meta":"ArticleListComponent_list-item-meta__1QhFs","list-item-status":"ArticleListComponent_list-item-status__3nuUJ","list-item-status-pre-alive":"ArticleListComponent_list-item-status-pre-alive__1HWlb","list-item-status-alive":"ArticleListComponent_list-item-status-alive__EWCzt","list-item-status-failed":"ArticleListComponent_list-item-status-failed__2GgMm","list-item-status-post-failed":"ArticleListComponent_list-item-status-post-failed__H07Z1","list-item-circle":"ArticleListComponent_list-item-circle__3XO7o",loader:"ArticleListComponent_loader__2Xfsv"}},311:function(e,t,a){e.exports={root:"HubPage_root__1SUE1"}},312:function(e,t,a){e.exports={root:"BoardPage_root__13jpo"}},313:function(e,t,a){e.exports={root:"FriendListPage_root__3WbV0"}},314:function(e,t,a){e.exports={root:"FriendChatPage_root__1dl6d"}},315:function(e,t,a){e.exports={overlay:"CreateArticleModal_overlay__256oA"}},316:function(e,t,a){e.exports={overlay:"EditArticleModal_overlay__3pp8F"}},32:function(e,t,a){e.exports={root:"FriendListComponent_root__1xFQa","no-content-message":"FriendListComponent_no-content-message__2lwkM",loader:"FriendListComponent_loader__3BAmX","list-item":"FriendListComponent_list-item__2Axuu","list-item-author":"FriendListComponent_list-item-author__tDAn8","list-item-author-pic":"FriendListComponent_list-item-author-pic__U8S7c","list-item-author-status":"FriendListComponent_list-item-author-status__2W8TJ","list-item-author-status-circle":"FriendListComponent_list-item-author-status-circle__34Zyj","pre-alive":"FriendListComponent_pre-alive__2VQeu",failed:"FriendListComponent_failed__3rRPu","list-item-author-status-circle-post":"FriendListComponent_list-item-author-status-circle-post__waYo3","list-item-main":"FriendListComponent_list-item-main__1i15n","list-item-header":"FriendListComponent_list-item-header__5mK65","list-item-title":"FriendListComponent_list-item-title__15TbD","list-item-time":"FriendListComponent_list-item-time__2ck2L","list-item-meta":"FriendListComponent_list-item-meta__3qpgh","list-item-circle":"FriendListComponent_list-item-circle__17NqE",unread:"FriendListComponent_unread__1jqbx","list-item-description":"FriendListComponent_list-item-description__1u6-C","list-item-content":"FriendListComponent_list-item-content__fyB3S","spinner-item":"FriendListComponent_spinner-item__2r7Kl","list-item-ellipsis":"FriendListComponent_list-item-ellipsis__2bB1P","list-item-menu":"FriendListComponent_list-item-menu__3Byxx","list-item-menu-item":"FriendListComponent_list-item-menu-item__XM20K","list-item-menu-item-text":"FriendListComponent_list-item-menu-item-text__1S_E6"}},320:function(e,t,a){e.exports={root:"NewsComponent_root__i4Mf9"}},328:function(e,t,a){e.exports=a(814)},34:function(e,t){e.exports={PTTAI_API_ROOT:"http://localhost:14779",PTTAI_APP_ROOT:"http://localhost:9774",PTTAI_URL_BASE:"",GA_TRACKING_ID:"UA-135901043-2"}},344:function(e,t){},35:function(e,t,a){e.exports={root:"AddDeviceScannerModal_root__1_fry","top-bar":"AddDeviceScannerModal_top-bar__1pdCy","prev-button":"AddDeviceScannerModal_prev-button__3JhKT",title:"AddDeviceScannerModal_title__2I1bV","null-space":"AddDeviceScannerModal_null-space__13ZqC","slide-list":"AddDeviceScannerModal_slide-list__1pZ2B",container:"AddDeviceScannerModal_container__34Sxp","p-key":"AddDeviceScannerModal_p-key__1Jyec","copy-button":"AddDeviceScannerModal_copy-button__2BhOi","text-value":"AddDeviceScannerModal_text-value__31XoJ","helper-text":"AddDeviceScannerModal_helper-text__2COmW","paste-area-pkey":"AddDeviceScannerModal_paste-area-pkey__3kJ0g","scan-btn-container":"AddDeviceScannerModal_scan-btn-container__6acwT","scan-btn":"AddDeviceScannerModal_scan-btn__3Bg-t","qr-code-scanner-container":"AddDeviceScannerModal_qr-code-scanner-container__1syDS","qr-code-scanner":"AddDeviceScannerModal_qr-code-scanner__1RCKd","qr-code-text":"AddDeviceScannerModal_qr-code-text__2U38t","paste-area-node-id":"AddDeviceScannerModal_paste-area-node-id__sKgeL","action-section":"AddDeviceScannerModal_action-section__fMHRP","submit-button":"AddDeviceScannerModal_submit-button__3WCtI"}},350:function(e,t){},39:function(e,t,a){e.exports={root:"BoardListComponent_root__u-b35","no-content-message":"BoardListComponent_no-content-message__2GiZi",list:"BoardListComponent_list__1Ac4s","list-item":"BoardListComponent_list-item__I-xIL",read:"BoardListComponent_read__2qlxO",unread:"BoardListComponent_unread__3HOu2","list-item-hidden":"BoardListComponent_list-item-hidden__2IsmU","list-item-label-green":"BoardListComponent_list-item-label-green__2A9x0","list-item-label-yellow":"BoardListComponent_list-item-label-yellow__1xH6E","list-item-title-wrapper":"BoardListComponent_list-item-title-wrapper__rSjFT","list-item-board-status":"BoardListComponent_list-item-board-status__1gR68","list-item-board-status-pre-alive":"BoardListComponent_list-item-board-status-pre-alive__2Q-9q","list-item-board-status-alive":"BoardListComponent_list-item-board-status-alive__2iG6f","list-item-board-status-failed":"BoardListComponent_list-item-board-status-failed__26ID7","list-item-board-status-post-failed":"BoardListComponent_list-item-board-status-post-failed__MXNmX","list-item-title":"BoardListComponent_list-item-title__1QYre","list-item-meta":"BoardListComponent_list-item-meta__2V9Iu","list-item-space":"BoardListComponent_list-item-space__1r-j4","list-item-time":"BoardListComponent_list-item-time__3ZTYp","list-item-author":"BoardListComponent_list-item-author__1tbTl","spinner-item":"BoardListComponent_spinner-item__2X0_e","list-item-edit-button":"BoardListComponent_list-item-edit-button__1tWSa","list-item-ellipsis":"BoardListComponent_list-item-ellipsis__3WBbO",loader:"BoardListComponent_loader__1x5Vj"}},40:function(e,t,a){e.exports={root:"AddFriendModal_root__5nDjc","tab-pages-container":"AddFriendModal_tab-pages-container__3XE1i","tab-pages":"AddFriendModal_tab-pages__3N4RJ","tab-pages-title":"AddFriendModal_tab-pages-title__B3IBP","switcher-item-container":"AddFriendModal_switcher-item-container__1bW_C","switcher-item":"AddFriendModal_switcher-item__AV6i7","active-switcher-item":"AddFriendModal_active-switcher-item__1lHJ1","tab-page-container":"AddFriendModal_tab-page-container__iaYhK","tab-page":"AddFriendModal_tab-page__1p56s","tab-page-submit":"AddFriendModal_tab-page-submit__mPO8r","tab-page-cancel":"AddFriendModal_tab-page-cancel__1B3i_","qr-code-container":"AddFriendModal_qr-code-container__xSA3j","copy-button":"AddFriendModal_copy-button__2fvdb","tab-page-node-id":"AddFriendModal_tab-page-node-id__2gNDa"}},453:function(e,t){},471:function(e,t){},472:function(e,t){},473:function(e,t){},48:function(e,t,a){e.exports={"submodal-wrapper":"QRScannerSubmodal_submodal-wrapper__2PnwN","scanner-btn":"QRScannerSubmodal_scanner-btn__16lQu","scanner-btn-container":"QRScannerSubmodal_scanner-btn-container__3WZPq","scanner-container":"QRScannerSubmodal_scanner-container__23LKz",scanner:"QRScannerSubmodal_scanner__1kugd","scanner-text":"QRScannerSubmodal_scanner-text__1lUDU"}},488:function(e,t){},49:function(e,t,a){e.exports={root:"NewsListComponent_root__unyM0","list-item":"NewsListComponent_list-item__3Lnr4","no-content-message":"NewsListComponent_no-content-message__1nZIQ","list-item-author":"NewsListComponent_list-item-author__2nwAs","list-item-author-pic":"NewsListComponent_list-item-author-pic__p_qYb","list-item-author-name":"NewsListComponent_list-item-author-name__3LYpr","list-item-main":"NewsListComponent_list-item-main__3Nb_c","list-item-header":"NewsListComponent_list-item-header__2qBrA","list-item-title":"NewsListComponent_list-item-title__2XOn2","list-item-title-unread":"NewsListComponent_list-item-title-unread__Cdjf2","list-item-time":"NewsListComponent_list-item-time__D0juX","list-item-boardname":"NewsListComponent_list-item-boardname__1T-K8","list-item-board-tag":"NewsListComponent_list-item-board-tag__3StCV","list-item-content":"NewsListComponent_list-item-content__2ACUE","spinner-item":"NewsListComponent_spinner-item__33WWe"}},50:function(e,t,a){e.exports={root:"Navigator_root__2wAUH",collapsed:"Navigator_collapsed__3JBAg",content:"Navigator_content__UaYX_","content-selected":"Navigator_content-selected__1XjV6","content-block":"Navigator_content-block__-f27m","content-not-selected":"Navigator_content-not-selected__VPpQm",tabs:"Navigator_tabs__dpopv",inactive:"Navigator_inactive__3-sWz","tab1-icon":"Navigator_tab1-icon__3BSB5",active:"Navigator_active__uzg1l","tab2-icon":"Navigator_tab2-icon__1P57O",unread:"Navigator_unread__1AtBr","tab1-text":"Navigator_tab1-text__37QVN","tab2-text":"Navigator_tab2-text__3a1pP"}},53:function(e,t,a){e.exports={root:"ManageBoardModal_root__3NyYy","modal-bar":"ManageBoardModal_modal-bar__37NYH","prev-arrow":"ManageBoardModal_prev-arrow__38uUA","prev-arrow-icon":"ManageBoardModal_prev-arrow-icon__7zNBI","edit-name":"ManageBoardModal_edit-name__2T12d","action-section":"ManageBoardModal_action-section__3452c","submit-button":"ManageBoardModal_submit-button__2eA6k","submit-icon-subcontainer":"ManageBoardModal_submit-icon-subcontainer__KVjOU","submit-icon":"ManageBoardModal_submit-icon__2AEqK",overlay:"ManageBoardModal_overlay__2GI0I"}},54:function(e,t,a){e.exports={root:"AddDeviceModal_root__1wWh7","top-bar":"AddDeviceModal_top-bar__Rzy23","prev-button":"AddDeviceModal_prev-button__3wkm9",title:"AddDeviceModal_title__2favo","null-space":"AddDeviceModal_null-space__30kWx",content:"AddDeviceModal_content__loIyf","content-title":"AddDeviceModal_content-title__1efAC","qr-code":"AddDeviceModal_qr-code__3cntq","node-id":"AddDeviceModal_node-id__3wjI1",expiration:"AddDeviceModal_expiration__30QJU","copy-button":"AddDeviceModal_copy-button__29XBN","text-value":"AddDeviceModal_text-value__2W36z","helper-text":"AddDeviceModal_helper-text__3pdsF"}},55:function(e,t,a){e.exports={root:"FriendChatBar_root__4Ozdn",content:"FriendChatBar_content__9gI3r","prev-button":"FriendChatBar_prev-button__KkMig","prev-button-icon":"FriendChatBar_prev-button-icon__844rW","main-content":"FriendChatBar_main-content__91LPg","profile-pic":"FriendChatBar_profile-pic__3OVfT","friend-content":"FriendChatBar_friend-content__ifSOa",name:"FriendChatBar_name__1c0bK",job:"FriendChatBar_job__3Rvs2",description:"FriendChatBar_description__34J4E","menu-wrapper":"FriendChatBar_menu-wrapper__16mQj",menu:"FriendChatBar_menu__-umpo"}},60:function(e,t,a){e.exports={root:"PttaiEditor_root__MAAkT","title-section":"PttaiEditor_title-section__2IcHZ","prev-arrow":"PttaiEditor_prev-arrow__3A40F",space:"PttaiEditor_space__1xzS5","title-text":"PttaiEditor_title-text__1xw4f","pttai-editor-content":"PttaiEditor_pttai-editor-content__VeLWt","action-section":"PttaiEditor_action-section__1O8mW","upload-button":"PttaiEditor_upload-button__3KLV-","delete-button":"PttaiEditor_delete-button__2uXbZ","submit-button":"PttaiEditor_submit-button__3qbwV"}},70:function(e,t,a){e.exports={root:"BoardBar_root__3cg-Y",content:"BoardBar_content__12weD","prev-button":"BoardBar_prev-button__3b95-","prev-button-icon":"BoardBar_prev-button-icon__31x2U","prev-button-text":"BoardBar_prev-button-text__3Tr1i","board-name":"BoardBar_board-name__253Ye",search:"BoardBar_search__228Zk","list-item-ellipsis":"BoardBar_list-item-ellipsis__1vNEZ"}},71:function(e,t,a){e.exports={root:"AddKnownBoardModal_root__f3ovG","profile-title":"AddKnownBoardModal_profile-title__3iaNp","profile-input":"AddKnownBoardModal_profile-input__3ngV0","action-section":"AddKnownBoardModal_action-section__1G_lt","close-button":"AddKnownBoardModal_close-button__1F6jK","submit-button":"AddKnownBoardModal_submit-button__V1cCL","add-known-board-container":"AddKnownBoardModal_add-known-board-container__23WwB","add-known-board":"AddKnownBoardModal_add-known-board__1Bqz1","add-known-board-title":"AddKnownBoardModal_add-known-board-title__3CC2M","add-known-board-scanner-container":"AddKnownBoardModal_add-known-board-scanner-container__me0FM","scan-btn-container":"AddKnownBoardModal_scan-btn-container__2mNWL","scan-btn":"AddKnownBoardModal_scan-btn__3dEdg","submodal-qr-code-scanner":"AddKnownBoardModal_submodal-qr-code-scanner__1cnZ7","submodal-qr-code-text":"AddKnownBoardModal_submodal-qr-code-text__zFC4a","add-known-board-node-id":"AddKnownBoardModal_add-known-board-node-id__2mqJ2","add-known-board-action-section":"AddKnownBoardModal_add-known-board-action-section__2swFG","add-known-board-submit":"AddKnownBoardModal_add-known-board-submit__2EmZK","add-known-board-cancel":"AddKnownBoardModal_add-known-board-cancel__r0CO7",overlay:"AddKnownBoardModal_overlay__2y1KK"}},75:function(e,t,a){e.exports={root:"AlertComponent_root__vbwsK",message:"AlertComponent_message__2FvY9","action-section":"AlertComponent_action-section__1popZ",close:"AlertComponent_close__rbh9E",confirm:"AlertComponent_confirm__3m7Sp",overlay:"AlertComponent_overlay__3r6w4"}},76:function(e,t,a){e.exports={root:"ArticleBar_root__2ia4V",content:"ArticleBar_content__1KqMz","prev-button":"ArticleBar_prev-button__1wKH6","prev-button-icon":"ArticleBar_prev-button-icon__wZasT","menu-button":"ArticleBar_menu-button__3Cjk_","menu-button-icon":"ArticleBar_menu-button-icon__2coK4","prev-tag":"ArticleBar_prev-tag__-RtFM",caret:"ArticleBar_caret__adRSX","board-name":"ArticleBar_board-name__2cv4O"}},77:function(e,t,a){e.exports={root:"ProfilePage_root__37HlZ",collapsed:"ProfilePage_collapsed__1Yw7j",content:"ProfilePage_content__3Q0vh","profile-picture":"ProfilePage_profile-picture__1Skti","profile-description":"ProfilePage_profile-description__3ogwm",name:"ProfilePage_name__1AsRq","profile-latest":"ProfilePage_profile-latest__1vz6E","profile-latest-active":"ProfilePage_profile-latest-active__2yUHP","profile-qr-code":"ProfilePage_profile-qr-code__ZAQ17"}},78:function(e,t,a){e.exports={root:"NewsBar_root__1iYKg",content:"NewsBar_content__kDVRx","prev-button":"NewsBar_prev-button__3THUF","prev-button-icon":"NewsBar_prev-button-icon__2GYik","prev-button-text":"NewsBar_prev-button-text__LRzl_","board-name":"NewsBar_board-name__JftlM",search:"NewsBar_search__1fh4w"}},810:function(e,t,a){},814:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"myClass",function(){return Bn}),a.d(n,"myDuck",function(){return Rn}),a.d(n,"init",function(){return Wn}),a.d(n,"getBoardList",function(){return Yn}),a.d(n,"getMoreBoards",function(){return Zn}),a.d(n,"_addMoreBoards",function(){return Qn}),a.d(n,"setBoardName",function(){return $n}),a.d(n,"addBoard",function(){return nr}),a.d(n,"_addBoard",function(){return or}),a.d(n,"joinBoard",function(){return ir}),a.d(n,"deleteBoard",function(){return lr}),a.d(n,"_deleteBoard",function(){return dr}),a.d(n,"preprocessSetStartLoading",function(){return mr}),a.d(n,"postprocessSetFinshLoading",function(){return ur}),a.d(n,"clearData",function(){return pr}),a.d(n,"default",function(){return gr});var r={};a.r(r),a.d(r,"myClass",function(){return vr}),a.d(r,"myDuck",function(){return hr}),a.d(r,"openModal",function(){return Cr}),a.d(r,"closeModal",function(){return Er}),a.d(r,"setSubmit",function(){return Mr}),a.d(r,"setInput",function(){return Sr}),a.d(r,"default",function(){return Or});var o={};a.r(o),a.d(o,"myClass",function(){return Wr}),a.d(o,"myDuck",function(){return Yr}),a.d(o,"init",function(){return so}),a.d(o,"initParams",function(){return lo}),a.d(o,"getBoardInfo",function(){return co}),a.d(o,"inviteFriend",function(){return uo}),a.d(o,"setBoardName",function(){return fo}),a.d(o,"markBoard",function(){return vo}),a.d(o,"leaveBoard",function(){return bo}),a.d(o,"deleteBoard",function(){return yo}),a.d(o,"removeMember",function(){return Co}),a.d(o,"getArticleList",function(){return Mo}),a.d(o,"_insertSummaries",function(){return To}),a.d(o,"getMoreArticles",function(){return No}),a.d(o,"_prependArticles",function(){return Ao}),a.d(o,"_appendArticles",function(){return jo}),a.d(o,"addArticle",function(){return Lo}),a.d(o,"_addArticle",function(){return wo}),a.d(o,"deleteArticle",function(){return Po}),a.d(o,"_deteleArticle",function(){return Ro}),a.d(o,"clearData",function(){return xo}),a.d(o,"createArticleWithAttachments",function(){return Jo}),a.d(o,"default",function(){return Go});var i={};a.r(i),a.d(i,"myClass",function(){return li}),a.d(i,"myDuck",function(){return ci}),a.d(i,"init",function(){return yi}),a.d(i,"initParams",function(){return Ii}),a.d(i,"getBoardInfo",function(){return Ci}),a.d(i,"getArticleInfo",function(){return Mi}),a.d(i,"markArticle",function(){return Oi}),a.d(i,"getArticleContent",function(){return Ni}),a.d(i,"_appendArticle",function(){return Ai}),a.d(i,"getCommentContent",function(){return ji}),a.d(i,"_appendComment",function(){return ki}),a.d(i,"getMoreComments",function(){return wi}),a.d(i,"editArticle",function(){return Bi}),a.d(i,"deleteArticle",function(){return Ri}),a.d(i,"addComment",function(){return Fi}),a.d(i,"_addComment",function(){return qi}),a.d(i,"deleteComment",function(){return Ji}),a.d(i,"_deleteComment",function(){return Hi}),a.d(i,"clearData",function(){return Vi}),a.d(i,"downloadFile",function(){return zi}),a.d(i,"createArticleWithAttachments",function(){return Qi}),a.d(i,"default",function(){return $i});var s={};a.r(s),a.d(s,"myClass",function(){return rs}),a.d(s,"myDuck",function(){return os}),a.d(s,"init",function(){return us}),a.d(s,"default",function(){return ps});var l={};a.r(l),a.d(l,"myClass",function(){return Ss}),a.d(l,"myDuck",function(){return Os}),a.d(l,"init",function(){return Rs}),a.d(l,"getFriendList",function(){return Fs}),a.d(l,"getMoreFriendlist",function(){return qs}),a.d(l,"_prependFriends",function(){return Gs}),a.d(l,"_appendFriends",function(){return Hs}),a.d(l,"addFriend",function(){return Vs}),a.d(l,"_addNewFriend",function(){return Ws}),a.d(l,"deleteFriend",function(){return Ys}),a.d(l,"_deleteFriend",function(){return Zs}),a.d(l,"getKeyInfo",function(){return Xs}),a.d(l,"clearData",function(){return tl}),a.d(l,"default",function(){return nl});var c={};a.r(c),a.d(c,"myClass",function(){return Il}),a.d(c,"myDuck",function(){return Cl}),a.d(c,"init",function(){return kl}),a.d(c,"initParams",function(){return wl}),a.d(c,"getFriend",function(){return Pl}),a.d(c,"markChat",function(){return Rl}),a.d(c,"getMessageList",function(){return Kl}),a.d(c,"getMoreMessageList",function(){return Yl}),a.d(c,"_prependMessages",function(){return Zl}),a.d(c,"_appendMessages",function(){return Xl}),a.d(c,"postMessage",function(){return Ql}),a.d(c,"_addMessage",function(){return ec}),a.d(c,"clearData",function(){return tc}),a.d(c,"getBoardList",function(){return oc}),a.d(c,"deleteFriend",function(){return sc}),a.d(c,"joinBoard",function(){return cc}),a.d(c,"default",function(){return dc});var d={};a.r(d),a.d(d,"myClass",function(){return gc}),a.d(d,"myDuck",function(){return vc}),a.d(d,"init",function(){return Ec}),a.d(d,"getFriendList",function(){return Mc}),a.d(d,"default",function(){return Oc});var m={};a.r(m),a.d(m,"myClass",function(){return jc}),a.d(m,"myDuck",function(){return Lc}),a.d(m,"init",function(){return Fc}),a.d(m,"getBoardInfo",function(){return Uc}),a.d(m,"getBoardJoinKey",function(){return Jc}),a.d(m,"default",function(){return Hc});var u={};a.r(u),a.d(u,"myClass",function(){return zc}),a.d(u,"myDuck",function(){return Zc}),a.d(u,"init",function(){return nd}),a.d(u,"getBoardInfo",function(){return rd}),a.d(u,"getMemberList",function(){return id}),a.d(u,"default",function(){return ld});var p={};a.r(p),a.d(p,"myClass",function(){return fd}),a.d(p,"myDuck",function(){return gd}),a.d(p,"init",function(){return Cd}),a.d(p,"getBoardInfo",function(){return Ed}),a.d(p,"getBoardJoinKey",function(){return Sd}),a.d(p,"getFriendList",function(){return Td}),a.d(p,"sendFriendInvite",function(){return Dd}),a.d(p,"default",function(){return jd});var f={};a.r(f),a.d(f,"myClass",function(){return Hd}),a.d(f,"myDuck",function(){return Vd}),a.d(f,"init",function(){return Qd}),a.d(f,"default",function(){return $d});var g={};a.r(g),a.d(g,"myClass",function(){return _m}),a.d(g,"myDuck",function(){return ym}),a.d(g,"init",function(){return Tm}),a.d(g,"default",function(){return Nm});var v={};a.r(v),a.d(v,"myClass",function(){return qm}),a.d(v,"myDuck",function(){return Jm}),a.d(v,"init",function(){return zm}),a.d(v,"default",function(){return Zm});var h={};a.r(h),a.d(h,"myClass",function(){return nu}),a.d(h,"myDuck",function(){return ru}),a.d(h,"init",function(){return uu}),a.d(h,"getProfile",function(){return pu}),a.d(h,"editProfile",function(){return gu}),a.d(h,"editName",function(){return hu}),a.d(h,"editProfileImg",function(){return _u}),a.d(h,"default",function(){return Iu});var b={};a.r(b),a.d(b,"myClass",function(){return Nu}),a.d(b,"myDuck",function(){return Du}),a.d(b,"init",function(){return Bu}),a.d(b,"default",function(){return Ru});var _={};a.r(_),a.d(_,"myClass",function(){return tp}),a.d(_,"myDuck",function(){return ap}),a.d(_,"init",function(){return cp}),a.d(_,"default",function(){return mp});var y={};a.r(y),a.d(y,"myClass",function(){return vp}),a.d(y,"myDuck",function(){return hp}),a.d(y,"init",function(){return Mp}),a.d(y,"default",function(){return Op});var I={};a.r(I),a.d(I,"myClass",function(){return kp}),a.d(I,"myDuck",function(){return wp}),a.d(I,"init",function(){return qp}),a.d(I,"default",function(){return Jp});var C={};a.r(C),a.d(C,"myClass",function(){return zp}),a.d(C,"myDuck",function(){return Zp}),a.d(C,"init",function(){return nf}),a.d(C,"default",function(){return rf});var E={};a.r(E),a.d(E,"myClass",function(){return uf}),a.d(E,"myDuck",function(){return pf}),a.d(E,"init",function(){return yf}),a.d(E,"default",function(){return If});var M={};a.r(M),a.d(M,"myClass",function(){return Of}),a.d(M,"myDuck",function(){return Tf}),a.d(M,"init",function(){return wf}),a.d(M,"default",function(){return Pf});var S={};a.r(S),a.d(S,"myClass",function(){return Uf}),a.d(S,"myDuck",function(){return qf}),a.d(S,"init",function(){return Yf}),a.d(S,"default",function(){return zf});var O={};a.r(O),a.d(O,"myClass",function(){return eg}),a.d(O,"myDuck",function(){return tg}),a.d(O,"init",function(){return lg}),a.d(O,"default",function(){return cg});var T={};a.r(T),a.d(T,"myClass",function(){return ug}),a.d(T,"myDuck",function(){return pg}),a.d(T,"init",function(){return yg}),a.d(T,"default",function(){return Ig});var N={};a.r(N),a.d(N,"myClass",function(){return Mg}),a.d(N,"myDuck",function(){return Sg}),a.d(N,"init",function(){return Lg}),a.d(N,"default",function(){return kg});var D={};a.r(D),a.d(D,"myClass",function(){return Bg}),a.d(D,"myDuck",function(){return Rg}),a.d(D,"init",function(){return Hg}),a.d(D,"default",function(){return Vg});var A={};a.r(A),a.d(A,"myClass",function(){return nv}),a.d(A,"myDuck",function(){return rv}),a.d(A,"init",function(){return mv}),a.d(A,"default",function(){return uv});var j={};a.r(j),a.d(j,"myClass",function(){return hv}),a.d(j,"myDuck",function(){return bv}),a.d(j,"init",function(){return Sv}),a.d(j,"getOpLogs",function(){return Tv}),a.d(j,"default",function(){return Dv});var L={};a.r(L),a.d(L,"myClass",function(){return Jv}),a.d(L,"myDuck",function(){return Gv}),a.d(L,"init",function(){return Xv}),a.d(L,"getUserInfo",function(){return $v}),a.d(L,"getKeyInfo",function(){return ah}),a.d(L,"getDeviceInfo",function(){return rh}),a.d(L,"editName",function(){return ih}),a.d(L,"addDevice",function(){return lh}),a.d(L,"getLatestArticles",function(){return uh}),a.d(L,"getLogLastSeen",function(){return fh}),a.d(L,"markLogSeen",function(){return gh}),a.d(L,"fetchLatestMessage",function(){return hh}),a.d(L,"getFriendListSeen",function(){return _h}),a.d(L,"markFriendListSeen",function(){return yh}),a.d(L,"default",function(){return Ch});var k=a(0),w=a.n(k),P=a(51),B=a.n(P),R=a(16),x=a(327),F=a(2),U=a(34),q=a.n(U),J=a(36),G=a(88),H=a(5),V=a(8),K=a(9),W=a(11),Y=a(7),z=a(6),Z=a(10),X=a(13),Q=a(4),$=a.n(Q),ee=a(142),te=a(298),ae=a.n(te),ne=a(299),re=a.n(ne),oe=ae.a.bind(re.a),ie=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){return w.a.createElement("div",{className:oe("hide")})}}]),t}(k.PureComponent),se=a(50),le=a.n(se),ce=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.hubHasUnread,a=e.friendListHasUnread,n=e.onHubClicked,r=e.onFriendClicked,o=e.isChatRoom,i=le.a.root;o&&(i+=" "+le.a.collapsed);var s="inactive",l="inactive";0===this.props.match.url.indexOf("/hub")||0===this.props.match.url.indexOf("/board")?s="active":l="active";var c=[le.a[s]],d=[le.a[l]];return t&&(c+=" "+le.a.unread),a&&(d+=" "+le.a.unread),w.a.createElement("div",{className:i},w.a.createElement("div",{className:le.a.content},w.a.createElement("ul",{className:le.a.tabs},w.a.createElement("li",{className:d,onClick:r},w.a.createElement(J.b,{id:"friend-tab",to:"/friend",className:le.a["content-block"]},w.a.createElement("div",{className:le.a["tab2-icon"]}),w.a.createElement("div",{className:le.a["tab2-text"]},w.a.createElement(F.a,{id:"navigator.tab2",defaultMessage:"Friends"})))),w.a.createElement("li",{className:c,onClick:n},w.a.createElement(J.b,{to:"/hub",className:le.a["content-block"]},w.a.createElement("div",{className:le.a["tab1-icon"]}),w.a.createElement("div",{className:le.a["tab1-text"]},w.a.createElement(F.a,{id:"navigator.tab1",defaultMessage:"Latest"})))))))}}]),t}(k.PureComponent),de=a(44),me=a(42),ue=a(139),pe=a.n(ue),fe=a(301),ge=a.n(fe),ve=(a(302),a(303)),he=a.n(ve),be=a(27),_e=a.n(be),ye=a(304),Ie=a.n(ye),Ce=a(52),Ee=a.n(Ce),Me="",Se="".concat(U.PTTAI_URL_BASE,"/images/icon_avatar@2x.png"),Oe={name:"guest",userImg:Se,company:"",description:"",email:"",jobTitle:"",phone:""},Te=100,Ne="SHOW_PTT_MASTER_TAB",De="SHOW_PTT_ME_TAB",Ae="SHOW_CONTENT_BOARD_TAB",je="SHOW_CONTENT_OPKEY_TAB",Le="SHOW_CONTENT_MASTER_TAB",ke="SHOW_CONTENT_MEMBER_TAB",we="SHOW_FRIEND_FRIEND_TAB",Pe="SHOW_FRIEND_MASTER_TAB",Be="SHOW_FRIEND_MEMBER_TAB",Re="SHOW_FRIEND_OPKEY_TAB",xe="SHOW_PTT_PEERS_TAB",Fe="SHOW_CONTENT_PEERS_TAB",Ue="SHOW_FRIEND_PEERS_TAB",qe="SHOW_LAST_ANNOUNCE_P2P_TAB",Je="TEXT",Ge="IMAGE",He="FILE",Ve=["PeerTypeErr","PeerTypeRemoved","PeerTypeRandom","PeerTypePending","PeerTypeMember","PeerTypeImportant","PeerTypeHub","PeerTypeMe","NPeerType"],Ke=["MeOpTypeInvalid","MeOpTypeCreateMe","MeOpTypeSetNodeName","OffsetMeOpTypeEntity","MeOpTypeCreateBoard","MeOpTypeJoinBoard","MeOpTypeCreateFriend","MeOpTypeJoinFriend","MeOpTypeMigrateMe","MeOpTypeDeleteMe","NMeOpType"],We=["BoardOpTypeInvalid","BoardOpTypeCreateBoard","BoardOpTypeDeleteBoard","BoardOpTypeMigrateBoard","BoardOpTypeCreateTitle","BoardOpTypeUpdateTitle","BoardOpTypeCreateArticle","BoardOpTypeUpdateArticle","BoardOpTypeDeleteArticle","BoardOpTypeCreateMedia","BoardOpTypeDeleteMedia","BoardOpTypeCreateComment","BoardOpTypeDeleteComment","BoardOpTypeCreateReply","BoardOpTypeUpdateReply","BoardOpTypeDeleteReply","NBoardOpType"],Ye=["FriendOpTypeInvalid","FriendOpTypeCreateFriend","FriendOpTypeDeleteFriend","FriendOpTypeCreateMessage","FriendOpTypeCreateMedia","NFriendOpType"],ze=["StatusInvalid","StatusInit","StatusInternalSync","StatusInternalPending","StatusPending","StatusSync","StatusToBeSynced","StatusAlive","StatusFailed","StatusInternalDeleted","StatusInternalRevoke","StatusInternalTransfer","StatusInternalMigrate","StatusInternalTerminal","StatusPendingDeleted","StatusPendingRevoke","StatusPendingTransfer","StatusPendingMigrate","StatusPendingTerminal","StatusDeleted","StatusRevoked","StatusTransferred","StatusMigrated","StatusTerminal"],Ze=["JoinStatusPending","JoinStatusRequested","JoinStatusWaitAccepted","JoinStatusAccepted"],Xe=["NodeTypeUnknown","NodeTypeMobile","NodeTypeDesktop","NodeTypeServer"],Qe=a(305),$e=a.n(Qe),et=a(306),tt=a.n(et),at=a(307),nt=a(308);Object(F.c)([].concat(Object(me.a)($e.a),Object(me.a)(tt.a)));var rt={zh:at,en:nt},ot=function(){var e=navigator.language.split(/[-_]/)[0];return e in rt?e:"en"}(),it=rt[ot],st=new Set,lt=function(e){return'<div class="'.concat(e.fileClass,'" style="display: flex; flex-direction: row; font-family: sans-serif; width: calc(100vw - 16px); box-sizing: border-box; padding: 8px; border: solid 1px #bbbbbb; border-radius: 12px; margin: auto 0px; cursor: pointer;">\n                      <div class="attachment-icon" style="background-image: url(').concat(U.PTTAI_URL_BASE,'/images/icon_attach@2x.png); background-repeat: no-repeat; background-size: 50px; width: 50px; min-height:50px; min-width:50px; margin-right: 10px;">\n                      </div>\n                      <div class="attachment-meta" style="display: flex; flex-direction: column; width: calc(100% - 50px); ">\n                        <div class="attachment-title" title="').concat(e.fileName,'" style="padding:2px 5px; height: 20px; line-height: 24px; font-size: 16px; color: #484848; text-overflow: ellipsis; white-space: nowrap; overflow: hidden;">\n                          ').concat(e.fileName,'\n                        </div>\n                        <div class="attachment-size" style="padding:2px 5px; height: 20px; line-height: 24px; font-size: 13px; color: #b1b1b1;">\n                          ').concat(yt(e.fileSize),"\n                        </div>\n                      </div>\n                    </div>").replace(/\s+/g," ")},ct=function(e,t){var a=e.param;return(e.type===He?'<div style="display: flex; flex-direction: row;">\n                  <div style="background-image: url('.concat(U.PTTAI_URL_BASE,'/images/icon_attach@2x.png); background-repeat: no-repeat; background-size: 20px; width: 20px; min-height:20px; min-width:20px; margin-left: 5px; margin-right: 10px;">\n                  </div>\n                <div style="line-height: 20px; border-bottom: 0px solid #000;">\n                  ').concat(t.CreatorName," ").concat(it["summary-template.user-upload-file"],"</div>\n                </div>"):e.type===Ge?'<div style="display: flex; flex-direction: row;">\n                  <img src="'.concat(U.PTTAI_APP_ROOT+"/api/img/"+t.boardId+"/"+a.id,'" style="height: 20px; width: 20px; margin-right: 10px; margin-left: 5px; margin-top: 0px; margin-bottom: 0px; border-radius: 3px;">\n                  <div style="height: 20px; line-height: 20px; border-bottom: 0px solid #000;">\n                    ').concat(t.CreatorName," ").concat(it["summary-template.user-upload-image"],"\n                  </div>\n                </div>"):mt(e.content)).replace(/\s+/g," ")},dt=function(e){var t={};try{t=JSON.parse(e)}catch(a){return t}return t},mt=function(e){return Ie()(e,{allowedTags:["li","ol","ul","a","p","br"],allowedAttributes:{a:["href","target"]},allowedClasses:{li:["ql-indent-1","ql-indent-2","ql-indent-3"]}})},ut=function(e,t){return e.reduce(function(e,a,n){if(a.type===He){var r={fileId:a.param.id,fileClass:a.param.class,fileName:a.param.name,fileSize:a.param.size,fileType:a.param.type},o=document.createElement("iframe");return o.className="ql-attachment",o.srcdoc=lt(r),o.frameborder=0,o.allowfullscreen=!0,o.width="100%",o.height="84px",o.setAttribute("style","border-width: 0px"),o.setAttribute("data-id",r.fileId),o.setAttribute("data-class",r.fileClass),o.setAttribute("data-name",r.fileName),o.setAttribute("data-size",r.fileSize),o.setAttribute("data-type",r.fileType),e+o.outerHTML.replace(/\s\s+/g," ")}if(a.type===Ge){var i={imageId:a.param.id,imageClass:a.param.class},s=document.createElement("img");return s.src=U.PTTAI_APP_ROOT+"/api/img/"+t+"/"+i.imageId,s.alt="not working",s.style.width="100%",s.setAttribute("data-id",i.imageId),s.setAttribute("data-class",i.imageClass),e+s.outerHTML.replace(/\s\s+/g," ")}return a.type===Je?e+mt(a.content):e},"")},pt=function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t="";t=pe()(),e;)if(!st.has(t)){st.add(t);break}return t},ft=function(e){var t=e.app,a=t.get("rootId",""),n=t.get("rootClass",""),r=vt(n);return e[r]?e[r].get(a,$.a.Map()):$.a.Map()},gt=function(e,t){return e.getIn(["children",t,0],"")},vt=function(e){return ge()(e)},ht=function(e,t){return!!_e.a.unix(e).isAfter(_e.a.unix(t))},bt=function(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?);/)[1],r=atob(a[1]),o=r.length,i=new Uint8Array(o);o--;)i[o]=r.charCodeAt(o);return new File([i],t,{type:n})},_t=function(e){try{return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}catch(t){return""}},yt=function(e){if(0===e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]},It=function(e,t){var a=new FileReader;a.onload=function(e){var a=new DataView(e.target.result);if(65496!==a.getUint16(0,!1))return t(-2);for(var n=a.byteLength,r=2;r<n;){var o=a.getUint16(r,!1);if(r+=2,65505===o){if(1165519206!==a.getUint32(r+=2,!1))return t(-1);var i=18761===a.getUint16(r+=6,!1);r+=a.getUint32(r+4,i);var s=a.getUint16(r,i);r+=2;for(var l=0;l<s;l++)if(274===a.getUint16(r+12*l,i))return t(a.getUint16(r+12*l+8,i))}else{if(65280!==(65280&o))break;r+=a.getUint16(r,!1)}}return t(-1)},a.readAsArrayBuffer(e)},Ct=function(e,t,a){var n=a*Math.PI/180,r=Math.cos(n),o=Math.sin(n);return o<0&&(o=-o),r<0&&(r=-r),[t*o+e*r,t*r+e*o]},Et=function(e){return 0===e||e?e>23||e<0||!Number.isInteger(e)?"invalid":e>=0&&e<7?"pre-alive":7===e?"alive":8===e?"failed":"post-failed":"invalid"},Mt=function(e){return e?e.split(/\s/).map(function(e,t){if(n=e,new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(n)){var a=e;return/^http(s?):\/\//.test(e)||(a="//"+e),w.a.createElement("a",{key:t,href:a,rel:"noopener noreferrer",target:"_blank"},e)}var n;return w.a.createElement("span",{key:t},e)}).reduce(function(e,t){return null===e?[t]:[e," ",t]},null):""},St=function(){return-1!==Ee.a.description.indexOf("Mobile")||-1!==Ee.a.description.indexOf("Android")||-1!==Ee.a.description.indexOf("iOS")};_e.a.relativeTimeRounding(Math.floor),_e.a.relativeTimeThreshold("s",60),_e.a.relativeTimeThreshold("m",60),_e.a.relativeTimeThreshold("h",24),_e.a.relativeTimeThreshold("d",31),_e.a.relativeTimeThreshold("M",12),"zh"===ot?_e.a.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"Ah\u9edemm\u5206",LTS:"Ah\u9edem\u5206s\u79d2",L:"YYYY-MM-DD",LL:"YYYY\u5e74MMMD\u65e5",LLL:"YYYY\u5e74MMMD\u65e5Ah\u9edemm\u5206",LLLL:"YYYY\u5e74MMMD\u65e5ddddAh\u9edemm\u5206",l:"YYYY-MM-DD",ll:"YYYY\u5e74MMMD\u65e5",lll:"YYYY\u5e74MMMD\u65e5Ah\u9edemm\u5206",llll:"YYYY\u5e74MMMD\u65e5ddddAh\u9edemm\u5206"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?e:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,a){var n=100*e+t;return n<600?"\u51cc\u6668":n<900?"\u65e9\u4e0a":n<1130?"\u4e0a\u5348":n<1230?"\u4e2d\u5348":n<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:function(){return 0===this.minutes()?"[\u4eca\u5929]Ah[\u9ede\u6574]":"[\u4eca\u5929]LT"},nextDay:function(){return 0===this.minutes()?"[\u660e\u5929]Ah[\u9ede\u6574]":"[\u660e\u5929]LT"},lastDay:function(){return 0===this.minutes()?"[\u6628\u5929]Ah[\u9ede\u6574]":"[\u6628\u5929]LT"},nextWeek:function(){var e,t;return e=_e()().startOf("week"),t=this.unix()-e.unix()>=604800?"[\u4e0b]":"[\u672c]",0===this.minutes()?t+"dddAh\u9ede\u6574":t+"dddAh\u9edemm"},lastWeek:function(){var e,t;return e=_e()().startOf("week"),t=this.unix()<e.unix()?"[\u4e0a]":"[\u672c]",0===this.minutes()?t+"dddAh\u9ede\u6574":t+"dddAh\u9edemm"},sameElse:"LL"},ordinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u5468";default:return e}},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u5e7e\u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}}):_e.a.updateLocale("en",{ordinal:function(e,t){var a=e%10;return e+(1===~~(e%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")}});var Ot,Tt=function(e){var t=e.T+1e-9*e.NT;return _e.a.unix(t).format("YYYY-MM-DD HH:mm:ss.SSS")},Nt=function(e){return _e.a.unix(e).format("YYYY-MM-DD HH:mm:ss")},Dt=function(e){return"zh"===ot?_e.a.unix(e).format("a h:mm"):_e.a.unix(e).format("h:mm a")},At=function(e){var t=_e.a.unix(e),a=_e()(),n=t,r=a.clone().subtract(7,"days").startOf("day"),o=a.clone().subtract(1,"years").startOf("day");return!t.isAfter(r)&&t.isAfter(o)?"zh"===ot?(n=t.format("MoDo"),n=t.year()+1===a.year()?"\u53bb\u5e74"+n:n):n=t.format("MMM Do"):n=t.from(a),n},jt=function(e,t){var a="zh"===ot,n="";e&&t||(n=a?"\u65e5\u671f\u932f\u8aa4":"Wrong Date");var r=_e.a.unix(e).add(t,"seconds");if(_e()().isAfter(r))n=a?"\u5df2\u904e\u671f":"Expired";else{var o=r.toNow(!0);n=a?"".concat(o," \u5f8c\u904e\u671f"):"Expired in ".concat(o)}return n},Lt=function(e){return"zh"===ot?_e.a.unix(e).format("YYYY\u5e74MoDo"):_e.a.unix(e).format("YYYY-MM-D")},kt=a(39),wt=a.n(kt),Pt=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).onEditBoard=a.onEditBoard.bind(Object(z.a)(a)),a.handleScroll=a.handleScroll.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"onEditBoard",value:function(e,t){var a=this.props.manageBoard;e.preventDefault(),e.stopPropagation(),a(t)}},{key:"handleScroll",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.userId,n=t.listData,r=t.isLoading;if(t.noBoard)return w.a.createElement("div",{className:wt.a.root,onScroll:this.handleScroll,ref:function(t){e.scroller=t}},w.a.createElement("div",{className:wt.a["no-content-message"]},w.a.createElement(F.a,{id:"board-list-component.message",defaultMessage:"You have no group yet, click below button to add"})));var o=n.filter(function(e){return e.Status<ze.indexOf("StatusDeleted")});return w.a.createElement("div",{className:wt.a.root,onScroll:this.handleScroll,ref:function(t){e.scroller=t}},w.a.createElement("div",{className:wt.a.list},r?w.a.createElement("div",{className:wt.a.loader},w.a.createElement(de.ClipLoader,{color:"#aaa",size:35,loading:r})):null,o.map(function(e,t){var n,r=ht(e.ArticleCreateTS.T,e.LastSeen.T)?wt.a.unread:wt.a.read;return w.a.createElement("div",{className:"".concat(wt.a["list-item"]," ").concat(r),key:t},w.a.createElement("div",{className:wt.a["list-item-label"+(n=e,1===n.BoardType?n.CreatorID===a?"-green":"-yellow":"")]}),w.a.createElement(J.b,{to:"/board/".concat(encodeURIComponent(e.ID))},w.a.createElement("div",{title:ze[e.Status],className:wt.a["list-item-board-status"]},w.a.createElement("div",{className:wt.a["list-item-board-status-"+Et(e.Status)]})),w.a.createElement("div",{className:wt.a["list-item-title-wrapper"]},w.a.createElement("div",{className:wt.a["list-item-title"]},e.Title," ","JoinStatusAccepted"===Ze[e.joinStatus]?"":"("+Ze[e.joinStatus].slice(10)+")")),w.a.createElement("div",{className:wt.a["list-item-author"]},1===e.BoardType?w.a.createElement(F.a,{id:"board-list-component.board-type",defaultMessage:"[Personal] {name}",values:{name:e.creatorName}}):e.creatorName),w.a.createElement("div",{className:wt.a["list-item-meta"]},w.a.createElement("div",{className:wt.a["list-item-space"]}),w.a.createElement("div",{title:Lt(e.UpdateTS.T),className:wt.a["list-item-time"]},At(e.UpdateTS.T)),w.a.createElement("div",{className:wt.a["list-item-edit-button"]},null))))})))}}]),t}(k.PureComponent),Bt=a(91),Rt=a.n(Bt),xt=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.userId,a=e.userName,n=e.boardList,r=e.isLoading,o=e.noBoard,i=e.createBoardAction,s=e.manageBoardAction;return w.a.createElement("div",{className:Rt.a.root},w.a.createElement(Pt,{userId:t,userName:a,noBoard:o,listData:n,isLoading:r,manageBoard:s}),w.a.createElement("div",{className:Rt.a["add-icon-container"]},w.a.createElement("div",{className:Rt.a["add-icon-subcontainer"]},w.a.createElement("div",{className:Rt.a["add-icon-container"]},w.a.createElement("div",{className:Rt.a["add-icon-subcontainer"]},w.a.createElement("div",{className:Rt.a["add-icon"],onClick:i}))))))}}]),t}(k.PureComponent),Ft=a(18),Ut=a.n(Ft),qt=a(75),Jt=a.n(qt),Gt={content:{position:"absolute",padding:"20px 30px",backgroundColor:"#FFF",width:"90%",height:"auto",maxWidth:"400px",margin:"0px auto",top:"calc(50% - 100px)",left:"0px",right:"0px",bottom:"auto",border:"none",borderRadius:"5px",zIndex:40,boxShadow:"0 0 6px 0 rgba(0, 0, 0, 0.35)"}},Ht={content:{position:"absolute",padding:"0px",width:"100%",height:"auto",maxWidth:"414px",margin:"auto",top:"170px",left:"0px",right:"0px",bottom:"0px",border:"none",borderRadius:"0px",backgroundColor:"none",overflow:"none"}},Vt={content:{position:"absolute",padding:"0px",width:"100%",height:"auto",maxWidth:"414px",margin:"auto",top:"170px",left:"0px",right:"0px",bottom:"0px",border:"none",borderRadius:"0px",backgroundColor:"none",overflow:"none"}},Kt={content:{position:"absolute",padding:"0px",width:"100%",height:"auto",maxWidth:"414px",margin:"auto",top:"78px",left:"0px",right:"0px",bottom:"0px",border:"none",borderRadius:"5px",backgroundColor:"none"}},Wt={content:{position:"absolute",padding:"0px",width:"100%",height:"auto",maxWidth:"414px",margin:"auto",top:"78px",left:"0px",right:"0px",bottom:"0px",border:"none",borderRadius:"0px",backgroundColor:"none"}},Yt={content:{position:"relative",padding:"0px",height:"306px",width:"396px",maxWidth:"95%",margin:"auto",top:"calc(50% - 153px)",left:"0px",right:"0px",bottom:"0px",border:"none",borderRadius:"10px",boxShadow:"0 0 10px 0 rgba(0, 0, 0, 0.5)"}},zt={content:{position:"absolute",padding:"0px",width:"100%",height:"100%",maxWidth:"414px",margin:"0px auto",top:"0px",left:"0px",right:"0px",bottom:"0px",borderRadius:"0px",backgroundColor:"#4C474E"}},Zt={content:{position:"absolute",padding:"0px",width:"100%",height:"100%",maxWidth:"414px",margin:"0px auto",top:"0px",left:"0px",right:"0px",bottom:"0px",borderRadius:"0px",backgroundColor:"#4C474E",zIndex:40}},Xt={content:{position:"absolute",padding:"0px",width:"100%",height:"100%",maxWidth:"414px",margin:"0px auto",top:"0px",left:"0px",right:"0px",bottom:"0px",borderRadius:"0px",backgroundColor:"#4C474E",zIndex:40}},Qt={content:{position:"absolute",padding:"0px",backgroundColor:"#FFF",width:"90%",height:"calc(100% - 120px)",maxWidth:"calc(414px - 2px)",margin:"0px auto",top:"78px",left:"0px",right:"0px",bottom:"0px",border:"none",borderRadius:"5px",zIndex:40,boxShadow:"0 0 6px 0 rgba(0, 0, 0, 0.35)"}},$t={content:{position:"absolute",padding:"0px",width:"100%",height:"100%",maxWidth:"414px",margin:"0px auto",top:"0px",left:"0px",right:"0px",bottom:"0px",border:"none",borderRadius:"0px"}},ea={content:{position:"absolute",padding:"0px",width:"100%",height:"100%",maxWidth:"414px",margin:"0px auto",top:"0px",left:"0px",right:"0px",bottom:"0px",border:"none",borderRadius:"0px"}},ta={content:{position:"absolute",padding:"0px",width:"100%",height:"100%",maxWidth:"414px",margin:"0px auto",top:"0px",left:"0px",right:"0px",bottom:"0px",border:"none",borderRadius:"0px"}},aa={content:{position:"absolute",padding:"0px",backgroundColor:"#FFF",width:"100%",height:"100%",maxWidth:"414px",margin:"0px auto",top:"0px",left:"0px",right:"0px",bottom:"0px",border:"none",borderRadius:"0px"}},na={content:{position:"relative",padding:"0px",width:"90%",maxWidth:"400px",margin:"auto",top:"calc(50% - 127px)",left:"0px",right:"0px",bottom:"0px",border:"none",borderRadius:"5px",backgroundColor:"#FFFFFF",boxShadow:"0 0 6px 0 rgba(0, 0, 0, 0.35)"}},ra={content:{position:"absolute",padding:"0px",width:"90%",height:"255px",maxWidth:"400px",margin:"0px auto",top:"calc(50% - 127px)",left:"0px",right:"0px",bottom:"0px",border:"none",borderRadius:"5px",backgroundColor:"#FFFFFF",boxShadow:"0 0 6px 0 rgba(0, 0, 0, 0.35)"}},oa=function(e){function t(e,a){var n;return Object(V.a)(this,t),(n=Object(W.a)(this,Object(Y.a)(t).call(this,e,a))).handleDismiss=n.handleDismiss.bind(Object(z.a)(n)),n.handleShow=n.handleShow.bind(Object(z.a)(n)),n.state={show:e.show},n}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"handleDismiss",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"render",value:function(){var e=this.props,t=e.show,a=e.alertData,n=a.message,r=a.onClose,o=a.onConfirm;return w.a.createElement("div",{className:Jt.a.root},t?w.a.createElement(Ut.a,{overlayClassName:Jt.a.overlay,style:Gt,isOpen:t,onRequestClose:null,contentLabel:"Alert Modal"},w.a.createElement("div",{className:Jt.a.root},n?w.a.createElement("div",{className:Jt.a.message}," ",n," "):null,w.a.createElement("div",{className:Jt.a["action-section"]},r?w.a.createElement("div",{className:Jt.a.close,onClick:r},w.a.createElement(F.a,{id:"alert-component.action1",defaultMessage:"Cancel"})):null,o?w.a.createElement("div",{className:Jt.a.confirm,onClick:o},w.a.createElement(F.a,{id:"alert-component.action2",defaultMessage:"Confirm"})):null))):null)}}]),t}(k.PureComponent),ia=a(1),sa=a(69),la=a(15),ca=a(143),da=function(e){var t=e.myId,a=e.myClass,n=e.myDuck,r=e.parentId,o=e.parentClass,i=e.parentDuck,s=Object(ca.a)(e,["myId","myClass","myDuck","parentId","parentClass","parentDuck"]);return function(e,l){e(ma(Object(H.a)({myId:t,myClass:a,myDuck:n,parentId:r,parentClass:o,parentDuck:i},s))),r&&e(ga(r,o,i,t,a))}},ma=function(e){var t=e.myId,a=e.myClass,n=e.myDuck,r=e.parentId,o=e.parentClass,i=e.parentDuck,s=Object(ca.a)(e,["myId","myClass","myDuck","parentId","parentClass","parentDuck"]);return Object(H.a)({myId:t,myClass:a,type:n.defineType("INIT"),parentId:r,parentClass:o,parentDuck:i},s)},ua=function(e,t){var a=t.myId,n=t.myClass,r=t.parentId,o=t.parentClass,i=t.parentDuck,s=(t.type,Object(ca.a)(t,["myId","myClass","parentId","parentClass","parentDuck","type"])),l=e.get("ids",$.a.List()).push(a);return e.merge(Object(ia.a)({ids:l},a,Object(H.a)({myClass:n,parentId:r,parentClass:o,parentDuck:i},s)))},pa=function(e,t,a){return{myId:e,rootClass:t,type:a.defineType("SET_ROOT")}},fa=function(e,t){var a=t.myId,n=t.rootClass;return e.merge({rootId:a,rootClass:n})},ga=function(e,t,a,n,r){return{myId:e,myClass:t,type:a.defineType("ADD_CHILD"),childId:n,childClass:r}},va=function(e,t){var a=t.myId,n=t.childId,r=t.childClass,o=e.getIn([a,"children",r],$.a.List()).push(n);return e.setIn([a,"children",r],o)},ha=function(e,t){var a=t.myId,n=t.childIds,r=t.childClass,o=new Set(n),i=e.getIn([a,"children",r],$.a.List()).filter(function(e){return!o.has(e)});return e.setIn([a,"children",r],i)},ba=function(e,t){var a=t.myIds,n=new Set(a),r=e.get("ids",$.a.List()).filter(function(e){return!n.has(e)}),o=e.set("ids",r);return a.forEach(function(e){o=o.delete(e)}),o},_a=function(e,t){var a=t.myId,n=t.data;return e.mergeIn([a],n)},ya=function(e,t){var a=t.myId,n=t.data;return e.mergeDeepIn([a],n)},Ia=function(e){return'{"T":0,"NT":0}'===JSON.stringify(e)},Ca=function(){return{T:Date.now()/1e3|0,NT:0}},Ea=a(115),Ma=a(309),Sa=a(310),Oa=a.n(Sa),Ta=q.a.PTTAI_APP_ROOT,Na=q.a.PTTAI_API_ROOT,Da=q.a.AUTH_ROOT,Aa=Symbol("Call API"),ja=Object(la.createDuck)("middleware","API"),La=[ja.defineType("REQUEST"),ja.defineType("SUCCESS"),ja.defineType("FAILURE")],ka=function(e,t){var a=t.query,n=t.method,r=void 0===n?"get":n,o=t.params,i=t.files,s=t.json,l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];"post"===r&&s&&(e+=s.method.replace("_","/")),-1===e.indexOf(Na)&&-1===e.indexOf(Ta)&&(e=Na+e),a&&(e="".concat(e,"?").concat(function(e){return e?Object.keys(e).reduce(function(t,a){return e[a]?t+"".concat(a,"=").concat(e[a],"&"):t},""):""}(a)));var c=Ma[r](e);if(i){for(var d in i)c=c.attach(d,i[d],i[d].name);for(var m in o)c=c.field(m,o[m])}else o?(o=wa(o),c=(c=c.set("Content-Type","application/x-www-form-urlencoded")).send(o)):s&&(c=c.send(s));if(l){var u=Oa.a.get("csrftoken")||"";c=(c=c.set({"X-CSRFToken":u})).withCredentials()}return"get"===r&&i?c.responseType("arraybuffer").then(function(e){return console.log("middleware.api: after request: res:",e),200!==e.status?Promise.reject(e):e.body}).catch(function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];if(console.error("middleware.api: unable to call api: res:",e,"e:",a),e&&401===e.status){var r=encodeURIComponent(window.location.href),o="".concat(Da,"/login?next=").concat(r);return window.location.href=o}return Promise.reject(e)}):c.then(function(e){return console.log("middleware.api: after request: res:",e),200!==e.status?Promise.reject(e):"get"===r&&i?e.text:dt(e.text)}).catch(function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];if(console.error("middleware.api: unable to call api: res:",e,"e:",a),e&&401===e.status){var r=encodeURIComponent(window.location.href),o="".concat(Da,"/login?next=").concat(r);return window.location.href=o}return Promise.reject(e)})},wa=function(e){return Object.keys(e).reduce(function(t,a,n){var r=e[a];return"object"===typeof r&&(r=JSON.stringify(r)),t[a]=r,t},{})},Pa=function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_getBoard",params:[e]}})},Ba=function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_showBoardURL",params:[e]}})},Ra=function(e,t){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_getBoardList",params:[e,t,2]}})},xa=function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"me_joinBoard",params:[e]}})},Fa=function(e,t){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_setTitle",params:[e,wn(t)]}})},Ua=function(e,t,a){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_getMemberList",params:[e,t,a,1]}})},qa=function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_deleteBoard",params:[e]}})},Ja=function(e,t,a,n){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_createArticle",params:[e,wn(t),a.map(wn),n]}})},Ga=function(e,t,a,n){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_updateArticle",params:[e,t,a.map(wn),n]}})},Ha=function(e,t){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_deleteArticle",params:[e,t]}})},Va=function(e,t){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_getArticle",params:[e,t]}})},Ka=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_getArticleList",params:[e,t,a,n]}})},Wa=function(e,t){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_getArticleSummaryByIDs",params:[e,t]}})},Ya=function(e,t){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_markArticleSeen",params:[e,t]}})},za=function(e,t){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_deleteMember",params:[e,t]}})},Za=function(e,t,a,n,r,o,i){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_getArticleBlockList",params:[e,t,a,n,r,o,i]}})},Xa=function(e,t){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"friend_getFriendList",params:[e,t]}})},Qa=function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"me_getFriendRequests",params:[e]}})},$a=function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"friend_deleteFriend",params:[e]}})},en=function(e,t,a){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"friend_getMessageList",params:[e,t,a,1]}})},tn=function(e,t,a,n,r,o){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"friend_getMessageBlockList",params:[e,t,a,n,r,o]}})},an=function(e,t,a){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"friend_createMessage",params:[e,t.map(wn),a]}})},nn=function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"account_getUserNameByIDs",params:[e]}})},rn=function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"account_getUserName",params:[e]}})},on=function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"account_getUserImgByIDs",params:[e]}})},sn=function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"account_getUserImg",params:[e]}})},ln=function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"me_setMyName",params:[wn(e)]}})},cn=function(e){return function(t){return Promise.all([t(nn(e)).then(function(e){var t=e.response.result,a=(e.type,e.query,e.error);return a?{error:!0,key:"userName",value:a}:{error:!1,key:"userName",value:t}}),t(on(e)).then(function(e){var t=e.response.result,a=(e.type,e.query,e.error);return a?{error:!0,key:"userImg",value:a}:{error:!1,key:"userImg",value:t}}),t(mn(e)).then(function(e){var t=e.response.result,a=(e.type,e.query,e.error);return a?{error:!0,key:"userNameCard",value:a}:{error:!1,key:"userNameCard",value:t}})])}},dn=function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"account_getNameCard",params:[e]}})},mn=function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"account_getNameCardByIDs",params:[e]}})},un=function(e,t){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"ptt_getPttOplogList",params:[e,t,1]}})},pn=function(e,t){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"me_getMasterOplogList",params:[e,t,2]}})},fn=function(e,t){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"me_getMeOplogList",params:[e,t,2]}})},gn=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"friend_getFriendListByMsgCreateTS",params:[e,t,a,n]}})},vn=function(){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"ptt_getPeers",params:[]}})},hn=function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_getPeers",params:[e]}})},bn=function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"friend_getPeers",params:[e]}})},_n=function(e,t,a){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_getBoardOplogList",params:[e,t,a,2]}})},yn=function(e,t,a){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_getOpKeyOplogList",params:[e,t,a,2]}})},In=function(e,t,a){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_getMasterOplogList",params:[e,t,a,2]}})},Cn=function(e,t,a){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_getMemberOplogList",params:[e,t,a,2]}})},En=function(e,t,a){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"friend_getFriendOplogList",params:[e,t,a,2]}})},Mn=function(e,t,a){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"friend_getMasterOplogList",params:[e,t,a,2]}})},Sn=function(e,t,a){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"friend_getMemberOplogList",params:[e,t,a,2]}})},On=function(e,t,a){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"friend_getOpKeyOplogList",params:[e,t,a,2]}})},Tn=function(){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"ptt_getLastAnnounceP2PTS",params:[]}})},Nn=function(){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"me_showMeURL",params:[]}})},Dn=function(){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"me_showURL",params:[]}})},An=function(){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"me_showMyKey",params:[]}})},jn=function(e,t){return Object(ia.a)({},Aa,{endpoint:U.PTTAI_APP_ROOT+"/api/upload/"+e,method:"post",files:{file:t.file}})},Ln=function(e,t){return Object(ia.a)({},Aa,{endpoint:U.PTTAI_APP_ROOT+"/api/uploadfile/"+e,method:"post",files:{file:t.file}})},kn=function(e){return Object.keys(e).reduce(function(t,a,n){var r=e[a];return"string"!==typeof e[a]||a.endsWith("ID")||(r=Pn(e[a])),t[a]=r,t},{})},wn=function(e){return Ea.Base64.encode(e)},Pn=function(e){return Ea.Base64.decode(e)},Bn="HUB_PAGE",Rn=Object(la.createDuck)(Bn,"hub_page"),xn=Rn.defineType("INIT"),Fn=Rn.defineType("ADD_CHILD"),Un=Rn.defineType("SET_ROOT"),qn=Rn.defineType("REMOVE_CHILDS"),Jn=Rn.defineType("REMOVE"),Gn=Rn.defineType("SET_DATA"),Hn=Rn.defineType("ADD_BOARD"),Vn=Rn.defineType("ADD_BOARDS"),Kn=Rn.defineType("DELETE_BOARD"),Wn=function(e,t,a,n){return function(r,o){r(da({myId:e,myClass:Bn,myDuck:Rn,parentId:t,parentClass:a,parentDuck:n}))}},Yn=function(e,t,a){return function(n,r){return t&&n(mr(e)),Promise.all([n(Ra(Me,a)),n((o=Me,Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"me_getBoardRequests",params:[o]}})))]).then(function(a){var r=Object(sa.a)(a,2),o=r[0].response.result,i=r[1].response,s=o.map(function(e){return e.C});n(cn(s)).then(function(a){n(zn(e,o,i.result,a,t)),t&&n(ur(e))})});var o}},zn=function(e,t,a,n,r){t=(t=t.map(function(e){return Object(H.a)({CreatorID:e.C},e)})).map(kn),a=a.map(kn),n=n.reduce(function(e,t){return e[t.key]=t.value,e},{});var o=t.map(function(e){var t=e.CreatorID,a=n.userName||{},r=a[t]?Pn(a[t].N):"guest";return{BoardType:e.BT,ID:e.ID,Status:e.S,Title:e.Title,ArticleCreateTS:e.ArticleCreateTS?e.ArticleCreateTS:Ca(),UpdateTS:e.UpdateTS?e.UpdateTS:Ca(),LastSeen:e.LastSeen?e.LastSeen:Ca(),CreatorID:e.CreatorID,creatorName:r,joinStatus:3}});return a.map(function(e){return{CreatorID:e.C,NodeID:e.n,Name:e.N,Status:e.S}}).forEach(function(e,t){var a=o.findIndex(function(t){return t.ID===e.CreatorID});if(a>=0)o[a].joinStatus=e.Status;else{var r=Me,i=n.userName||{},s=i[r]?Pn(i[r].N):"guest";o.push({BoardType:2,ID:Me,Status:0,Title:e.Name,ArticleCreateTS:Ca(),UpdateTS:Ca(),LastSeen:Ca(),CreatorID:e.CreatorID,creatorName:s,joinStatus:e.Status})}}),0===(o=(o=o.filter(function(e){return e.Status!==ze.indexOf("StatusMigrated")})).filter(function(e){return 2===e.BoardType})).length&&r?{myId:e,myClass:Bn,type:Gn,data:{boardList:[],noBoard:!0}}:0!==o.length||r?{myId:e,myClass:Bn,type:Gn,data:{boardList:o,noBoard:!1}}:{myId:e,myClass:Bn,type:Gn,data:{}}},Zn=function(e,t,a){return function(n,r){n(mr(e)),n(Ra(t,a)).then(function(t){var a=t.response.result;t.type,t.query,t.error;a||(n(Xn(e,null,null)),n(ur(e)));var r=a.map(function(e){return e.C});n(cn(r)).then(function(t){n(Xn(e,a,t)),n(ur(e))})})}},Xn=function(e,t,a){if(!t||0===t.length)return{myId:e,myClass:Bn,type:Gn,data:{allBoardsLoaded:!0}};var n=(t=(t=(t=t.map(function(e){return Object(H.a)({CreatorID:e.C},e)})).map(kn)).slice(1)).map(function(e){var t=e.CreatorID,n=a.userName||{},r=n[t]?Pn(n[t].N):"guest";return{ID:e.ID,creatorName:r,Status:e.S,Title:e.Title,ArticleCreateTS:e.ArticleCreateTS?e.ArticleCreateTS:Ca(),LastSeen:e.LastSeen?e.LastSeen:Ca(),UpdateTS:e.UpdateTS?e.UpdateTS:Ca(),joinStatus:3,BoardType:e.BT}});return 0===(n=(n=n.filter(function(e){return e.Status!==ze.indexOf("StatusMigrated")})).filter(function(e){return 2===e.BoardType})).length?{myId:e,myClass:Bn,type:Gn,data:{allBoardsLoaded:!0}}:{myId:e,myClass:Bn,type:Vn,data:{boards:n}}},Qn=function(e,t){var a=t.myId,n=t.data.boards,r=e.getIn([a,"boardList"],$.a.List());return e.setIn([a,"boardList"],r.concat(n))},$n=function(e,t,a,n){return function(e,r){e(Fa(t,a)).then(function(r){r.response.result,r.type,r.query,r.error;e(Ba(t)).then(function(r){var o=r.response,i=(r.type,r.query,r.error,{C:o.result.C,ID:o.result.ID,Pn:o.result.Pn,T:o.result.T,URL:o.result.URL,UpdateTS:o.result.UT?o.result.UT:Ca(),expirePeriod:o.result.e}),s=Object.keys(n).filter(function(e){return n[e]}).map(function(e){var r=n[e],o={type:2,value:'<div data-action-type="join-board" data-board-id="'.concat(t,'" data-board-name="').concat(a,'" data-join-key="').concat(i.URL,'" data-update-ts="').concat(i.UpdateTS.T,'" data-expiration="').concat(i.expirePeriod,'"></div>')};return{chatId:r,message:JSON.stringify(o)}});e(er(s)).then(function(e){e.response,e.type,e.error,e.query})})})}};function er(e){return function(t){return Promise.all(e.map(function(e){return t(an(e.chatId,[e.message],[])).then(function(t){t.response.result,t.type,t.query,t.error;return{chatId:e.chatId}})}))}}var tr,ar,nr=function(e,t,a,n){return function(r,o){var i;r((i=t,Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_createBoard",params:[wn(i),!0]}}))).then(function(o){var i=o.response.result,s=(o.type,o.query,o.error,i.ID);r(Ba(s)).then(function(o){var l=o.response,c=(o.type,o.query,o.error,{C:l.result.C,ID:l.result.ID,Pn:l.result.Pn,T:l.result.T,URL:l.result.URL,UpdateTS:l.result.UT?l.result.UT:Ca(),expirePeriod:l.result.e}),d=Object.keys(n).filter(function(e){return n[e]}).map(function(e){var a=n[e],r={type:2,value:'<div data-action-type="join-board" data-board-id="'.concat(s,'" data-board-name="').concat(t,'" data-join-key="').concat(c.URL,'" data-update-ts="').concat(c.UpdateTS.T,'" data-expiration="').concat(c.expirePeriod,'"></div>')};return{chatId:a,message:JSON.stringify(r)}});r(er(d)).then(function(n){n.response,n.type,n.error,n.query;r(rr(e,t,i,a))})})})}},rr=function(e,t,a,n){var r={ID:(a=kn(a)).ID,Status:0,Title:t,creatorName:n,ArticleCreateTS:Ca(),UpdateTS:Ca(),LastSeen:Ca(),joinStatus:3,BoardType:2};return{myId:e,myClass:Bn,type:Hn,data:{board:r,noBoard:!1}}},or=function(e,t){var a=t.myId,n=t.data,r=n.board,o=n.noBoard;return e=(e=e.setIn([a,"noBoard"],o)).updateIn([a,"boardList"],function(e){return e.push($.a.Map(r))})},ir=function(e,t,a){return function(n,r){n(xa(t)).then(function(r){var o=r.response,i=o.result,s=o.error;r.type,r.query;a(s?{error:!0,data:s.message,boardUrl:t}:{error:!1,data:i});var l=[i.C];n(cn(l)).then(function(a){n(sr(e,t,i,a))})})}},sr=function(e,t,a,n){n=n.reduce(function(e,t){return e[t.key]=t.value,e},{});var r=a.C,o=n.userName||{},i=o[r]?Pn(o[r].N):"guest",s={ID:a.n,Status:a.S,creatorName:i,Title:Pn(a.N),ArticleCreateTS:Ca(),LastSeen:Ca(),CreateTS:Ca(),UpdateTS:Ca(),joinStatus:0,BoardType:2};return{myId:e,myClass:Bn,type:Hn,data:{board:s}}},lr=function(e,t){return function(a,n){a(qa(t)).then(function(n){n.response.result,n.type,n.query,n.error;a(cr(e,t))})}},cr=function(e,t){return{myId:e,myClass:Bn,type:Kn,data:{boardId:t}}},dr=function(e,t){var a=t.myId,n=t.data.boardId,r=e.getIn([a,"boardList"],$.a.List());return r=r.filter(function(e){return e.get("ID")!==n}),e.setIn([a,"boardList"],r)},mr=function(e){return{myId:e,myClass:Bn,type:Gn,data:{isLoading:!0}}},ur=function(e){return{myId:e,myClass:Bn,type:Gn,data:{isLoading:!1}}},pr=function(e){return function(t,a){t(fr(e))}},fr=function(e){return{myId:e,myClass:Bn,type:Gn,data:{boardList:[],noBoard:!1,isLoading:!1,allBoardsLoaded:!1}}},gr=Rn.createReducer((Ot={},Object(ia.a)(Ot,xn,ua),Object(ia.a)(Ot,Fn,va),Object(ia.a)(Ot,Un,fa),Object(ia.a)(Ot,qn,ha),Object(ia.a)(Ot,Jn,ba),Object(ia.a)(Ot,Gn,_a),Object(ia.a)(Ot,Hn,or),Object(ia.a)(Ot,Vn,Qn),Object(ia.a)(Ot,Kn,dr),Ot),$.a.Map()),vr="MODAL_CONTAINER",hr=Object(la.createDuck)(vr,"Modal_Container"),br=hr.defineType("OPEN_MODAL"),_r=hr.defineType("CLOSE_MODAL"),yr=hr.defineType("SET_SUBMIT"),Ir=hr.defineType("SET_INPUT"),Cr=function(e){return{modalType:e,myClass:vr,type:br}},Er=function(){return{myClass:vr,type:_r}},Mr=function(e){return{modalSubmit:e,myClass:vr,type:yr}},Sr=function(e){return{data:e,myClass:vr,type:Ir}},Or=hr.createReducer((tr={},Object(ia.a)(tr,br,function(e,t){var a=t.modalType;return Object(H.a)({},e,{currentModal:a})}),Object(ia.a)(tr,_r,function(e,t){return Object(H.a)({},e,{currentModal:null})}),Object(ia.a)(tr,yr,function(e,t){var a=t.modalSubmit;return Object(H.a)({},e,{modalSubmit:a})}),Object(ia.a)(tr,Ir,function(e,t){var a=t.data;return Object(H.a)({},e,{modalInput:a})}),tr),{currentModal:null}),Tr=a(117),Nr="ga_is_on_for_pttai",Dr=function(){var e=!1,t=function(){return localStorage.hasOwnProperty(Nr)&&"true"===JSON.parse(localStorage.getItem(Nr)).track},a=function(a){if(!t())return!1;if(e)return!0;var n=a||(localStorage.hasOwnProperty(Nr)?JSON.parse(localStorage.getItem(Nr)).userId:"no-user-id");return Tr.a.initialize(q.a.GA_TRACKING_ID,{debug:!0,titleCase:!1,testMode:!1,gaOptions:{userId:n}}),e=!0,console.log("[GA] setup with ",n),!0};return{isConfigured:function(){return localStorage.hasOwnProperty(Nr)},getConfig:function(){return localStorage.hasOwnProperty(Nr)?JSON.parse(localStorage.getItem(Nr)):{}},saveConfig:function(e,t){localStorage.setItem(Nr,JSON.stringify({track:t.toString(),userId:e})),console.log("[GA] config saved to localStorage: ",e,", track:",t)},clearConfig:function(){localStorage.hasOwnProperty(Nr)&&(localStorage.removeItem(Nr),console.log("[GA] cleared on localStorage"))},initialize:function(e){return a(e)},firePageView:function(n){if(t()){e||a();var r=n||window.location.pathname+window.location.search;Tr.a.pageview(r),console.log("[GA] pageview: ",r)}},fireEventOnProb:function(n,r,o){Math.random()>o||t()&&(e||a(),Tr.a.event({category:n,action:r||"no-action-name"}),console.log("[GA] event: ",n,r))},fireEvent:function(n,r){t()&&(e||a(),Tr.a.event({category:n,action:r||"no-action-name"}),console.log("[GA] event: ",n,r))}}}(),Ar=a(311),jr=a.n(Ar),Lr=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).refreshPageInterval=null,a.state={showAlert:!1,alertData:{message:"",onClose:null,onConfirm:null}},a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){this.props.markSeen(),Dr.firePageView()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.myId,a=e.actions.doHubPage;a.getBoardList(t,!0,100),this.refreshPageInterval=setInterval(function(){return a.getBoardList(t,!1,100)},5e3)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.myId,a=e.actions.doHubPage;clearInterval(this.refreshPageInterval),a.clearData(t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.myId,n=t.hubPage,r=t.actions,o=r.doHubPage,i=r.doModalContainer,s=this.state,l=s.showAlert,c=s.alertData;if(!a)return w.a.createElement(ie,null);var d=n.get(a,$.a.Map()),m=ft(this.props).getIn(["userInfo","userId"]),u=ft(this.props).getIn(["userInfo","userName"]),p=d.get("isLoading",!1),f=d.get("noBoard",!1),g=d.get("boardList",$.a.List()).toJS(),v=function(t){var a=e;if(t.error)a.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message7",defaultMessage:"[Error] {data}:{boardUrl}",values:{data:t.data,boardUrl:t.boardUrl}}),onConfirm:function(){return a.setState({showAlert:!1})}}}),Dr.fireEvent("Group","JoinGroupFailed");else{var n=e;e.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message29",defaultMessage:"[Success] Board Joined"}),onConfirm:function(){return n.setState({showAlert:!1})}}}),i.closeModal(),Dr.fireEvent("Group","JoinGroupSuccess")}};return w.a.createElement("div",{className:jr.a.root},w.a.createElement(xt,{userId:m,userName:u,noBoard:f,boardList:g,isLoading:p,createBoardAction:function(){i.setInput({modalAddBoardSubmit:function(e,t){o.addBoard(a,e,u,t),Dr.fireEvent("Group","CreateGroupSuccess")},modalJoinBoardSubmit:function(t){return function(t){var n=e;t&&t.startsWith("pnode://")?o.joinBoard(a,t,v):n.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message8",defaultMessage:"Board name empty or invalid"}),onConfirm:function(){return n.setState({showAlert:!1})}}})}(t)}}),i.openModal("BOARD_ACTION_MODAL")},manageBoardAction:function(e){i.setInput({boardId:e.ID,boardName:e.Title,setBoardName:function(e,t,n){return o.setBoardName(a,e,t,n)},deleteBoard:function(e){return o.deleteBoard(a,e)}}),i.openModal("MANAGE_BOARD_MODAL")}}),w.a.createElement(oa,{show:l,alertData:c}))}}]),t}(k.PureComponent),kr=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doHubPage:Object(X.b)(n,e),doModalContainer:Object(X.b)(r,e)}}})(Lr),wr=a(116),Pr=a.n(wr),Br=a(70),Rr=a.n(Br),xr=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.boardInfo,a=e.manageBoardAction,n=e.onOpenOPLogModal;return w.a.createElement("div",{className:Rr.a.root},w.a.createElement("div",{className:Rr.a.content},w.a.createElement("div",{className:Rr.a["prev-button"]},w.a.createElement(J.b,{to:"/hub"},w.a.createElement("div",{className:Rr.a["prev-button-icon"]}),w.a.createElement("div",{className:Rr.a["prev-button-text"]},w.a.createElement(F.a,{id:"boardbar.prev-button",defaultMessage:"Boards"})))),w.a.createElement("div",{title:t.Title,className:Rr.a["board-name"],onClick:n},t.Title),w.a.createElement("div",{className:Rr.a.search},w.a.createElement("div",{className:Rr.a["list-item-ellipsis"],onClick:function(){return a(t.ID)}}))))}}]),t}(k.PureComponent),Fr=a(31),Ur=a.n(Fr),qr=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).topItem=null,a.state={sliderInIndex:-1},a.onListItemClick=a.onListItemClick.bind(Object(z.a)(a)),a.scrollToBottom=a.scrollToBottom.bind(Object(z.a)(a)),a.needFetchMore=a.needFetchMore.bind(Object(z.a)(a)),a.handleScroll=a.handleScroll.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"needFetchMore",value:function(){var e=this.props,t=e.isLoading,a=e.allArticlesLoaded,n=this.scroller.scrollTop;return this.scroller&&!t&&!a&&n<=0}},{key:"handleScroll",value:function(){if(this.needFetchMore()){var e=this.props,t=e.onGetMoreArticles,a=e.listData[0].ID;this.topItem=0===this.scroller.childNodes[0].childNodes.length?null:this.scroller.childNodes[0].childNodes[0],t(a)}}},{key:"onListItemClick",value:function(e){var t=this.state.onListItemClick;-1!==t?this.setState({sliderInIndex:-1}):(e.preventDefault(),e.stopPropagation())}},{key:"scrollToBottom",value:function(e){this.pageEnd.scrollIntoView({behavior:e})}},{key:"componentDidUpdate",value:function(e){0===e.listData.length&&this.props.listData.length>0||e.match.path!==this.props.match.path?this.scrollToBottom("instant"):this.topItem&&e.isLoading&&!this.props.isLoading?B.a.findDOMNode(this.topItem).scrollIntoView():e.listData.length>0&&this.props.listData.length===e.listData.length+1&&this.scrollToBottom("smooth")}},{key:"render",value:function(){var e=this,t=this.props,a=t.boardId,n=t.listData,r=t.summaryData,o=t.isLoading,i=t.noArticle,s=this.state.sliderInIndex,l=n.filter(function(e){return e.Status!==ze.indexOf("StatusDeleted")});return i?w.a.createElement("div",{className:Ur.a.root,onScroll:this.handleScroll,ref:function(t){e.scroller=t}},w.a.createElement("div",{className:Ur.a["no-content-message"]},w.a.createElement(F.a,{id:"article-list-component.message",defaultMessage:"You have no articles yet, click below button to add"}))):w.a.createElement("div",{className:Ur.a.root,onScroll:this.handleScroll,ref:function(t){e.scroller=t}},w.a.createElement("div",{className:Ur.a.list},o?w.a.createElement("div",{className:Ur.a.loader},w.a.createElement(de.ClipLoader,{color:"#aaa",size:35,loading:o})):null,l.map(function(t){return w.a.createElement(Jr,{data:t,summaryData:r,key:t.ID,onClick:e.onListItemClick,sliderInIndex:s,boardId:a})})),w.a.createElement("div",{className:Ur.a.bottomElement,ref:function(t){e.pageEnd=t}}))}}]),t}(k.PureComponent),Jr=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.onClick,n=e.sliderInIndex,r=e.boardId,o=e.summaryData,i=ht(t.CommentCreateTS.T,t.LastSeen.T),s=Ur.a["list-item"]+" "+(i?Ur.a.unread:Ur.a.read),l=-1===n&&"/board/".concat(encodeURIComponent(r),"/article/").concat(encodeURIComponent(t.ID)),c="";if(t.PreviewText)c=t.PreviewText;else if(o[t.ID]&&o[t.ID].B){var d=dt(Pn(o[t.ID].B[0]));c=ct(d,{CreatorName:t.CreatorName,boardId:r})}return w.a.createElement("div",{className:s,onClick:a},w.a.createElement(J.b,{to:l},w.a.createElement("div",{hidden:!0,className:Ur.a["list-item-blocker"]}),w.a.createElement("div",{className:Ur.a["list-item-author"]},w.a.createElement("div",{className:Ur.a["list-item-author-pic"]},w.a.createElement("img",{src:t.CreatorImg||Se,alt:"Creator Profile"})),w.a.createElement("div",{title:t.CreatorName,className:Ur.a["list-item-author-name"]},t.CreatorName)),w.a.createElement("div",{className:Ur.a["list-item-main"]},w.a.createElement("div",{className:Ur.a["list-item-header"]},w.a.createElement("div",{title:t.Title,className:Ur.a["list-item-title"]},t.Title),w.a.createElement("div",{title:Lt(t.UpdateTS.T),className:Ur.a["list-item-time"]},At(t.UpdateTS.T))),w.a.createElement("div",{className:Ur.a["list-item-content"]},c?w.a.createElement("div",{dangerouslySetInnerHTML:{__html:c}}):w.a.createElement(F.a,{id:"article-list-component.empty",defaultMessage:"(No content)"}))),w.a.createElement("div",{className:Ur.a["list-item-meta"]},w.a.createElement("div",{className:Ur.a["list-item-circle"]},t.NPush||0),w.a.createElement("div",{title:ze[t.Status],className:Ur.a["list-item-status"]},w.a.createElement("div",{className:Ur.a["list-item-status-"+Et(t.Status)]})))))}}]),t}(k.PureComponent),Gr=qr,Hr=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.boardInfo,a=e.match,n=e.userId,r=e.articleList,o=e.articleSummaries,i=e.isLoading,s=e.noArticle,l=e.allArticlesLoaded,c=e.onGetMoreArticles,d=e.createArticleAction,m=e.manageBoardAction,u=e.deleteArticleAction,p=e.onOpenOPLogModal;return w.a.createElement("div",{className:Pr.a.root},w.a.createElement(xr,{userId:n,boardInfo:t,manageBoardAction:m,onOpenOPLogModal:p}),w.a.createElement(Gr,{match:a,boardId:t.ID,listData:r,summaryData:o,allArticlesLoaded:l,onGetMoreArticles:c,deleteArticle:u,isLoading:i,noArticle:s}),1===t.BoardType&&t.CreatorID!==n?null:w.a.createElement("div",{className:Pr.a["add-icon-container"]},w.a.createElement("div",{className:Pr.a["add-icon-subcontainer"]},w.a.createElement("div",{className:Pr.a["add-icon"],onClick:d}))))}}]),t}(k.PureComponent),Vr=a(47),Kr=a.n(Vr),Wr="BOARD_PAGE",Yr=Object(la.createDuck)(Wr,"board_page"),zr=Yr.defineType("INIT"),Zr=Yr.defineType("ADD_CHILD"),Xr=Yr.defineType("SET_ROOT"),Qr=Yr.defineType("REMOVE_CHILDS"),$r=Yr.defineType("REMOVE"),eo=Yr.defineType("SET_DATA"),to=Yr.defineType("UPDATE_DATA"),ao=Yr.defineType("ADD_ARTICLE"),no=Yr.defineType("DELETE_ARTICLE"),ro=Yr.defineType("PREPEND_ARTICLES"),oo=Yr.defineType("APPEND_ARTICLES"),io=Yr.defineType("INSERT_SUMMARIES"),so=function(e,t,a,n){return function(r,o){r(da({myId:e,myClass:Wr,myDuck:Yr,parentId:t,parentClass:a,parentDuck:n}))}},lo=function(e,t){return function(a,n){a({myId:e,myClass:Wr,type:eo,data:{boardId:decodeURIComponent(t.boardId)}})}},co=function(e,t){return function(a,n){a(Pa(t)).then(function(t){var n=t.response.result;t.type,t.query,t.error;a(mo(e,n))})}},mo=function(e,t){var a={ID:t.ID,Title:t.Title,CreatorID:t.C,BoardType:t.BT,Status:t.Status,LastSeen:t.LastSeen?t.LastSeen:Ca(),UpdateTS:t.UpdateTS?t.UpdateTS:Ca(),ArticleCreateTS:t.ArticleCreateTS?t.ArticleCreateTS:Ca()};return a=kn(a),console.log("doBoardPage.postprocessGetBoardInfo: result:",a),{myId:e,myClass:Wr,type:eo,data:{boardInfo:a}}};var uo=function(e,t,a,n){return function(r,o){r(Ba(t)).then(function(o){var i=o.response,s=(o.type,o.query,o.error,{C:i.result.C,ID:i.result.ID,Pn:i.result.Pn,T:i.result.T,URL:i.result.URL,UpdateTS:i.result.UT?i.result.UT:Ca(),expirePeriod:i.result.e}),l=Object.keys(n).filter(function(e){return n[e]}).map(function(e){var r=n[e],o={type:2,value:'<div data-action-type="join-board" data-board-id="'.concat(t,'" data-board-name="').concat(a,'" data-join-key="').concat(s.URL,'" data-update-ts="').concat(s.UpdateTS.T,'" data-expiration="').concat(s.expirePeriod,'"></div>')};return{chatId:r,message:JSON.stringify(o)}});r(function(e){return function(t){return Promise.all(e.map(function(e){return t(an(e.chatId,[e.message],[])).then(function(t){return t.response.result,t.type,t.query,t.error,{chatId:e.chatId}})}))}}(l)).then(function(a){a.response,a.type,a.error,a.query;r(po(e,t))})})}},po=function(e,t){return{myId:e,myClass:Wr,type:eo,data:{}}},fo=function(e,t,a){return function(n,r){n(Fa(t,a)).then(function(r){r.response.result,r.type,r.query,r.error;n(go(e,t,a))})}},go=function(e,t,a){return{myId:e,myClass:Wr,type:to,data:{boardInfo:{ID:t,Title:a}}}},vo=function(e,t){return function(a,n){a(function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_markBoardSeen",params:[e]}})}(t)).then(function(t){var n=t.response.result;t.type,t.error,t.query;a(ho(e,n))})}},ho=function(e,t){return{myId:e,myClass:Wr,type:eo,data:{}}},bo=function(e,t,a){return function(n,r){n(function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_leaveBoard",params:[e]}})}(t)).then(function(r){var o=r.response,i=o.result,s=o.error;r.type,r.query;s?a({error:!0,data:s.message}):(a({error:!1,data:i}),n(_o(e,t)))})}},_o=function(e,t){return{myId:e,myClass:Wr,type:eo,data:{}}},yo=function(e,t,a){return function(n,r){n(qa(t)).then(function(r){var o=r.response,i=o.result,s=o.error;r.type,r.query;s?a({error:!0,data:s.message}):(a({error:!1,data:i}),n(Io(e,t)))})}},Io=function(e,t){return{myId:e,myClass:Wr,type:eo,data:{}}},Co=function(e,t,a){return function(n,r){var o=Object.keys(a).filter(function(e){return a[e]}).map(function(e){return{userId:e,chatId:a[e]}});n(function(e,t){return function(a){return Promise.all(t.map(function(t){return a(za(e,t.userId)).then(function(e){return e.response.result,e.type,e.query,e.error,{userId:t.userId}})}))}}(t,o)).then(function(a){a.response,a.type,a.error,a.query;n(Eo(e,t))})}},Eo=function(e,t){return{myId:e,myClass:Wr,type:eo,data:{}}},Mo=function(e,t,a,n){return function(r,o){a&&r(Uo(e)),r(Ka(t,Me,n,1)).then(function(n){var o=n.response.result,i=(n.type,n.query,n.error,o.map(function(e){return e.CreatorID})),s=o.map(function(e){return e.ID}),l=o.map(function(e){return e.ContentBlockID});r(cn(i)).then(function(t){r(So(e,o,a,t))});for(var c=[],d=0;d<s.length;d++)c.push({A:s[d],B:l[d]});r(Wa(t,c)).then(function(t){var n=t.response,o=(t.type,t.query,t.error,n.result);r(Oo(e,o)),a&&r(qo(e))})})}},So=function(e,t,a,n){t=t.map(kn),n=n.reduce(function(e,t){return e[t.key]=t.value,e},{});var r=t.map(function(e){var t=e.CreatorID,a=n.userName||{},r=n.userImg||{},o=a[t]?Pn(a[t].N):"guest",i=r[t]?r[t].I:Se,s=e.CreateTS?e.CreateTS:Ca(),l=e.UpdateTS?e.UpdateTS:s;return{BoardID:e.BoardID,ContentBlockID:e.ContentBlockID,CreatorID:e.CID,CreatorName:o,CreatorImg:i,Status:e.S,ID:e.ID,NBlock:e.NBlock,NBoo:e.NB,NPush:e.NP,Title:e.Title,CreateTS:s,UpdateTS:l,LastSeen:e.L?e.L:Ca(),CommentCreateTS:e.c&&!Ia(e.c)?e.c:l}});return console.log("doBoardPage.postprocessGetArticleList: articleList:",r),0===r.length&&a?{myId:e,myClass:Wr,type:eo,data:{boardArticles:{lru:null,offset:0,articleList:[]},noArticle:!0}}:0!==r.length||a?{myId:e,myClass:Wr,type:oo,data:{articles:r.reverse(),noArticle:!1}}:{myId:e,myClass:Wr,type:eo,data:{}}},Oo=function(e,t){return console.log("doBoardPage.postprocessGetSummaries: summaries:",t),{myId:e,myClass:Wr,type:io,data:{summaries:t}}},To=function(e,t){var a=t.myId,n=t.data.summaries,r=e.getIn([a,"articleSummaries"],$.a.Map());return e.setIn([a,"articleSummaries"],r.merge(n))},No=function(e,t,a,n){return function(r,o){r(Uo(e)),r(Ka(t,a,n,1)).then(function(a){var n=a.response.result,o=(a.type,a.query,a.error,n.map(function(e){return e.CreatorID})),i=n.map(function(e){return e.ID}),s=n.map(function(e){return e.ContentBlockID});r(cn(o)).then(function(t){r(Do(e,n,t))});for(var l=[],c=0;c<i.length;c++)l.push({A:i[c],B:s[c]});r(Wa(t,l)).then(function(t){var a=t.response,n=(t.type,t.query,t.error,a.result);r(Oo(e,n)),r(qo(e))})})}},Do=function(e,t,a){t=(t=t.map(kn)).slice(1),a=a.reduce(function(e,t){return e[t.key]=t.value,e},{});var n=t.map(function(e){var t=e.CreatorID,n=a.userName||{},r=a.userImg||{},o=n[t]?Pn(n[t].N):"guest",i=r[t]?r[t].I:Se,s=e.CreateTS?e.CreateTS:Ca(),l=e.UpdateTS?e.UpdateTS:s;return{BoardID:e.BoardID,ContentBlockID:e.ContentBlockID,CreatorID:e.CreatorID,CreatorName:o,CreatorImg:i,Status:e.S,ID:e.ID,NBlock:e.NBlock,NBoo:e.NBoo,NPush:e.NPush,Title:e.Title,CreateTS:s,UpdateTS:l,LastSeen:e.L?e.L:Ca(),CommentCreateTS:e.c&&!Ia(e.c)?e.c:l}});return console.log("doBoardPage.postprocessGetMoreArticles: articleList:",n),0===n.length?{myId:e,myClass:Wr,type:eo,data:{allArticlesLoaded:!0}}:{myId:e,myClass:Wr,type:ro,data:{articles:n.reverse()}}},Ao=function(e,t){var a=t.myId,n=t.data.articles,r=e.getIn([a,"boardArticles","articleList"],$.a.List()),o=e.getIn([a,"boardArticles","offset"],0);return e=(e=e.setIn([a,"boardArticles","offset"],o+n.length)).setIn([a,"boardArticles","articleList"],$.a.List(n).concat(r))},jo=function(e,t){var a=t.myId,n=t.data,r=n.articles,o=n.noArticle;if(!r||r.length<=0)return e;var i=e.getIn([a,"boardArticles"],$.a.Map()).toJS(),s=i.articleList||[],l=i.lru||new Kr.a(100),c=i.offset||0,d=[];if(0===s.length)r.forEach(function(e,t){d.push(e),l.set(e.ID,{index:t-c,article:e})});else{var m=new Kr.a(50),u=null,p=2147483648;r.forEach(function(e,t){m.set(e.ID,e),l.get(e.ID)&&l.get(e.ID).article.CreateTS.T<p&&(u=l.get(e.ID),p=u.article.CreateTS.T)});for(var f=u?u.index:s.length-c,g=0,v=f,h=s.slice(0,c+f),b=[];s.length>c+f||r.length>g;)if(s.length>c+f&&r.length>g){var _=s[c+f],y=r[g];_.CreateTS.T<=y.CreateTS.T?(m.get(_.ID)||(b.push(_),l.set(_.ID,{index:v,article:_}),v+=1),f+=1):(b.push(y),l.set(y.ID,{index:v,article:y}),v+=1,g+=1)}else if(s.length>c+f){var I=s[c+f];m.get(I.ID)||(b.push(I),l.set(I.ID,{index:v,article:I}),v+=1),f+=1}else{var C=r[g];b.push(C),l.set(C.ID,{index:v,article:C}),v+=1,g+=1}d=h.concat(b),m.reset()}return e=(e=(e=(e=e.setIn([a,"noArticle"],o)).setIn([a,"boardArticles","offset"],c)).setIn([a,"boardArticles","lru"],l)).setIn([a,"boardArticles","articleList"],$.a.List(d))},Lo=function(e,t,a,n,r,o,i){return function(s,l){s(Ja(n,r,o,i)).then(function(i){var l=i.response.result;i.type,i.query,i.error;s(ko(e,n,t,a,r,o,l))})}},ko=function(e,t,a,n,r,o,i){var s=o&&o.length>0?dt(o[0]):{},l=ct(s,{CreatorName:a,boardId:t}),c={BoardID:i.BID,ContentBlockID:i.cID,CreateTS:Ca(),CreatorID:null,CreatorName:a,CreatorImg:n,PreviewText:l,Status:0,ID:i.AID,LastSeen:Ca(),NBlock:null,NBoo:0,NPush:0,Title:r,CommentCreateTS:Ca(),UpdateTS:Ca()};return console.log("doBoardPage.postprocessCreateArticle: result:",c),{myId:e,myClass:Wr,type:ao,data:{article:c,noArticle:!1}}},wo=function(e,t){var a=t.myId,n=t.data,r=n.article,o=n.noArticle;if(!r||!r.ID||!r.BoardID)return e;var i=e.getIn([a,"boardArticles"],$.a.Map()).toJS(),s=i.lru||new Kr.a(100),l=i.offset||0,c=i.articleList||[];return s.set(r.ID,{index:c.length-l,article:r}),e=(e=(e=e.setIn([a,"noArticle"],o)).setIn([a,"boardArticles","lru"],s)).updateIn([a,"boardArticles","articleList"],function(e){return e.push($.a.Map(r))})},Po=function(e,t,a){return function(n,r){n(Ha(t,a)).then(function(r){r.response.result,r.type,r.query,r.error;n(Bo(e,t,a))})}},Bo=function(e,t,a){return console.log("doBoardPage.postprocessDeleteArticle: result:",a),{myId:e,myClass:Wr,type:no,data:{articleId:a}}},Ro=function(e,t){var a=t.myId,n=t.data.articleId,r=e.getIn([a,"boardArticles","articleList"],$.a.List());return r=r.filter(function(e){return e.get("ID")!==n}),e.setIn([a,"boardArticles","articleList"],r)},xo=function(e){return function(t,a){t(Fo(e))}},Fo=function(e){return{myId:e,myClass:Wr,type:eo,data:{boardArticles:{lru:null,offset:0,articleList:[]},allArticlesLoaded:!1}}},Uo=function(e){return console.log("doBoardPage.preprocessSetStartLoading"),{myId:e,myClass:Wr,type:eo,data:{isLoading:!0}}},qo=function(e){return console.log("doBoardPage.postprocessSetFinshLoading"),{myId:e,myClass:Wr,type:eo,data:{isLoading:!1}}};var Jo=function(e,t,a,n,r,o,i){return function(s,l){s(function(e,t){return function(a){return Promise.all(t.map(function(t){return"IMAGE"===t.type?a(jn(e,t)).then(function(e){var a=e.response.result;return e.type,e.query,e.error,{attachmentId:t.id,mediaId:a.ID,boardId:a.BID,type:"IMAGE"}}):a(Ln(e,t)).then(function(e){var a=e.response.result;return e.type,e.query,e.error,{attachmentId:t.id,mediaId:a.ID,boardId:a.BID,type:"FILE"}})}))}}(n,i)).then(function(l){var c=l.reduce(function(e,t){return e[t.attachmentId]=t.mediaId,e},{}),d=o.map(function(e){if(e.type===He||e.type===Ge){var t=e.param;i.forEach(function(e){t.id===e.id&&(t.id=c[e.id])}),e.param=t}return JSON.stringify(e)}),m=l.map(function(e){return e.mediaId});s(Ja(n,r,d,m)).then(function(o){var i=o.response.result;o.type,o.query,o.error;s(Ya(n,i.AID)),s(ko(e,n,t,a,r,d,i))})})}},Go=Yr.createReducer((ar={},Object(ia.a)(ar,zr,ua),Object(ia.a)(ar,Zr,va),Object(ia.a)(ar,Xr,fa),Object(ia.a)(ar,Qr,ha),Object(ia.a)(ar,$r,ba),Object(ia.a)(ar,eo,_a),Object(ia.a)(ar,to,ya),Object(ia.a)(ar,ao,wo),Object(ia.a)(ar,no,Ro),Object(ia.a)(ar,ro,Ao),Object(ia.a)(ar,oo,jo),Object(ia.a)(ar,io,To),ar),$.a.Map()),Ho=a(312),Vo=a.n(Ho),Ko=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).refreshPageInterval=null,a.state={showAlert:!1,alertData:{message:"",onClose:null,onConfirm:null}},a.getLatestArticle=a.getLatestArticle.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"getLatestArticle",value:function(){var e=this.props,t=e.myId,a=e.markSeen,n=e.actions.doBoardPage,r=e.match.params;n.getArticleList(t,decodeURIComponent(r.boardId),!1,50),n.markBoard(t,decodeURIComponent(r.boardId)),a()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.actions.doBoardPage,a=e.match.params,n=e.myId;t.initParams(n,a),t.getBoardInfo(n,decodeURIComponent(a.boardId)),t.getArticleList(n,decodeURIComponent(a.boardId),!0,50),this.refreshPageInterval=setInterval(this.getLatestArticle,5e3)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.actions.doBoardPage,a=e.myId;t.clearData(a),clearInterval(this.refreshPageInterval)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.markSeen,a=e.actions.doBoardPage,n=e.match.params,r=e.myId;a.markBoard(r,decodeURIComponent(n.boardId)),t(),Dr.firePageView()}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.myId,r=t.boardPage,o=t.markSeen,i=t.actions,s=i.doBoardPage,l=i.doModalContainer,c=this.state,d=c.showAlert,m=c.alertData;if(!n)return w.a.createElement(ie,null);var u=ft(this.props).getIn(["userInfo","userId"]),p=ft(this.props).getIn(["userInfo","userName"]),f=ft(this.props).getIn(["userInfo","userImg"]),g=r.get(n,$.a.Map()),v=g.get("boardId",""),h=g.get("boardInfo",$.a.Map()).toJS(),b=g.getIn(["boardArticles","articleList"],$.a.List()).toJS(),_=g.get("articleSummaries",$.a.Map()).toJS(),y=g.get("isLoading",!1),I=g.get("noArticle",!1),C=g.get("allArticlesLoaded",!1),E=function(e,t,a){s.createArticleWithAttachments(n,p,f,v,e,t,a),s.markBoard(n,v),Dr.fireEvent("Article","CreateArticleSuccess"),o(),l.closeModal()},M=function(t){if(t.error){var a=e;e.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message32",defaultMessage:"[Failed] {data}",values:{data:t.data}}),onConfirm:function(){return a.setState({showAlert:!1})}}})}else{var n=e;e.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message33",defaultMessage:"[Success] Left Group"}),onConfirm:function(){n.setState({showAlert:!1}),n.props.history.push("/hub")}}}),l.closeModal()}},S=function(t){if(t.error){var a=e;e.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message32",defaultMessage:"[Failed] {data}",values:{data:t.data}}),onConfirm:function(){return a.setState({showAlert:!1})}}})}else{var n=e;e.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message34",defaultMessage:"[Success] Group Deleted"}),onConfirm:function(){n.setState({showAlert:!1}),n.props.history.push("/hub")}}}),l.closeModal()}};return w.a.createElement("div",{className:Vo.a.root},w.a.createElement(Hr,{match:a,userId:u,boardInfo:h,isLoading:y,noArticle:I,articleList:b,articleSummaries:_,allArticlesLoaded:C,onGetMoreArticles:function(e){s.getMoreArticles(n,v,e,50)},createArticleAction:function(){l.setInput({boardId:h.ID}),l.setSubmit(E),l.openModal("CREATE_ARTICLE_MODAL")},manageBoardAction:function(e){l.setInput({isCreator:h.CreatorID===u,boardId:h.ID,boardName:h.Title,onEditBoardName:function(e,t){s.setBoardName(n,e,t)},onInviteFriend:function(e,t,a){s.inviteFriend(n,e,t,a)},onRemoveMember:function(e,t){s.removeMember(n,e,t)},onDeleteBoard:function(){s.deleteBoard(n,h.ID,S)},onLeaveBoard:function(){s.leaveBoard(n,h.ID,M)}}),l.openModal("BOARD_SETTING_MENU_MODAL")},onOpenOPLogModal:function(){l.setInput({tabs:[Ae,Le,ke,je,Fe],params:{boardId:v}}),l.openModal("SHOW_OP_LOG_MODAL")},deleteArticleAction:function(e){return s.deleteArticle(n,h.ID,e)}}),w.a.createElement(oa,{show:d,alertData:m}))}}]),t}(k.PureComponent),Wo=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doBoardPage:Object(X.b)(o,e),doModalContainer:Object(X.b)(r,e)}}})(Ko),Yo=a(26),zo=a.n(Yo),Zo=a(105),Xo=a.n(Zo),Qo=(a(516),function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={noResult:!1},a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"componentWillReceiveProps",value:function(e){10===this.props.pullCount&&0===e.pullCount&&this.setState({noResult:!0})}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.articleContentsList,a=e.pullCount,n=e.articleInfo,r=e.boardInfo,o=e.openNameCard,i=this.state.noResult,s=ut(t.reduce(function(e,t){return e.concat(t.contentBlockArray)},[]),r.ID),l=""===s&&!i,c=10-a;return w.a.createElement("div",{id:"article-main-content",className:Xo.a.root},l?w.a.createElement("div",{className:Xo.a.loading},w.a.createElement(F.a,{id:"article-component.message1",defaultMessage:"Allow me to fetch the content ... ({cntDown})",values:{cntDown:c}}),w.a.createElement(de.PulseLoader,{color:"#aaa",size:6})):w.a.createElement("div",{className:Xo.a["main-content"]},w.a.createElement("div",{className:Xo.a.author},w.a.createElement("img",{src:n.CreatorImg||Se,alt:"Author Profile",onClick:o}),w.a.createElement("div",{title:n.CreatorName,onClick:o},n.CreatorName)),w.a.createElement("div",{id:"quill-id",className:Xo.a.content},i?w.a.createElement(F.a,{id:"article-component.message2",defaultMessage:"(No content)"}):w.a.createElement("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:s}}))))}}]),t}(k.PureComponent)),$o=a(29),ei=a.n($o);var ti,ai=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={comment:"",showAlert:!1,alertData:{message:"",onClose:null,onConfirm:null}},a.commentValidate=a.commentValidate.bind(Object(z.a)(a)),a.submitComment=a.submitComment.bind(Object(z.a)(a)),a.onClick=a.onClick.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"commentValidate",value:function(e){var t=this;return!function(e){return""===e.replace(/\s+/g,"")}(e)&&(!(JSON.stringify(e).length-2>500)||(this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"comment-reply-list-component.comment-length-alert",defaultMessage:"cannot comment more than {MAX_COMMENT_SIZE} words",values:{MAX_COMMENT_SIZE:500}}),onConfirm:function(){return t.setState({showAlert:!1})}}}),!1))}},{key:"submitComment",value:function(e){var t=this.props.onCommentAdded,a=this.state.comment;a=a.trim(),e.isComposing||e.key&&"Enter"!==e.key||!this.commentValidate(a)||(zo()(":focus").is("input")&&e.preventDefault(),t(a),this.setState({comment:""}))}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.submitComment,!1),document.addEventListener("click",this.onClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.submitComment,!1),document.removeEventListener("click",this.onClick,!1)}},{key:"onClick",value:function(e){"INPUT"!==e.target.tagName.toUpperCase()&&-1===e.target.className.toString().indexOf("dd-list-item")&&this.setState({isEditIndex:-1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.commentContents,n=t.isLoading,r=t.userImg,o=t.userId,i=t.openCommentSettingMenuModal,s=this.state,l=s.comment,c=s.showAlert,d=s.alertData;return w.a.createElement("div",{className:ei.a.root},w.a.createElement("div",{className:ei.a.scrollable},w.a.createElement("div",null,a.map(function(e,t){return w.a.createElement(ni,{key:t,userId:o,index:t,item:e,openMenu:i})})),n?w.a.createElement("div",{className:ei.a["spinner-item"]},w.a.createElement(de.ClipLoader,{color:"#aaa",size:15,loading:n})):null,w.a.createElement("div",{className:ei.a["action-section"]},w.a.createElement("div",{className:ei.a["comment-creator-profile"]},w.a.createElement("label",null,w.a.createElement("img",{id:"profile-pic",src:r||Se,alt:"Commenter Profile"}))),w.a.createElement("div",{className:ei.a["comment-input"]},w.a.createElement("input",{autoFocus:!St(),value:l,name:"comment-input",onChange:function(t){return e.setState({comment:t.target.value})}})),w.a.createElement("div",{className:ei.a["comment-action-icon"],onClick:this.submitComment}))),w.a.createElement(oa,{show:c,alertData:d}))}}]),t}(k.PureComponent),ni=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={editComment:"",isEditIndex:-1},a.onEditComment=a.onEditComment.bind(Object(z.a)(a)),a.setToEditMode=a.setToEditMode.bind(Object(z.a)(a)),a.onMenuClicked=a.onMenuClicked.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"onEditComment",value:function(e){this.setState({editComment:e.target.value})}},{key:"setToEditMode",value:function(e,t){this.setState({isEditIndex:e,editComment:t})}},{key:"onMenuClicked",value:function(e,t,a){var n=this;e.preventDefault(),e.stopPropagation(),this.props.openMenu(t.subContentId,function(){return n.setToEditMode(a,t.contentBlockArray[0])})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isEditIndex,n=t.editComment,r=this.props,o=r.userId,i=r.item,s=r.index;return w.a.createElement("div",{className:ei.a["list-item"]},w.a.createElement("div",{className:ei.a["comment-creator-profile"]},w.a.createElement("img",{src:i.creatorImg||Se,alt:"Commenter Profile"})),w.a.createElement("div",{className:ei.a["comment-content-container"]},w.a.createElement("div",null,w.a.createElement("div",{className:ei.a["comment-creator"]},w.a.createElement("div",{className:ei.a["comment-creator-name"]},i.creatorName)),s===a?w.a.createElement("div",{className:ei.a["comment-content-wrapper"]},w.a.createElement("div",{className:ei.a["comment-content-input"]},w.a.createElement("span",null,w.a.createElement("input",{autoFocus:!0,name:"comment-input",className:ei.a["comment-action-content-input"],value:n,onChange:this.onEditComment}))),w.a.createElement("div",{className:ei.a["comment-action-input-enter"]})):w.a.createElement("div",{className:ei.a["comment-content"]},Mt(i.contentBlockArray[0]))),w.a.createElement("div",{title:Nt(i.createTS.T),className:ei.a["comment-creator-id-prefix"]},At(i.createTS.T))),w.a.createElement("div",{title:ze[i.status],className:ei.a["comment-status-wrapper"]},w.a.createElement("div",{className:"".concat(ei.a["comment-status"]," ").concat(ei.a[Et(i.status)])})),w.a.createElement("div",{className:ei.a["comment-manage"]},"(\u672c\u6587\u5df2\u88ab\u522a\u9664)"===i.contentBlockArray[0]||i.creatorId!==o?null:w.a.createElement("div",{className:ei.a["list-item-ellipsis"],onClick:function(t){return e.onMenuClicked(t,i,s)}})))}}]),t}(k.PureComponent),ri=ai,oi=a(76),ii=a.n(oi),si=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.boardInfo,a=e.articleInfo,n=e.userId,r=e.openManageArticleModal,o=n===a.CreatorID;return w.a.createElement("div",{className:ii.a.root},w.a.createElement("div",{className:ii.a.content},w.a.createElement("div",{className:ii.a["prev-button"]},w.a.createElement(J.b,{to:"/board/".concat(t.ID)},w.a.createElement("div",{className:ii.a["prev-button-icon"]}))),w.a.createElement("div",{title:a.Title,className:ii.a["board-name"]},a.Title),w.a.createElement("div",{className:ii.a["menu-button"]},o?w.a.createElement("div",{className:ii.a["menu-button-icon"],onClick:r}):null)))}}]),t}(k.PureComponent),li="ARTICLE_PAGE",ci=Object(la.createDuck)(li,"article_page"),di=ci.defineType("INIT"),mi=ci.defineType("ADD_CHILD"),ui=ci.defineType("SET_ROOT"),pi=ci.defineType("REMOVE_CHILDS"),fi=ci.defineType("REMOVE"),gi=ci.defineType("SET_DATA"),vi=ci.defineType("APPEND_ARTICLE"),hi=ci.defineType("APPEND_COMMENT"),bi=ci.defineType("ADD_COMMENT"),_i=ci.defineType("DELETE_COMMENT"),yi=function(e,t,a,n){return function(r,o){r(da({myId:e,myClass:li,myDuck:ci,parentId:t,parentClass:a,parentDuck:n}))}},Ii=function(e,t){return function(a,n){a({myId:e,myClass:li,type:gi,data:{boardId:decodeURIComponent(t.boardId),articleId:decodeURIComponent(t.articleId)}})}},Ci=function(e,t){return function(a,n){a(Pa(t)).then(function(t){var n=t.response.result;t.type,t.error,t.query;a(Ei(e,n))})}},Ei=function(e,t){var a={ID:(t=kn(t)).ID,Status:t.S,Title:t.Title,LastSeen:t.LastSeen?t.LastSeen:Ca(),UpdateTS:t.UpdateTS?t.UpdateTS:Ca(),ArticleCreateTS:t.ArticleCreateTS?t.ArticleCreateTS:Ca()};return console.log("doArticlePage.postprocessGetBoardInfo: boardInfo:",a),{myId:e,myClass:li,type:gi,data:{boardInfo:a}}},Mi=function(e,t,a){return function(n,r){n(Va(t,a)).then(function(t){var a=t.response.result,r=(t.type,t.error,t.query,[a.CreatorID]);n(cn(r)).then(function(t){n(Si(e,a,t))})})}},Si=function(e,t,a){t=kn(t),a=a.reduce(function(e,t){return e[t.key]=t.value,e},{});var n=t.CreatorID,r=a.userName||{},o=a.userImg||{},i=r[n]?Pn(r[n].N):"guest",s=o[n]?o[n].I:Se,l={ID:t.ID,CreateTS:t.CreateTS?t.CreateTS:Ca(),UpdateTSkey:t.UpdateTSkey,CreatorID:t.CreatorID,CreatorName:i,CreatorImg:s,BoardID:t.BoardID,ContentBlockID:t.ContentBlockID,NBlock:t.NBlock,NPush:t.NPush,NBoo:t.NBoo,Title:t.Title,LastSeen:t.LastSeen?t.LastSeen:Ca()};return console.log("doArticlePage.postprocessGetArticleInfo: articleInfo:",l),{myId:e,myClass:li,type:gi,data:{articleInfo:l}}},Oi=function(e,t,a){return function(n,r){n(Ya(t,a)).then(function(t){var a=t.response.result;t.type,t.error,t.query;n(Ti(e,a))})}},Ti=function(e,t){return{myId:e,myClass:li,type:gi,data:{}}},Ni=function(e,t,a,n,r){return function(o,i){o(Va(t,a)).then(function(i){var s=i.response,l=(i.type,i.error,i.query,s.result.ContentBlockID),c=s.result.NBlock;o(Za(t,a,l,0,n,c<r?c:r,2)).then(function(t){var a=t.response.result,r=(t.type,t.error,t.query,a.map(function(e){return e.CID}).filter(function(e){return e}));o(cn(r)).then(function(t){o(Di(e,a,n,t))})})})}},Di=function(e,t,a,n){n=n.reduce(function(e,t){return e[t.key]=t.value,e},{});var r=t.map(function(e){var t=e.CID,a=n.userName||{},r=n.userImg||{},o=a[t]?Pn(a[t].N):"guest",i=r[t]?r[t].I:Se;return{contentBlockArray:e.B.map(function(e){return dt(Pn(e))}),blockId:e.BID,subContentId:e.ID,articleId:e.RID,contentType:e.ct,commentType:e.mt,creatorId:e.CID,status:e.S,creatorName:o,creatorImg:i}});return console.log("doArticlePage.postprocessGetArticleContent: result:",r),0===r.length?{myId:e,myClass:li,type:gi,data:{allArticleLoaded:!0}}:0===a?{myId:e,myClass:li,type:gi,data:{articleContentsList:r}}:{myId:e,myClass:li,type:vi,data:{articleContents:r}}},Ai=function(e,t){var a=t.myId,n=t.data.articleContents,r=e.getIn([a,"articleContentsList"],$.a.List()),o=r.length;return n.length>0&&(o=r.toJS().findIndex(function(e){return e.blockId===n[0].blockId})),-1===o&&(o=r.length),e.setIn([a,"articleContentsList"],r.slice(0,o).concat(n))},ji=function(e,t,a,n,r,o){return function(i,s){i(Za(t,a,n,1,r,o,n===Me?2:1)).then(function(t){var a=t.response.result,r=(t.type,t.error,t.query,a.map(function(e){return e.CID}).filter(function(e){return e}));i(cn(r)).then(function(t){i(Li(e,a,n,t))})})}},Li=function(e,t,a,n){n=n.reduce(function(e,t){return e[t.key]=t.value,e},{});var r=t.map(function(e){var t=e.CID,a=n.userName||{},r=n.userImg||{},o=a[t]?Pn(a[t].N):"guest",i=r[t]?r[t].I:Se;return{contentBlockArray:e.B.map(function(e){return Pn(e)}),blockId:e.BID,subContentId:e.ID,articleId:e.RID,contentType:e.ct,commentType:e.mt,creatorId:e.CID,status:e.S,creatorName:o,creatorImg:i,createTS:e.CT?e.CT:Ca(),updateTS:e.UT?e.UT:Ca()}});if(console.log("doArticlePage.postprocessGetCommentContent: result:",r),a===Me){var o=new Kr.a(100);return r.forEach(function(e,t){o.set(e.subContentId,{index:t,comment:e})}),{myId:e,myClass:li,type:gi,data:{commentContents:{lru:o,commentContentsList:r}}}}return{myId:e,myClass:li,type:hi,data:{comments:r.reverse()}}},ki=function(e,t){var a=t.myId,n=t.data.comments,r=e.getIn([a,"commentContents"],$.a.Map()).toJS(),o=r.commentContentsList||[],i=r.lru||new Kr.a(100),s=[];if(0===o.length)n.forEach(function(e,t){s.push(e),i.set(e.subContentId,{index:t,comment:e})});else{var l=new Kr.a(100),c=null,d=2147483648;n.forEach(function(e,t){l.set(e.subContentId,e),i.get(e.subContentId)&&i.get(e.subContentId).comment.createTS.T<d&&(c=i.get(e.subContentId),d=c.comment.createTS.T)});for(var m=c?c.index:o.length,u=0,p=m,f=o.slice(0,m),g=[];o.length>m||n.length>u;)if(o.length>m&&n.length>u){var v=o[m],h=n[u];v.createTS.T<=h.createTS.T?(l.get(v.subContentId)||(g.push(v),i.set(v.subContentId,{index:p,comment:v}),p+=1),m+=1):(g.push(h),i.set(h.subContentId,{index:p,comment:h}),p+=1,u+=1)}else if(o.length>m){var b=o[m];l.get(b.subContentId)||(g.push(b),i.set(b.subContentId,{index:p,comment:b}),p+=1),m+=1}else{var _=n[u];g.push(_),i.set(_.subContentId,{index:p,comment:_}),p+=1,u+=1}s=f.concat(g),l.reset()}return e=(e=e.setIn([a,"commentContents","lru"],i)).setIn([a,"commentContents","commentContentsList"],$.a.List(s))},wi=function(e,t,a,n,r){return function(o,i){o(Wi(e)),o(Za(t,a,n,1,0,r,2)).then(function(t){var a=t.response.result,r=(t.type,t.error,t.query,a?a.map(function(e){return e.CID}).filter(function(e){return e}):[]);o(cn(r)).then(function(t){o(Pi(e,a,n,t)),o(Yi(e))})})}},Pi=function(e,t,a,n){if(!t)return{myId:e,myClass:li,type:gi,data:{allCommentsLoaded:!0}};t=(t=t.map(kn)).slice(1),n=n.reduce(function(e,t){return e[t.key]=t.value,e},{});var r=t.map(function(e){var t=e.CID,a=n.userName||{},r=n.userImg||{},o=a[t]?Pn(a[t].N):"guest",i=r[t]?r[t].I:Se;return{contentBlockArray:e.B.map(function(e){return Pn(e)}),blockId:e.BID,subContentId:e.ID,articleId:e.RID,contentType:e.ct,commentType:e.mt,status:e.S,creatorId:e.CID,creatorName:o,creatorImg:i,createTS:e.CT?e.CT:Ca(),updateTS:e.UT?e.UT:Ca()}});return console.log("doArticlePage.postprocessGetMoreComments: commentContentsList:",r),0===r.length?{myId:e,myClass:li,type:gi,data:{allCommentsLoaded:!0}}:{myId:e,myClass:li,type:hi,data:{comments:r}}},Bi=function(e,t,a,n,r){return function(o,i){o(Ga(t,a,n,r)).then(function(t){var a=t.response.result;t.type,t.query,t.error;o(Za(a.BID,a.AID,a.cID,0,0,100,2)).then(function(t){var a=t.response,n=(t.type,t.error,t.query,a.result.map(function(e){return e.CID}).filter(function(e){return e})),r=a.result;o(cn(n)).then(function(t){o(Di(e,r,0,t))})})})}},Ri=function(e,t,a){return function(n,r){n(Ha(t,a)).then(function(r){r.response.result,r.type,r.query,r.error;n(xi(e,t,a))})}},xi=function(e,t,a){console.log("doArticlePage.postprocessDeleteArticle: result:",a)},Fi=function(e,t,a,n,r,o,i,s){return function(l,c){l(function(e,t,a,n){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_createComment",params:[e,t,0,wn(a),n]}})}(t,a,n,s)).then(function(s){var c=s.response.result;s.type,s.query,s.error;l(Ui(e,t,a,c.CID,n,r,o,i))})}},Ui=function(e,t,a,n,r,o,i,s){var l={contentBlockArray:[r],blockId:0,subContentId:n,articleId:a,contentType:1,commentType:null,status:0,creatorId:s,creatorName:o,creatorImg:i,createTS:Ca(),updateTS:Ca()};return console.log("doArticlePage.postprocessAddComment: newComment:",l),{myId:e,myClass:li,type:bi,data:{comment:l}}},qi=function(e,t){var a=t.myId,n=t.data.comment,r=e.getIn([a,"commentContents"],$.a.Map()).toJS(),o=r.commentContentsList||[],i=r.lru;return i.set(n.subContentId,{index:o.length,comment:n}),e=(e=e.setIn([a,"commentContents","lru"],i)).updateIn([a,"commentContents","commentContentsList"],function(e){return e.push($.a.Map(n))})},Ji=function(e,t,a,n,r){return function(r,o){r(function(e,t,a,n){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"content_deleteComment",params:[e,t,a]}})}(t,a,n)).then(function(t){t.response.result,t.type,t.query,t.error;r(Gi(e,n))})}},Gi=function(e,t){return console.log("doArticlePage.postprocessDeleteComment: commentId:",t),{myId:e,myClass:li,type:_i,data:{commentId:t}}},Hi=function(e,t){var a=t.myId,n=t.data.commentId;return e.updateIn([a,"commentContents","commentContentsList"],function(e){return e.filter(function(e){return e.subContentId!==n})})},Vi=function(e){return function(t,a){t(Ki(e))}},Ki=function(e){return{myId:e,myClass:li,type:gi,data:{articleContentsList:[],commentContents:{lru:null,commentContentsList:[]},allArticleLoaded:!1,allCommentsLoaded:!1}}},Wi=function(e){return console.log("doArticlePage.preprocessSetStartLoading"),{myId:e,myClass:li,type:gi,data:{isCommentLoading:!0}}},Yi=function(e){return console.log("doArticlePage.postprocessSetFinshLoading"),{myId:e,myClass:li,type:gi,data:{isCommentLoading:!1}}},zi=function(e,t,a,n){return function(e,r){e(function(e,t){return Object(ia.a)({},Aa,{endpoint:U.PTTAI_APP_ROOT+"/api/file/"+e+"/"+t,method:"get",files:{gzip:!0},gzip:!0})}(t,a)).then(function(e){var t=e.response;e.type,e.query,e.error;n(t)})}};var Zi,Xi,Qi=function(e,t,a,n,r,o,i){return function(t,a){t(function(e,t){return function(a){return Promise.all(t.map(function(t){return"IMAGE"===t.type?a(jn(e,t)).then(function(e){var a=e.response.result;return e.type,e.query,e.error,{attachmentId:t.id,mediaId:a.ID,boardId:a.BID,type:"IMAGE"}}):a(Ln(e,t)).then(function(e){var a=e.response.result;return e.type,e.query,e.error,{attachmentId:t.id,mediaId:a.ID,boardId:a.BID,type:"FILE"}})}))}}(n,i)).then(function(a){var s=a.reduce(function(e,t){return e[t.attachmentId]=t.mediaId,e},{}),l=o.map(function(e,t){if(e.type===He||e.type===Ge){var a=e.param;i.forEach(function(e){a.id===e.id&&(a.id=s[e.id])}),e.param=a}return JSON.stringify(e)}),c=a.map(function(e){return e.mediaId});t(Ga(n,r,l,c)).then(function(a){var n=a.response.result,r=(a.type,a.query,a.error,n.BID),o=n.AID,i=n.cID;t(Za(r,o,i,0,0,0,2)).then(function(a){var n=a.response,r=(a.type,a.error,a.query,n.result.map(function(e){return e.CID}).filter(function(e){return e}));t(cn(r)).then(function(a){t(Di(e,n.result,0,a))})})})})}},$i=ci.createReducer((ti={},Object(ia.a)(ti,di,ua),Object(ia.a)(ti,mi,va),Object(ia.a)(ti,ui,fa),Object(ia.a)(ti,pi,ha),Object(ia.a)(ti,fi,ba),Object(ia.a)(ti,gi,_a),Object(ia.a)(ti,vi,Ai),Object(ia.a)(ti,bi,qi),Object(ia.a)(ti,_i,Hi),Object(ia.a)(ti,hi,ki),ti),$.a.Map()),es=a(141),ts=a.n(es),as=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).refreshPageInterval=null,a.state={pullTimer:null,attachmentTimer:null,count:0},a.pullContent=a.pullContent.bind(Object(z.a)(a)),a.attachmentLoaded=a.attachmentLoaded.bind(Object(z.a)(a)),a.handleScroll=a.handleScroll.bind(Object(z.a)(a)),a.needFetchMore=a.needFetchMore.bind(Object(z.a)(a)),a.downloadAttachment=a.downloadAttachment.bind(Object(z.a)(a)),a.getLatestComment=a.getLatestComment.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.actions.doArticlePage,a=e.match.params,n=e.myId;t.initParams(n,a),t.getBoardInfo(n,decodeURIComponent(a.boardId)),t.getArticleInfo(n,decodeURIComponent(a.boardId),decodeURIComponent(a.articleId)),t.getArticleContent(n,decodeURIComponent(a.boardId),decodeURIComponent(a.articleId),0,100),t.getCommentContent(n,decodeURIComponent(a.boardId),decodeURIComponent(a.articleId),Me,0,100),this.refreshPageInterval=setInterval(this.getLatestComment,5e3)}},{key:"getLatestComment",value:function(){var e=this.props,t=e.myId,a=e.actions.doArticlePage,n=e.match.params;a.getBoardInfo(t,decodeURIComponent(n.boardId)),a.getArticleInfo(t,decodeURIComponent(n.boardId),decodeURIComponent(n.articleId)),a.getArticleContent(t,decodeURIComponent(n.boardId),decodeURIComponent(n.articleId),0,100),a.getCommentContent(t,decodeURIComponent(n.boardId),decodeURIComponent(n.articleId),Me,0,100)}},{key:"downloadAttachment",value:function(e,t){var a=this.props,n=a.actions.doArticlePage,r=a.match.params,o=a.myId;n.downloadFile(o,decodeURIComponent(r.boardId),t.fileId,function(e){var a=document.createElement("a");a.href=URL.createObjectURL(new Blob([e])),a.setAttribute("download",t.fileName),document.body.appendChild(a),a.click()})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.actions.doArticlePage,a=e.match.params,n=e.myId,r=this.state,o=r.pullTimer,i=r.attachmentTimer;clearInterval(o),clearInterval(i),this.setState({pullTimer:setInterval(this.pullContent,1e3),attachmentTimer:setInterval(this.attachmentLoaded,100)}),t.markArticle(n,decodeURIComponent(a.boardId),decodeURIComponent(a.articleId)),Dr.firePageView()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.actions.doArticlePage,a=e.myId,n=this.state,r=n.pullTimer,o=n.attachmentTimer;t.clearData(a),clearInterval(r),clearInterval(o),clearInterval(this.refreshPageInterval)}},{key:"pullContent",value:function(){var e=this.props,t=e.myId,a=e.articlePage,n=e.actions.doArticlePage,r=e.match.params,o=this.state,i=o.count,s=o.pullTimer,l=a.get(t,$.a.Map()).get("articleContentsList",$.a.List()).toJS();l=l.filter(function(e){return 0===e.contentType}),n.getArticleContent(t,decodeURIComponent(r.boardId),decodeURIComponent(r.articleId),0,100),l.length>0||10===i?(this.setState({count:0}),clearInterval(s)):this.setState({count:i+1})}},{key:"attachmentLoaded",value:function(){var e=this.state.attachmentTimer,t=this;Array.from(zo()("iframe.ql-attachment")).reduce(function(e,t,a){return e&&zo()(zo()(t).contents()[0],window).find(".pttai-editor-file-attachment").length},!0)&&Array.from(zo()("iframe.ql-attachment")).length&&(Array.from(zo()("iframe.ql-attachment")).forEach(function(e){var a={fileId:zo()(e).attr("data-id"),fileName:zo()(e).attr("data-name"),fileSize:zo()(e).attr("data-size"),fileType:zo()(e).attr("data-type")};zo()(zo()(e).contents()[0],window).find(".pttai-editor-file-attachment").bind("click",function(e){return t.downloadAttachment(e,a)})}),clearInterval(e))}},{key:"needFetchMore",value:function(){var e=this.props,t=e.myId,a=e.articlePage,n=this.scroller,r=n.scrollTop,o=n.clientHeight,i=n.scrollHeight,s=a.get(t,$.a.Map()),l=s.get("isCommentLoading",!1),c=s.get("allCommentsLoaded",!1);return this.scroller&&!l&&!c&&r+o>=i}},{key:"handleScroll",value:function(){if(this.needFetchMore()){var e=this.props,t=e.myId,a=e.articlePage,n=e.actions.doArticlePage,r=a.get(t,$.a.Map()),o=r.get("boardId",""),i=r.get("articleId",""),s=r.get("commentContents",$.a.Map()).toJS().commentContentsList||[],l=s.length>0?s[s.length-1].subContentId:Me;n.getMoreComments(t,o,i,l,100)}}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.myId,n=t.location,r=t.match.params,o=t.actions.doArticlePage,i=this.state,s=i.pullTimer,l=i.attachmentTimer;e.location.pathname!==n.pathname&&(o.clearData(a),o.initParams(a,r),o.getBoardInfo(a,decodeURIComponent(r.boardId)),o.getArticleInfo(a,decodeURIComponent(r.boardId),decodeURIComponent(r.articleId)),o.getArticleContent(a,decodeURIComponent(r.boardId),decodeURIComponent(r.articleId),0,100),o.getCommentContent(a,decodeURIComponent(r.boardId),decodeURIComponent(r.articleId),Me,0,100),o.markArticle(a,decodeURIComponent(r.boardId),decodeURIComponent(r.articleId)),clearInterval(s),clearInterval(l),clearInterval(this.refreshPageInterval),this.setState({pullTimer:setInterval(this.pullContent,1e3),attachmentTimer:setInterval(this.attachmentLoaded,100)}),this.refreshPageInterval=setInterval(this.getLatestComment,5e3))}},{key:"render",value:function(){var e=this,t=this.props,a=t.myId,n=t.articlePage,r=t.actions,o=r.doArticlePage,i=r.doModalContainer,s=this.state.count;if(!a)return w.a.createElement(ie,null);var l=ft(this.props).getIn(["userInfo","userId"]),c=ft(this.props).getIn(["userInfo","userName"]),d=ft(this.props).getIn(["userInfo","userImg"]),m=n.get(a,$.a.Map()),u=m.get("boardId",""),p=m.get("articleId",""),f=m.get("isCommentLoading",!1),g=m.get("boardInfo",$.a.Map()).toJS(),v=m.get("articleInfo",$.a.Map()).toJS(),h=m.get("articleContentsList",$.a.List()).toJS(),b=m.get("commentContents",$.a.Map()).toJS().commentContentsList||[],_=function(){o.deleteArticle(a,u,p),i.closeModal(),e.props.history.push("/board/".concat(u))},y=function(e,t,n){o.createArticleWithAttachments(a,c,d,u,p,t,n),o.markArticle(a,u,p),i.closeModal()},I=function(){i.setInput({boardId:g.ID,articleTitle:v.Title,articleContentsList:h,onDeleteArticle:_}),i.setSubmit(y),i.openModal("EDIT_ARTICLE_MODAL")};return w.a.createElement("div",{className:ts.a.root,onScroll:this.handleScroll,ref:function(t){e.scroller=t}},w.a.createElement(si,{userId:l,boardInfo:g,articleInfo:v,openManageArticleModal:function(e){i.setInput({isCreator:v.CreatorID===l,articleId:v.ID,onEditArticle:I,onDeleteArticle:_}),i.openModal("ARTICLE_SETTING_MENU_MODAL")}}),zo.a.isEmptyObject(v)?w.a.createElement("div",{className:ts.a.time}):w.a.createElement("div",{title:Lt(v.CreateTS.T),className:ts.a.time},At(v.CreateTS.T)),w.a.createElement(Qo,{boardInfo:g,userId:l,pullCount:s,articleInfo:v,articleContentsList:h,openNameCard:function(){i.setInput({userId:v.CreatorID,isEditable:!1}),i.openModal("NAME_CARD_MODAL")}}),w.a.createElement(ri,{isLoading:f,userId:l,userImg:d,commentContents:b,onCommentAdded:function(e){o.addComment(a,u,p,e,c,d,l,""),o.markArticle(a,u,p),Dr.fireEventOnProb("Comment","CreateCommentSuccess",.1)},openCommentSettingMenuModal:function(e,t){i.setInput({onDeleteComment:function(){return function(e){o.deleteComment(a,u,p,e,"")}(e)},onEditComment:t}),i.openModal("COMMENT_SETTING_MENU_MODAL")}}))}}]),t}(k.PureComponent),ns=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doArticlePage:Object(X.b)(i,e),doModalContainer:Object(X.b)(r,e)}}})(as),rs="PROFILE_PAGE",os=Object(la.createDuck)(rs,"Profile_Page"),is=os.defineType("INIT"),ss=os.defineType("ADD_CHILD"),ls=os.defineType("SET_ROOT"),cs=os.defineType("REMOVE_CHILDS"),ds=os.defineType("REMOVE"),ms=os.defineType("SET_DATA"),us=function(e,t,a,n){return function(r,o){r(da({myId:e,myClass:rs,myDuck:os,parentId:t,parentClass:a,parentDuck:n}))}},ps=os.createReducer((Zi={},Object(ia.a)(Zi,is,ua),Object(ia.a)(Zi,ss,va),Object(ia.a)(Zi,ls,fa),Object(ia.a)(Zi,cs,ha),Object(ia.a)(Zi,ds,ba),Object(ia.a)(Zi,ms,_a),Zi),$.a.Map()),fs=a(77),gs=a.n(fs),vs=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={profilePic:"",showAlert:!1,alertData:{message:"",onClose:null,onConfirm:null}},a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.userId,a=e.userName,n=e.userImg,r=e.openNameCard,o=e.isChatRoom,i=e.onSettingClicked,s=this.state,l=s.alertData,c=s.showAlert,d=gs.a.root;return o&&(d+=" "+gs.a.collapsed),w.a.createElement("div",{className:d},w.a.createElement("div",{className:gs.a.content},w.a.createElement("div",{className:gs.a["profile-picture"],onClick:r},n?w.a.createElement("img",{src:n,alt:"User Profile"}):null),w.a.createElement("div",{className:gs.a["profile-description"],onClick:r},w.a.createElement("div",{title:t,className:gs.a.name},a)),w.a.createElement("div",{className:gs.a["profile-qr-code"],onClick:i})),w.a.createElement(oa,{show:c,alertData:l}))}}]),t}(k.PureComponent),hs=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doProfilePage:Object(X.b)(s,e),doModalContainer:Object(X.b)(r,e)}}})(vs),bs=a(32),_s=a.n(bs),ys=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).topItem=null,a.onMenuTrigger=a.onMenuTrigger.bind(Object(z.a)(a)),a.needFetchMore=a.needFetchMore.bind(Object(z.a)(a)),a.handleScroll=a.handleScroll.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"needFetchMore",value:function(){var e=this.props,t=e.isLoading,a=e.allFriendsLoaded,n=this.scroller.scrollTop;return this.scroller&&!t&&!a&&n<=0}},{key:"handleScroll",value:function(){if(this.needFetchMore()){var e=this.props,t=e.onGetMoreFriends,a=e.friendList[0].friendID;this.topItem=0===this.scroller.childNodes[0].childNodes.length?null:this.scroller.childNodes[0].childNodes[0],t(a)}}},{key:"onMenuTrigger",value:function(e,t){var a=this.props.openFriendSettingMenuModal;e.preventDefault(),e.stopPropagation(),a(t.chatId)}},{key:"render",value:function(){var e=this,t=this.props,a=t.friendList,n=t.userName,r=t.noFriend,o=t.isLoading,i=t.intl;if(r)return w.a.createElement("div",{className:_s.a.root,onScroll:this.handleScroll,ref:function(t){e.scroller=t}},w.a.createElement("div",{className:_s.a["no-content-message"]},w.a.createElement(F.a,{id:"friend-list-component.message",defaultMessage:"You have no friend yet, click below button to add"})),w.a.createElement("div",{className:_s.a["spinner-item"]},w.a.createElement(de.BeatLoader,{color:"#aaa",size:10,loading:!1})));var s=a.sort(function(e,t){return t.SummaryUpdateTS.T-e.SummaryUpdateTS.T}).filter(function(e){return e.FriendStatus<ze.indexOf("StatusDeleted")});return w.a.createElement("div",{className:_s.a.root,onScroll:this.handleScroll,ref:function(t){e.scroller=t}},w.a.createElement("div",null,o?w.a.createElement("div",{className:_s.a.loader},w.a.createElement(de.ClipLoader,{color:"#aaa",size:35,loading:o})):null,s.map(function(t,a){var r=t.friendID&&t.chatId?"/friend/".concat(t.friendID,"/chat/").concat(t.chatId):"#",o=dt(t.Summary),s=ht(t.ArticleCreateTS&&t.ArticleCreateTS.T,t.LastSeen&&t.LastSeen.T);return w.a.createElement("div",{className:_s.a["list-item"]+" "+(s?_s.a.unread:""),key:a},w.a.createElement(J.b,{to:r},w.a.createElement("div",{className:_s.a["list-item-author"]},w.a.createElement("div",{className:_s.a["list-item-author-pic"]},w.a.createElement("img",{src:t.Img||Se,alt:"Friend Profile"})),w.a.createElement("div",{title:ze[t.FriendStatus],className:_s.a["list-item-author-status"]},w.a.createElement("div",{className:_s.a["list-item-author-status-circle"]+" "+_s.a[Et(t.FriendStatus)]}))),w.a.createElement("div",{className:_s.a["list-item-main"]},w.a.createElement("div",{className:_s.a["list-item-header"]},w.a.createElement("div",{className:_s.a["list-item-title"]},t.Name,"JoinStatusAccepted"===Ze[t.joinStatus]?"":"(".concat(i.formatMessage({id:"friend-list-component.syncing"}),")")),w.a.createElement("div",{className:_s.a["list-item-time"]},t.ArticleCreateTS.T?At(t.ArticleCreateTS.T):"")),w.a.createElement("div",{className:_s.a["list-item-description"]},t.nameCard&&t.nameCard.company?t.nameCard.company:"unknown"),w.a.createElement("div",{className:_s.a["list-item-content"]},2===o.type?w.a.createElement(F.a,{id:"friend-list-component.message2",defaultMessage:"\\u2605 {INVITING_USER_NAME} invited {INVITED_USER_NAME} to join a board",values:{INVITING_USER_NAME:t.SummaryUserName,INVITED_USER_NAME:t.friendID===t.SummaryUserID?n:t.Name}}):w.a.createElement("span",null,o.value))),w.a.createElement("div",{className:_s.a["list-item-meta"]},w.a.createElement("div",{className:_s.a["list-item-circle"]}),w.a.createElement("div",{className:_s.a["list-item-ellipsis"],onClick:function(a){return e.onMenuTrigger(a,t)}}))))})),w.a.createElement("div",{className:_s.a["spinner-item"]},w.a.createElement(de.BeatLoader,{color:"#aaa",size:10,loading:!1})))}}]),t}(k.PureComponent),Is=Object(F.d)(ys),Cs=a(92),Es=a.n(Cs),Ms=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.friendList,a=e.addFriendAction,n=e.userName,r=e.isLoading,o=e.onGetMoreFriends,i=e.allFriendsLoaded,s=e.noFriend,l=e.openFriendSettingMenuModal;return w.a.createElement("div",{className:Es.a.root},w.a.createElement(Is,{userName:n,isLoading:r,noFriend:s,friendList:t,onGetMoreFriends:o,allFriendsLoaded:i,openFriendSettingMenuModal:l}),w.a.createElement("div",{className:Es.a["add-icon-container"]},w.a.createElement("div",{className:Es.a["add-icon-subcontainer"]},w.a.createElement("div",{className:Es.a["add-icon-container"]},w.a.createElement("div",{className:Es.a["add-icon-subcontainer"]},w.a.createElement("div",{id:"add-friend-button",className:Es.a["add-icon"],onClick:a}))))))}}]),t}(k.PureComponent),Ss="FRIEND_LIST_PAGE",Os=Object(la.createDuck)(Ss,"Friend_List_Page"),Ts=Os.defineType("INIT"),Ns=Os.defineType("ADD_CHILD"),Ds=Os.defineType("SET_ROOT"),As=Os.defineType("REMOVE_CHILDS"),js=Os.defineType("REMOVE"),Ls=Os.defineType("SET_DATA"),ks=Os.defineType("PREPEND_FRIENDS"),ws=Os.defineType("APPEND_FRIENDS"),Ps=Os.defineType("ADD_FRIEND"),Bs=Os.defineType("DELETE_FRIEND"),Rs=function(e,t,a,n){return function(r,o){r(da({myId:e,myClass:Ss,myDuck:Os,parentId:t,parentClass:a,parentDuck:n}))}};function xs(e){return function(t){return Promise.all(e.map(function(e,a){return t(en(e,Me,1)).then(function(a){var n=a.response,r=(a.type,a.error,a.query,n.result&&n.result.length?n.result[0].ID:null),o=n.result&&n.result.length?n.result[0].ContentBlockID:null,i=n.result&&n.result.length?n.result[0].CreatorID:null;return t(tn(e,r,o,0,0,1)).then(function(e){var t=e.response.result,a=(e.type,e.query,e.error);return a?{error:!0,key:"messageBlock",value:a}:{error:!1,key:"messageBlock",value:t&&t.length?Object(H.a)({UpdateTS:n.result&&n.result.length?n.result[0].UpdateTS:Ca(),SummaryUserID:i},t[0]):{}}})})}))}}var Fs=function(e,t,a){return function(n,r){t&&n($s(e)),n(Xa(Me,a)).then(function(a){var r=a.response;a.type,a.query,a.error;n(Qa(Me)).then(function(a){var o=a.response,i=(a.type,a.query,a.error,r.result.map(function(e){return e.ID}));n(xs(i)).then(function(a){var i=r.result.map(function(e){return e.FID}).filter(function(e){return e}),s=a.map(function(e){return e.error?{}:e.value}),l=s.map(function(e){return e.SummaryUserID}).filter(function(e){return e});n(cn([].concat(Object(me.a)(i),Object(me.a)(l)))).then(function(a){n(Us(e,r.result,o.result,s,a,t)),t&&n(el(e))})})})})}},Us=function(e,t,a,n,r,o){t=(t=t.map(function(e){return Object(H.a)({friendID:e.FID},e)})).map(kn),r=r.reduce(function(e,t){return e[t.key]=t.value,e},{});var i=t.map(function(e,t){var a=e.friendID,o=n[t].SummaryUserID,i=r.userName||{},s=r.userImg||{},l=r.userNameCard||{},c=i[a]?Pn(i[a].N):"guest",d=s[a]?s[a].I:Se,m=l[a]&&l[a].C?JSON.parse(Pn(l[a].C)):Oe,u=i[o]?Pn(i[o].N):"guest",p=s[o]?s[o].I:Se,f=e.ArticleCreateTS?e.ArticleCreateTS:Ca();return{Name:c,Img:d,nameCard:m,friendID:e.friendID,chatId:e.ID,BoardID:e.BID,FriendStatus:e.S,SummaryStatus:n[t].S,LastSeen:e.LT?e.LT:Ca(),ArticleCreateTS:f,SummaryUpdateTS:n[t].UpdateTS?n[t].UpdateTS:f,SummaryUserID:o,SummaryUserName:u,SummaryUserImg:p,Summary:n[t].B&&n[t].B.length>0?Pn(n[t].B[0]):JSON.stringify({type:1,value:""}),joinStatus:3}});return a.map(function(e){return{CreatorID:e.C,NodeID:e.n,Name:Pn(e.N),Status:e.S}}).forEach(function(e,t){var a=i.findIndex(function(t){return t.friendID===e.CreatorID});if(a>=0)i[a].joinStatus=e.Status;else{var n=e.CreatorID,o=r.userName||{},s=r.userImg||{},l=r.userNameCard||{},c=o[n]?Pn(o[n].N):"guest",d=s[n]?s[n].I:Se,m=l[n]&&l[n].C?JSON.parse(Pn(l[n].C)):Oe;i.push({Name:e.Name||c,Img:d,friendID:n,nameCard:m,chatId:null,BoardID:Me,FriendStatus:null,SummaryStatus:null,LastSeen:Ca(),ArticleCreateTS:Ca(),SummaryUpdateTS:Ca(),SummaryUserID:Me,SummaryUserName:"",SummaryUserImg:"",Summary:JSON.stringify({type:1,value:""}),joinStatus:e.Status})}}),console.log("doFriendListPage.postprocessGetFriendList: friendList:",i,a),0===i.length&&o?{myId:e,myClass:Ss,type:Ls,data:{myFriends:{lru:null,offset:0,friendList:[]},noFriend:!0}}:0!==i.length||o?{myId:e,myClass:Ss,type:ws,data:{friends:i.sort(function(e,t){return e.SummaryUpdateTS.T<t.SummaryUpdateTS.T?-1:e.SummaryUpdateTS.T>t.SummaryUpdateTS.T?1:0}),noFriend:!1}}:{myId:e,myClass:Ss,type:Ls,data:{}}},qs=function(e,t,a){return function(n,r){n($s(e)),n(Xa(t,a)).then(function(t){var a=t.response;t.type,t.query,t.error;n(Qa(Me)).then(function(t){var r=t.response,o=(t.type,t.query,t.error,a.result.map(function(e){return e.ID}));n(xs(o)).then(function(t){var o=a.result.map(function(e){return e.FID}).filter(function(e){return e}),i=t.map(function(e){return e.error?{}:e.value}),s=i.map(function(e){return e.SummaryUserID}).filter(function(e){return e});n(cn([].concat(Object(me.a)(o),Object(me.a)(s)))).then(function(t){n(Js(e,a.result,r.result,i,t)),n(el(e))})})})})}},Js=function(e,t,a,n,r){t=(t=t.map(function(e){return Object(H.a)({friendID:e.FID},e)})).map(kn),a=a.map(kn),r=r.reduce(function(e,t){return e[t.key]=t.value,e},{});var o=t.map(function(e,t){var a=e.friendID,o=n[t].SummaryUserID,i=r.userName||{},s=r.userImg||{},l=r.userNameCard||{},c=i[a]?Pn(i[a].N):"guest",d=s[a]?s[a].I:Se,m=l[a]&&l[a].C?JSON.parse(Pn(l[a].C)):Oe,u=i[o]?Pn(i[o].N):"guest",p=s[o]?s[o].I:Se,f=e.ArticleCreateTS?e.ArticleCreateTS:Ca();return{Name:c,Img:d,nameCard:m,friendID:e.friendID,chatId:e.ID,BoardID:e.BID,FriendStatus:e.S,SummaryStatus:n[t].S,LastSeen:e.LT?e.LT:Ca(),ArticleCreateTS:f,SummaryUpdateTS:n[t].UpdateTS?n[t].UpdateTS:f,SummaryUserID:o,SummaryUserName:u,SummaryUserImg:p,Summary:n[t].B&&n[t].B.length>0?Pn(n[t].B[0]):JSON.stringify({type:1,value:""}),joinStatus:3}});return a.map(function(e){return{CreatorID:e.C,NodeID:e.n,Name:Pn(e.N),Status:e.S}}).forEach(function(e,t){var a=o.findIndex(function(t){return t.friendID===e.CreatorID});if(a>=0)o[a].joinStatus=e.Status;else{var n=e.CreatorID,i=r.userName||{},s=r.userImg||{},l=r.userNameCard||{},c=i[n]?Pn(i[n].N):"guest",d=s[n]?s[n].I:Se,m=l[n]&&l[n].C?JSON.parse(Pn(l[n].C)):Oe;o.push({Name:e.Name||c,Img:d,friendID:n,nameCard:m,chatId:null,BoardID:Me,FriendStatus:null,SummaryStatus:null,LastSeen:Ca(),ArticleCreateTS:Ca(),SummaryUpdateTS:Ca(),SummaryUserID:Me,SummaryUserName:"",SummaryUserImg:"",Summary:JSON.stringify({type:1,value:""}),joinStatus:e.Status})}}),console.log("doFriendListPage.postprocessGetMoreFriendList: friendList:",o,a),0===o.length?{myId:e,myClass:Ss,type:Ls,data:{allFriendsLoaded:!0}}:{myId:e,myClass:Ss,type:ks,data:{friendList:o.sort(function(e,t){return e.SummaryUpdateTS.T<t.SummaryUpdateTS.T?-1:e.SummaryUpdateTS.T>t.SummaryUpdateTS.T?1:0})}}},Gs=function(e,t){var a=t.myId,n=t.data.friends,r=e.getIn([a,"myFriends","friendList"],$.a.List()),o=e.getIn([a,"myFriends","offset"],0);return e=(e=e.setIn([a,"myFriends","offset"],o+n.length)).setIn([a,"myFriends","friendList"],$.a.List(n).concat(r))},Hs=function(e,t){var a=t.myId,n=t.data,r=n.friends,o=n.noFriend;if(!r||r.length<=0)return e;var i=e.getIn([a,"myFriends"],$.a.Map()).toJS(),s=i.friendList||[],l=i.lru||new Kr.a(100),c=i.offset||0,d=[];if(0===s.length)r.forEach(function(e,t){d.push(e),l.set(e.friendID,{index:t-c,friend:e})});else{var m=new Kr.a(100),u=null,p=2147483648;r.forEach(function(e,t){m.set(e.friendID,e),l.get(e.friendID)&&l.get(e.friendID).friend.SummaryUpdateTS.T<p&&(u=l.get(e.friendID),p=u.friend.SummaryUpdateTS.T)});for(var f=u?u.index:s.length-c,g=0,v=f,h=s.slice(0,c+f),b=[];s.length>c+f||r.length>g;)if(s.length>c+f&&r.length>g){var _=s[c+f],y=r[g];_.SummaryUpdateTS.T<=y.SummaryUpdateTS.T?(m.get(_.friendID)||(b.push(_),l.set(_.friendID,{index:v,friend:_}),v+=1),f+=1):(b.push(y),l.set(y.friendID,{index:v,friend:y}),v+=1,g+=1)}else if(s.length>c+f){var I=s[c+f];m.get(I.friendID)||(b.push(I),l.set(I.friendID,{index:v,friend:I}),v+=1),f+=1}else{var C=r[g];b.push(C),l.set(C.friendID,{index:v,friend:C}),v+=1,g+=1}d=h.concat(b),m.reset()}return e=(e=(e=(e=e.setIn([a,"noFriend"],o)).setIn([a,"myFriends","offset"],c)).setIn([a,"myFriends","lru"],l)).setIn([a,"myFriends","friendList"],$.a.List(d))},Vs=function(e,t,a){return function(n,r){n(function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"me_joinFriend",params:[e]}})}(t)).then(function(r){var o=r.response,i=o.result,s=o.error;r.type,r.query;s?a({error:!0,data:s.message,friendReqUrl:t}):(a({error:!1,data:i}),n(cn([i.C])).then(function(t){n(Ks(e,i,t))}))})}},Ks=function(e,t,a){a=a.reduce(function(e,t){return e[t.key]=t.value,e},{});var n=t.C,r=a.userImg||{},o=a.userNameCard||{},i=r[n]?r[n].I:Se,s=o[n]&&o[n].C?JSON.parse(Pn(o[n].C)):Oe,l={Name:Pn(t.N),Img:i,friendID:n,nameCard:s,chatId:null,BoardID:null,FriendStatus:0,SummaryStatus:0,LastSeen:Ca(),ArticleCreateTS:Ca(),SummaryUpdateTS:Ca(),SummaryUserID:null,Summary:JSON.stringify({type:1,value:""}),joinStatus:0};return console.log("doFriendListPage.postprocessAddNewFriend: combinedFriend:",l),{myId:e,myClass:Ss,type:Ps,data:{friend:l,noFriend:!1}}},Ws=function(e,t){var a=t.myId,n=t.data,r=n.friend,o=n.noFriend,i=e.getIn([a,"myFriends"],$.a.Map()).toJS(),s=i.friendList||[],l=i.lru||new Kr.a(100);return l.set(r.friendID,{index:s.length,friend:r}),e=(e=(e=e.setIn([a,"noFriend"],o)).setIn([a,"myFriends","lru"],l)).updateIn([a,"myFriends","friendList"],function(e){return e.push($.a.Map(r))})},Ys=function(e,t,a){return function(n,r){n($a(t)).then(function(r){var o=r.response,i=o.result,s=o.error;r.type,r.query;s?a({error:!0,data:s.message,chatId:t}):(a({error:!1,data:i}),n(cn([i.C])).then(function(a){n(zs(e,t))}))})}},zs=function(e,t){return console.log("doFriendListPage.postprocessDeleteFriend: chatId:",t),{myId:e,myClass:Ss,type:Bs,data:{chatId:t}}},Zs=function(e,t){var a=t.myId,n=t.data.chatId;return e.updateIn([a,"myFriends","friendList"],function(e){return e.filter(function(e){return e.chatId!==n})})};var Xs=function(e){return function(t,a){t(function(e){return Promise.all([e(Nn()).then(function(e){var t=e.response.result,a=(e.type,e.query,e.error);return a?{error:!0,key:"deviceJoinKey",value:a}:{error:!1,key:"deviceJoinKey",value:t}}),e(An()).then(function(e){var t=e.response.result,a=(e.type,e.query,e.error);return a?{error:!0,key:"userPrivateKey",value:a}:{error:!1,key:"userPrivateKey",value:t}}),e(Dn()).then(function(e){var t=e.response.result,a=(e.type,e.query,e.error);return a?{error:!0,key:"friendJoinKey",value:a}:{error:!1,key:"friendJoinKey",value:t}})])}).then(function(a){t(Qs(e,a))})}},Qs=function(e,t){console.log("doFriendListPage.postprocessGetKeyInfo: keyInfo: ",t);var a=t.find(function(e){return"deviceJoinKey"===e.key}).value,n=t.find(function(e){return"userPrivateKey"===e.key}).value,r=t.find(function(e){return"friendJoinKey"===e.key}).value,o={userPrivateKey:n,deviceJoinKey:{URL:a.URL,UpdateTS:a.UT?a.UT:Ca(),expirePeriod:a.e},friendJoinKey:{URL:r.URL,UpdateTS:r.UT?r.UT:Ca(),expirePeriod:r.e}};return{myId:e,myClass:Ss,type:Ls,data:{keyInfo:o}}},$s=function(e){return console.log("doFriendListPage.preprocessSetStartLoading"),{myId:e,myClass:Ss,type:Ls,data:{isLoading:!0}}},el=function(e){return console.log("doFriendListPage.postprocessSetFinshLoading"),{myId:e,myClass:Ss,type:Ls,data:{isLoading:!1}}},tl=function(e){return function(t,a){t(al(e))}},al=function(e){return{myId:e,myClass:Ss,type:Ls,data:{myFriends:{lru:null,offset:0,friendList:[]},noFriend:!1,isLoading:!1,allFriendsLoaded:!1}}},nl=Os.createReducer((Xi={},Object(ia.a)(Xi,Ts,ua),Object(ia.a)(Xi,Ns,va),Object(ia.a)(Xi,Ds,fa),Object(ia.a)(Xi,As,ha),Object(ia.a)(Xi,js,ba),Object(ia.a)(Xi,Ls,_a),Object(ia.a)(Xi,Ps,Ws),Object(ia.a)(Xi,Bs,Zs),Object(ia.a)(Xi,ks,Gs),Object(ia.a)(Xi,ws,Hs),Xi),$.a.Map()),rl=a(313),ol=a.n(rl),il=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).refreshPageInterval=null,a.state={showAlert:!1,alertData:{message:"",onClose:null,onConfirm:null}},a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){this.props.markSeen(),Dr.firePageView()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.actions.doFriendListPage,a=e.myId;t.getFriendList(a,!0,100),t.getKeyInfo(a),this.refreshPageInterval=setInterval(function(){return t.getFriendList(a,!1,100)},5e3)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.actions.doFriendListPage,a=e.myId;clearInterval(this.refreshPageInterval),t.clearData(a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.myId,n=t.friendListPage,r=t.actions,o=r.doFriendListPage,i=r.doModalContainer,s=this.state,l=s.showAlert,c=s.alertData;if(!a)return w.a.createElement(ie,null);var d=ft(this.props).getIn(["userInfo","userName"]),m=n.get(a,$.a.Map()),u=m.get("keyInfo",$.a.Map()).toJS(),p=m.getIn(["myFriends","friendList"],$.a.List()).toJS(),f=m.get("isLoading",!1),g=m.get("noFriend",!1),v=m.get("allFriendsLoaded",!1),h=function(){o.getKeyInfo(a)},b=function(t){if(t.error){var a=e;e.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message20",defaultMessage:"[Failed] {data}:{friendReqUrl}",values:{data:t.data,friendReqUrl:t.friendReqUrl}}),onConfirm:function(){return a.setState({showAlert:!1})}}}),Dr.fireEvent("Friend","addFriendFailed")}else{var n=e;e.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message21",defaultMessage:"[Success] Friend Added"}),onConfirm:function(){return n.setState({showAlert:!1})}}}),i.closeModal(),Dr.fireEvent("Friend","addFriendSucess")}},_=function(t){!function(t){var n=e,r=u&&u.friendJoinKey&&u.friendJoinKey.URL;t&&t.startsWith("pnode://")?r===t?e.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"add-friend-modal.add-self-alert",defaultMessage:"Add yourself is not allowed"}),onConfirm:function(){return n.setState({showAlert:!1})}}}):o.addFriend(a,t,b):e.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message22",defaultMessage:"Friend id empty or invalid"}),onConfirm:function(){return n.setState({showAlert:!1})}}})}(t)},y=function(t){if(t.error){var a=e;e.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message31",defaultMessage:"[Failed] {data}:{chatId}",values:{data:t.data,chatId:t.chatId}}),onConfirm:function(){return a.setState({showAlert:!1})}}})}else{var n=e;e.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message30",defaultMessage:"[Success] Friend Deleted"}),onConfirm:function(){return n.setState({showAlert:!1})}}}),i.closeModal()}};return w.a.createElement("div",{className:ol.a.root},w.a.createElement(Ms,{userName:d,isLoading:f,noFriend:g,friendList:p,addFriendAction:function(){i.setInput({friend:{data:u,addFriendAction:_,refreshKeyInfo:h},keyInfo:{data:u,refreshKeyInfo:h}}),i.openModal("ADD_FRIEND_MODAL")},openFriendSettingMenuModal:function(e){i.setInput({onDeleteFriend:function(){return function(e){o.deleteFriend(a,e,y)}(e)}}),i.openModal("FRIEND_SETTING_MENU_MODAL")},onGetMoreFriends:function(e){o.getMoreFriendlist(a,e,100)},allFriendsLoaded:v}),w.a.createElement(oa,{show:l,alertData:c}))}}]),t}(k.PureComponent),sl=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doFriendListPage:Object(X.b)(l,e),doModalContainer:Object(X.b)(r,e)}}})(il),ll=a(89),cl=a(55),dl=a.n(cl),ml=function(e){var t=e.friendData,a=e.openNameCard,n=e.openFriendSettingMenuModal;return w.a.createElement("div",{className:dl.a.root},w.a.createElement("div",{className:dl.a.content},w.a.createElement("div",{className:dl.a["prev-button"]},w.a.createElement(J.b,{to:"/friend"},w.a.createElement("div",{className:dl.a["prev-button-icon"]}))),w.a.createElement("div",{className:dl.a["main-content"],onClick:a},w.a.createElement("div",{className:dl.a["profile-pic"]},w.a.createElement("img",{src:t.Img||Se,alt:"Friend Profile"})),w.a.createElement("div",{className:dl.a["friend-content"]},w.a.createElement("div",{className:dl.a.name,onClick:a},t.Name||"guest"),w.a.createElement("div",{title:t.ID,className:dl.a.job,onClick:null},t.NameCard&&t.NameCard.company||"unknown"),w.a.createElement("div",{hidden:!0,className:dl.a.description},t.description))),w.a.createElement("div",{className:dl.a["menu-wrapper"]},w.a.createElement("div",{className:dl.a.menu,onClick:function(){return n(t.ID)}},w.a.createElement(ll.a,{icon:"ellipsis-h"})))))},ul=a(22),pl=a.n(ul);function fl(e){return""===e.replace(/\s+/g,"")}var gl,vl=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).topItem=null,a.state={inputMessage:"",showAlert:!1,alertData:{message:"",onClose:null,onConfirm:null}},a.onInputEnter=a.onInputEnter.bind(Object(z.a)(a)),a.handleMessageSubmit=a.handleMessageSubmit.bind(Object(z.a)(a)),a.handleAcceptInvite=a.handleAcceptInvite.bind(Object(z.a)(a)),a.handleScroll=a.handleScroll.bind(Object(z.a)(a)),a.needFetchMore=a.needFetchMore.bind(Object(z.a)(a)),a.scrollToBottom=a.scrollToBottom.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"onInputEnter",value:function(e){var t=this.state.inputMessage;if(!(e.isComposing||e.key&&"Enter"!==e.key))if("Enter"===e.key&&zo()(":focus").is("input")){if(e.preventDefault(),fl(t))return;this.handleMessageSubmit(t),this.setState({inputMessage:""})}else if(!e.key){if(fl(t))return;this.handleMessageSubmit(t),this.setState({inputMessage:""})}}},{key:"handleAcceptInvite",value:function(e){var t=this.props.onJoinBoard,a=this;e&&e.startsWith("pnode://")?t(e,function(e){e.error?a.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message7",defaultMessage:"[Error] {data}:{boardUrl}",values:{data:e.data,boardUrl:e.boardUrl}}),onConfirm:function(){return a.setState({showAlert:!1})}}}):a.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message25",defaultMessage:"[Success] Board Joined"}),onConfirm:function(){return a.setState({showAlert:!1})}}})}):a.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message8",defaultMessage:"Board name empty or invalid"}),onConfirm:function(){return a.setState({showAlert:!1})}}})}},{key:"handleMessageSubmit",value:function(e){var t=this.props.onMessageAdded,a=this,n=e.trim();JSON.stringify(n).length-2>500?this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message2",defaultMessage:"Input message cannot exceed {MAX_COMMENT_SIZE} words",values:{MAX_COMMENT_SIZE:500}}),onConfirm:function(){return a.setState({showAlert:!1})}}}):t(n)}},{key:"needFetchMore",value:function(){var e=this.props,t=e.isLoading,a=e.allMessagesLoaded,n=this.scroller.scrollTop;return this.scroller&&!t&&!a&&n<=0}},{key:"handleScroll",value:function(){if(this.needFetchMore()){var e=this.props,t=e.onGetMoreMessages,a=e.messageList[0].MessageID;this.topItem=0===this.scroller.childNodes[0].childNodes.length?null:this.scroller.childNodes[0].childNodes[0],t(a)}}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onInputEnter,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onInputEnter,!1)}},{key:"scrollToBottom",value:function(e){this.pageEnd.scrollIntoView({behavior:e})}},{key:"componentDidUpdate",value:function(e){var t=this;0===e.messageList.length&&this.props.messageList.length>0||e.match.path!==this.props.match.path?setTimeout(function(){return t.scrollToBottom("instant")},300):this.topItem&&e.isLoading&&!this.props.isLoading?B.a.findDOMNode(this.topItem).scrollIntoView():e.messageList.length>0&&this.props.messageList.length===e.messageList.length+1&&this.scrollToBottom("smooth")}},{key:"render",value:function(){var e=this,t=this.props,a=t.intl,n=t.messageList,r=t.isLoading,o=t.noMessage,i=this.state,s=i.inputMessage,l=i.showAlert,c=i.alertData,d=a.formatMessage({id:"friend-chat-component.placeholder"});return w.a.createElement("div",{className:pl.a.root},w.a.createElement("div",{className:pl.a.chat,onScroll:this.handleScroll,ref:function(t){e.scroller=t}},o?w.a.createElement("div",{className:pl.a["no-message"]},w.a.createElement(F.a,{id:"friend-chat-component.title",defaultMessage:"Start chatting!"})):r?w.a.createElement("div",null,w.a.createElement("div",{className:pl.a.loader},w.a.createElement(de.ClipLoader,{color:"#aaa",size:35,loading:r}))):w.a.createElement(hl,{messageList:n,boardList:e.props.boardList,userId:e.props.userId,history:e.props.history,handleAcceptInvite:e.handleAcceptInvite}),w.a.createElement("div",{className:pl.a.bottomElement,ref:function(t){e.pageEnd=t}})),w.a.createElement("div",{className:pl.a["message-input"]},w.a.createElement("input",{autoFocus:!St(),placeholder:d,value:s,onChange:function(t){return e.setState({inputMessage:t.target.value})}}),w.a.createElement("div",{className:pl.a["message-action"],onClick:this.onInputEnter})),w.a.createElement(oa,{show:l,alertData:c}))}}]),t}(k.PureComponent),hl=function(e){var t=e.messageList;return w.a.createElement("div",null,t.map(function(a,n){var r,o,i,s=null;return n>0&&(o=t[n].CreateTS.T,i=t[n-1].CreateTS.T,_e.a.unix(o).format("YYYY-MM-DD")!==_e.a.unix(i).format("YYYY-MM-DD"))&&(s=w.a.createElement("div",{className:pl.a["message-divider"]},w.a.createElement("span",null,(r=t[n].CreateTS.T,_e.a.unix(r).format("MMM Do"))))),w.a.createElement("div",{key:a.ID},s,w.a.createElement(bl,Object.assign({},e,{message:a})))}))},bl=function(e){var t=e.message,a=e.userId,n=dt(t.Buf),r=t.CreatorID===a;if(2!==n.type)return r?w.a.createElement("div",{className:pl.a["user-message-item"]},w.a.createElement("div",{className:pl.a["user-message-meta"]},w.a.createElement("div",{title:ze[t.Status],className:pl.a["user-message-status"]},w.a.createElement("div",{className:pl.a["user-message-status-circle-"+Et(t.Status)]})),w.a.createElement("div",{className:pl.a["user-message-time"]}," ",Dt(t.CreateTS.T))),w.a.createElement("div",{className:pl.a["user-message-content"]},Mt(n.value))):w.a.createElement("div",{className:pl.a["message-item"]},w.a.createElement("div",{className:pl.a["message-content"]},Mt(n.value)),w.a.createElement("div",{className:pl.a["message-meta"]},w.a.createElement("div",{title:ze[t.Status],className:pl.a["message-status"]},w.a.createElement("div",{className:pl.a["message-status-circle-"+Et(t.Status)]})),w.a.createElement("div",{className:pl.a["message-time"]},Dt(t.CreateTS.T))));var o=zo()(n.value),i={};return i.inviteType=o.data("action-type"),i.boardId=o.data("board-id"),i.boardName=o.data("board-name"),i.boardJoinKey=o.data("join-key"),i.keyUpdateTS_T=o.data("update-ts"),i.keyExpiration=o.data("expiration"),r?w.a.createElement("div",{className:pl.a["user-message-item"]},w.a.createElement("div",{className:pl.a["user-message-meta"]},w.a.createElement("div",{title:ze[t.Status],className:pl.a["user-message-status"]},w.a.createElement("div",{className:pl.a["user-message-status-circle-"+Et(t.Status)]})),w.a.createElement("div",{className:pl.a["user-message-time"]}," ",Dt(t.CreateTS.T))),w.a.createElement("div",{className:pl.a["user-message-content-invitation"]},w.a.createElement("span",null,w.a.createElement(F.a,{id:"friend-chat-component.action3",defaultMessage:"Sent Group Invitation"}),w.a.createElement("span",null,i.boardName),w.a.createElement(F.a,{id:"friend-chat-component.action4",defaultMessage:" ({expTimeVal})",values:{expTimeVal:jt(i.keyUpdateTS_T,i.keyExpiration)}})))):w.a.createElement("div",{className:pl.a["message-item"]},w.a.createElement(_l,{inviteInfo:i,handleAcceptInvite:e.handleAcceptInvite,boardList:e.boardList,history:e.history}),w.a.createElement("div",{className:pl.a["message-meta"]},w.a.createElement("div",{title:ze[t.Status],className:pl.a["message-status"]},w.a.createElement("div",{className:pl.a["message-status-circle-"+Et(t.Status)]})),w.a.createElement("div",{className:pl.a["message-time"]},Dt(t.CreateTS.T))))},_l=function(e){var t=e.inviteInfo,a=e.boardList,n=e.handleAcceptInvite,r=e.history,o=a.find(function(e){return e.ID===t.boardId});return o&&o.Status<ze.indexOf("StatusDeleted")?w.a.createElement("div",{className:pl.a["message-content-invitation"],onClick:function(){return r.push("/board/".concat(t.boardId))}},w.a.createElement("span",null,w.a.createElement(F.a,{id:"friend-chat-component.action1",defaultMessage:"You Have Joined"}),w.a.createElement("span",null,t.boardName),w.a.createElement(F.a,{id:"friend-chat-component.action1-2",defaultMessage:"Click to go to Group"}))):function(e,t){var a=_e.a.unix(e).add(t,"seconds");return _e()().isBefore(a)}(t.keyUpdateTS_T,t.keyExpiration)?w.a.createElement("div",{className:pl.a["message-content-invitation"],onClick:function(){return n(t.boardJoinKey)}},w.a.createElement("span",null,w.a.createElement(F.a,{id:"friend-chat-component.action2",defaultMessage:"Invited to"}),w.a.createElement("span",null,t.boardName),w.a.createElement(F.a,{id:"friend-chat-component.action2-2",defaultMessage:"Click to join ({expTimeVal})",values:{expTimeVal:jt(t.keyUpdateTS_T,t.keyExpiration)}}))):w.a.createElement("div",{className:"".concat(pl.a["message-content-invitation"]," ").concat(pl.a.expired)},w.a.createElement("span",null,w.a.createElement(F.a,{id:"friend-chat-component.action2",defaultMessage:"Invited to"}),w.a.createElement("span",null,t.boardName),w.a.createElement(F.a,{id:"friend-chat-component.action2-2",defaultMessage:"Click to join ({expTimeVal})",values:{expTimeVal:jt(t.keyUpdateTS_T,t.keyExpiration)}})))},yl=Object(F.d)(vl),Il="FRIEND_CHAT_PAGE",Cl=Object(la.createDuck)(Il,"Friend_Chat_Page"),El=Cl.defineType("INIT"),Ml=Cl.defineType("ADD_CHILD"),Sl=Cl.defineType("SET_ROOT"),Ol=Cl.defineType("REMOVE_CHILDS"),Tl=Cl.defineType("REMOVE"),Nl=Cl.defineType("SET_DATA"),Dl=Cl.defineType("ADD_MESSAGE"),Al=Cl.defineType("PREPEND_MESSAGES"),jl=Cl.defineType("APPEND_MESSAGES"),Ll=Cl.defineType("DELETE_FRIEND"),kl=function(e,t,a,n){return function(r,o){r(da({myId:e,myClass:Il,myDuck:Cl,parentId:t,parentClass:a,parentDuck:n}))}},wl=function(e,t){return function(a,n){a({myId:e,myClass:Il,type:Nl,data:{friendId:decodeURIComponent(t.friendId)}})}},Pl=function(e,t){return function(a,n){a(function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"friend_getFriendByFriendID",params:[e]}})}(t)).then(function(t){var n=t.response.result,r=(t.type,t.error);t.query;if(r)return console.warn("getFriend got error",r);var o=[n.FID];a(cn(o)).then(function(t){return a(Bl(e,n,t))})})}},Bl=function(e,t,a){t=kn(t),a=a.reduce(function(e,t){return e[t.key]=t.value,e},{});var n=t.FID,r=a.userName||{},o=a.userImg||{},i=a.userNameCard||{},s=r[n]?Pn(r[n].N):"guest",l=o[n]&&o[n].I?o[n].I:Se,c=i[n]&&i[n].C?JSON.parse(Pn(i[n].C)):Oe,d={ID:t.ID,Name:s,Img:l,NameCard:c,BoardID:t.BID,LastSeen:t.LT?t.LT:Ca()};return console.log("doFriendChatPage.postprocessGetFriend: friendData:",d),{myId:e,myClass:Il,type:Nl,data:{friendData:d}}},Rl=function(e,t){return function(a,n){a(function(e){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"friend_markFriendSeen",params:[e]}})}(t)).then(function(t){var n=t.response.result;t.type,t.error,t.query;a(xl(e,n))})}},xl=function(e,t){return{myId:e,myClass:Il,type:Nl,data:{}}};function Fl(e,t,a){return function(n){return Promise.all(t.map(function(r,o){return n(tn(e,t[o],a[o],0,0,1)).then(function(e){var a=e.response.result,n=(e.type,e.query,e.error);return n?{error:!0,key:"messageBlock",value:n}:a&&a.length>0?{error:!1,key:"messageBlock",value:a[0]}:(console.warn("getMessageBlockList for messageId = ",t[o]," return empty result :",a),{error:!0,key:"messageBlock",value:{}})})}))}}var Ul,ql,Jl,Gl,Hl,Vl,Kl=function(e,t,a,n){return function(r,o){a&&r(nc(e)),r(en(t,Me,n)).then(function(n){var o=n.response.result,i=(n.type,n.error,n.query,o&&o.length>0?o.filter(function(e){return e&&e.ID&&e.BlockID&&e.CreatorID}):[]),s=i.map(function(e){return e.ID}),l=i.map(function(e){return e.BlockID}),c=i.map(function(e){return e.CreatorID});Promise.all([r(Fl(t,s,l)),r(cn(c))]).then(function(t){var n=Object(sa.a)(t,2),o=n[0],l=n[1];r(Wl(e,c,s,a,o,i,l)),a&&r(rc(e))})})}},Wl=function(e,t,a,n,r,o,i){i=i.reduce(function(e,t){return e[t.key]=t.value,e},{});var s=[];return r.forEach(function(e,n){if(!e.error){var r=t[n],l=i.userName||{},c=i.userImg||{},d=l[r]?Pn(l[r].N):"guest",m=c[r]&&c[r].I?c[r].I:Se;s.push({ID:e.value.ID,MessageID:a[n],ArticleID:e.value.AID,CreateTS:o[n].CreateTS?o[n].CreateTS:Ca(),UpdateTS:o[n].UpdateTS?o[n].UpdateTS:Ca(),CreatorID:t[n],CreatorName:d,CreatorImg:m,Status:e.value.S,Buf:Pn(e.value.B)})}}),console.log("doFriendChatPage.postprocessGetMessageList: messageList:",s),0===s.length&&n?{myId:e,myClass:Il,type:Nl,data:{friendMessages:{lru:null,offset:0,messageList:[]},noMessage:!0}}:0!==s.length||n?{myId:e,myClass:Il,type:jl,data:{messages:s.reverse(),noMessage:!1}}:{myId:e,myClass:Il,type:Nl,data:{}}},Yl=function(e,t,a,n){return function(r,o){r(nc(e)),r(en(t,a,n)).then(function(a){var n=a.response.result,o=(a.type,a.error,a.query,n&&n.length>0?n.filter(function(e){return e&&e.ID&&e.BlockID&&e.CreatorID}):[]),i=o.map(function(e){return e.ID}),s=o.map(function(e){return e.BlockID}),l=o.map(function(e){return e.CreatorID});Promise.all([r(Fl(t,i,s)),r(cn(l))]).then(function(t){var a=Object(sa.a)(t,2),n=a[0],s=a[1];r(zl(e,l,i,n,o,s)),r(rc(e))})})}},zl=function(e,t,a,n,r,o){o=o.reduce(function(e,t){return e[t.key]=t.value,e},{});var i=[];return n.forEach(function(e,n){if(0!==n&&!e.error){var s=t[n],l=o.userName||{},c=o.userImg||{},d=l[s]?Pn(l[s].N):"guest",m=c[s]&&c[s].I?c[s].I:Se;i.push({ID:e.value.ID,MessageID:a[n],ArticleID:e.value.AID,CreateTS:r[n].CreateTS?r[n].CreateTS:Ca(),UpdateTS:r[n].UpdateTS?r[n].UpdateTS:Ca(),CreatorID:t[n],CreatorName:d,CreatorImg:m,Status:e.value.S,Buf:Pn(e.value.B)})}}),console.log("doFriendChatPage.postprocessGetMoreMessageList: messageList:",i),0===i.length?{myId:e,myClass:Il,type:Nl,data:{allMessagesLoaded:!0}}:{myId:e,myClass:Il,type:Al,data:{messages:i.reverse()}}},Zl=function(e,t){var a=t.myId,n=t.data.messages,r=e.getIn([a,"friendMessages","messageList"],$.a.List()),o=e.getIn([a,"friendMessages","offset"],0);return e=(e=e.setIn([a,"friendMessages","offset"],o+n.length)).setIn([a,"friendMessages","messageList"],$.a.List(n).concat(r))},Xl=function(e,t){var a=t.myId,n=t.data,r=n.messages,o=n.noMessage;if(!r||r.length<=0)return e;var i=e.getIn([a,"friendMessages"],$.a.Map()).toJS(),s=i.messageList||[],l=i.lru||new Kr.a(100),c=i.offset||0,d=[];if(0===s.length)r.forEach(function(e,t){d.push(e),l.set(e.ID,{index:t-c,message:e})});else{var m=new Kr.a(30),u=null,p=2147483648;r.forEach(function(e,t){m.set(e.ID,e),l.get(e.ID)&&l.get(e.ID).message.CreateTS.T<p&&(u=l.get(e.ID),p=u.message.CreateTS.T)});for(var f=u?u.index:s.length-c,g=0,v=f,h=s.slice(0,c+f),b=[];s.length>c+f||r.length>g;)if(s.length>c+f&&r.length>g){var _=s[c+f],y=r[g];_.CreateTS.T<=y.CreateTS.T?(m.get(_.ID)||(b.push(_),l.set(_.ID,{index:v,message:_}),v+=1),f+=1):(b.push(y),l.set(y.ID,{index:v,message:y}),v+=1,g+=1)}else if(s.length>c+f){var I=s[c+f];m.get(I.ID)||(b.push(I),l.set(I.ID,{index:v,message:I}),v+=1),f+=1}else{var C=r[g];b.push(C),l.set(C.ID,{index:v,message:C}),v+=1,g+=1}d=h.concat(b),m.reset()}return e=(e=(e=(e=e.setIn([a,"noMessage"],o)).setIn([a,"friendMessages","offset"],c)).setIn([a,"friendMessages","lru"],l)).setIn([a,"friendMessages","messageList"],$.a.List(d))},Ql=function(e,t,a,n,r,o){return function(i,s){i(an(r,[o],[])).then(function(r){var s=r.response.result;r.type,r.error,r.query;i($l(e,t,a,n,s,o))})}},$l=function(e,t,a,n,r,o){var i={ID:r.cID,ArticleID:r.AID,CreateTS:Ca(),UpdateTS:Ca(),CreatorID:t,CreatorName:a,CreatorImg:n,Status:0,Buf:o};return console.log("doFriendChatPage.postprocessPostMessage: newMessage:",i),{myId:e,myClass:Il,type:Dl,data:{message:i,noMessage:!1}}},ec=function(e,t){var a=t.myId,n=t.data,r=n.message,o=n.noMessage;if(!r||!r.ID||!r.ArticleID)return e;var i=e.getIn([a,"friendMessages"],$.a.Map()).toJS(),s=i.lru||new Kr.a(100),l=i.offset||0,c=i.messageList||[];return s.set(r.ID,{index:c.length-l,message:r}),e=(e=(e=e.setIn([a,"noMessage"],o)).setIn([a,"friendMessages","lru"],s)).updateIn([a,"friendMessages","messageList"],function(e){return e.push($.a.Map(r))})},tc=function(e){return function(t,a){t(ac(e))}},ac=function(e){return{myId:e,myClass:Il,type:Nl,data:{friendMessages:{lru:null,offset:0,messageList:[]},friendData:{},allMessagesLoaded:!1,friendId:"",boardList:[]}}},nc=function(e){return console.log("doFriendChatPage.preprocessSetStartLoading"),{myId:e,myClass:Il,type:Nl,data:{isLoading:!0}}},rc=function(e){return console.log("doFriendChatPage.postprocessSetFinshLoading"),{myId:e,myClass:Il,type:Nl,data:{isLoading:!1}}},oc=function(e,t){return function(a,n){a(Ra(Me,t)).then(function(t){var n=t.response.result,r=(t.type,t.query,t.error,n.map(function(e){return e.C}));a(cn(r)).then(function(t){a(ic(e,n,t))})})}},ic=function(e,t,a){t=(t=t.map(function(e){return Object(H.a)({CreatorID:e.C},e)})).map(kn),a=a.reduce(function(e,t){return e[t.key]=t.value,e},{});var n=t.map(function(e){var t=e.CreatorID,n=a.userName||{},r=n[t]?Pn(n[t].N):"guest";return{BoardType:e.BT,ID:e.ID,Status:e.S,Title:e.Title,ArticleCreateTS:e.ArticleCreateTS?e.ArticleCreateTS:Ca(),UpdateTS:e.UpdateTS?e.UpdateTS:Ca(),LastSeen:e.LastSeen?e.LastSeen:Ca(),CreatorID:e.CreatorID,creatorName:r}});return console.log("doFriendChatPage.postprocessGetBoardList: boardList:",n),{myId:e,myClass:Il,type:Nl,data:{boardList:n}}},sc=function(e,t,a){return function(n,r){n($a(t)).then(function(r){var o=r.response,i=o.result,s=o.error;r.type,r.query;s?a({error:!0,data:s.message,chatId:t}):(a({error:!1,data:i}),n(cn([i.C])).then(function(a){n(lc(e,t))}))})}},lc=function(e,t){return{myId:e,myClass:Il,type:Ll,data:{chatId:t}}},cc=function(e,t,a){return function(e,n){e(xa(t)).then(function(e){var n=e.response,r=n.result,o=n.error;e.type,e.query;a(o?{error:!0,data:o.message,boardUrl:t}:{error:!1,data:r})})}},dc=Cl.createReducer((gl={},Object(ia.a)(gl,El,ua),Object(ia.a)(gl,Ml,va),Object(ia.a)(gl,Sl,fa),Object(ia.a)(gl,Ol,ha),Object(ia.a)(gl,Tl,ba),Object(ia.a)(gl,Nl,_a),Object(ia.a)(gl,Dl,ec),Object(ia.a)(gl,Al,Zl),Object(ia.a)(gl,jl,Xl),gl),$.a.Map()),mc=a(314),uc=a.n(mc),pc=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).refreshPageInterval=null,a.getLatestMessage=a.getLatestMessage.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"getLatestMessage",value:function(){var e=this.props,t=e.myId,a=e.markSeen,n=e.actions.doFriendChatPage,r=e.match.params;n.getMessageList(t,decodeURIComponent(r.chatId),!1,30),n.getBoardList(t,100),n.markChat(t,decodeURIComponent(r.chatId)),a()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.actions.doFriendChatPage,a=e.match.params,n=e.myId;t.clearData(n),t.initParams(n,a),t.getFriend(n,decodeURIComponent(a.friendId)),t.getMessageList(n,decodeURIComponent(a.chatId),!0,30),t.getBoardList(n,100),this.refreshPageInterval=setInterval(this.getLatestMessage,5e3)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.actions.doFriendChatPage,a=e.myId;t.clearData(a),clearInterval(this.refreshPageInterval)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.markSeen,a=e.actions.doFriendChatPage,n=e.match.params,r=e.myId;a.markChat(r,decodeURIComponent(n.chatId)),t(),Dr.firePageView()}},{key:"render",value:function(){var e=this,t=this.props,a=t.myId,n=t.history,r=t.friendChatPage,o=t.markSeen,i=t.actions,s=i.doFriendChatPage,l=i.doModalContainer,c=t.match.params,d=t.match,m=ft(this.props).getIn(["userInfo","userId"]),u=ft(this.props).getIn(["userInfo","userName"]),p=ft(this.props).getIn(["userInfo","userImg"]);if(!a)return w.a.createElement(ie,null);var f=r.get(a,$.a.Map()),g=f.get("friendData",$.a.Map()).toJS(),v=f.getIn(["friendMessages","messageList"],$.a.List()).toJS(),h=f.get("boardList",$.a.List()).toJS(),b=f.get("isLoading",!1),_=f.get("noMessage",!1),y=f.get("allMessagesLoaded",!1),I=function(){l.setInput({tabs:[we,Pe,Be,Re,Ue],params:{friendId:g.ID}}),l.openModal("SHOW_OP_LOG_MODAL")},C=function(t){if(t.error){var a=e;e.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message31",defaultMessage:"[Failed] {data}:{chatId}",values:{data:t.data,chatId:t.chatId}}),onConfirm:function(){return a.setState({showAlert:!1})}}})}else{var r=e;e.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message30",defaultMessage:"[Success] Friend Deleted"}),onConfirm:function(){return r.setState({showAlert:!1})}}}),l.closeModal(),n.push("/friend")}};return w.a.createElement("div",{className:uc.a.root},w.a.createElement(ml,{friendData:g,onOpenOPLogModal:I,openNameCard:function(){l.setInput({userId:c.friendId,isEditable:!1}),l.openModal("NAME_CARD_MODAL")},openFriendSettingMenuModal:function(e){l.setInput({onDeleteFriend:function(){return function(e){s.deleteFriend(a,e,C)}(e)}}),l.openModal("FRIEND_SETTING_MENU_MODAL")}}),w.a.createElement(yl,{history:n,userId:m,match:d,friendData:g,isLoading:b,noMessage:_,allMessagesLoaded:y,boardList:h,messageList:v,onJoinBoard:function(e,t){s.joinBoard(a,e,t)},onMessageAdded:function(e){var t={type:1,value:e};s.postMessage(a,m,u,p,decodeURIComponent(c.chatId),JSON.stringify(t)),s.markChat(a,decodeURIComponent(c.chatId)),o(),Dr.fireEventOnProb("Chat","SendMessage",.1)},onGetMoreMessages:function(e){s.getMoreMessageList(a,decodeURIComponent(c.chatId),e,30)},onOpenOPLogModal:I}))}}]),t}(k.PureComponent),fc=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doFriendChatPage:Object(X.b)(c,e),doModalContainer:Object(X.b)(r,e)}}})(pc),gc="CREATE_BOARD_MODAL",vc=Object(la.createDuck)(gc,"Create_Board_Modal"),hc=vc.defineType("INIT"),bc=vc.defineType("ADD_CHILD"),_c=vc.defineType("SET_ROOT"),yc=vc.defineType("REMOVE_CHILDS"),Ic=vc.defineType("REMOVE"),Cc=vc.defineType("SET_DATA"),Ec=function(e,t,a,n){return function(r,o){r(da({myId:e,myClass:gc,myDuck:vc,parentId:t,parentClass:a,parentDuck:n}))}},Mc=function(e,t){return function(a,n){a(Xa(Me,t)).then(function(t){var n=t.response.result,r=(t.type,t.query,t.error,n.map(function(e){return e.FID}));a(cn(r)).then(function(t){a(Sc(e,n,t))})})}},Sc=function(e,t,a){t=(t=t.map(function(e){return Object(H.a)({friendID:e.FID},e)})).map(kn),a=a.reduce(function(e,t){return e[t.key]=t.value,e},{});var n=t.map(function(e){var t=e.friendID,n=a.userName||{},r=a.userImg||{};return{Name:n[t]?Pn(n[t].N):"guest",Img:r[t]?r[t].I:Se,friendID:e.friendID,chatID:e.ID,BoardID:e.BID,FriendStatus:e.S,LastSeen:e.LT?e.LT:Ca()}});return console.log("doCreateBoardModal.postprocessgetFriends: friendList:",n),{myId:e,myClass:gc,type:Cc,data:{friendList:n}}},Oc=vc.createReducer((Ul={},Object(ia.a)(Ul,hc,ua),Object(ia.a)(Ul,bc,va),Object(ia.a)(Ul,_c,fa),Object(ia.a)(Ul,yc,ha),Object(ia.a)(Ul,Ic,ba),Object(ia.a)(Ul,Cc,_a),Ul),$.a.Map()),Tc=a(24),Nc=a.n(Tc),Dc=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={name:"",friendInvited:{},showAlert:!1,alertData:{message:"",onClose:null,onConfirm:null}},a.onKeydown=a.onKeydown.bind(Object(z.a)(a)),a.onNameChange=a.onNameChange.bind(Object(z.a)(a)),a.onFriendInvited=a.onFriendInvited.bind(Object(z.a)(a)),a.onSubmitAndClose=a.onSubmitAndClose.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"onKeydown",value:function(e){e&&!e.isComposing&&13===e.keyCode&&this.onSubmitAndClose()}},{key:"onNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"onFriendInvited",value:function(e,t,a){var n=this.state.friendInvited,r=Object.assign({},n);t in r&&r[t]?r[t]=null:r[t]=a,this.setState({friendInvited:r})}},{key:"onSubmitAndClose",value:function(){var e=this.props,t=e.modalInput.modalAddBoardSubmit,a=e.onModalClose,n=this.state,r=n.name,o=n.friendInvited;if(JSON.stringify(r).length-2>50){var i=this;this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message12",defaultMessage:"Board name cannot exceed {MAX_BOARDNAME_SIZE} characters",values:{MAX_BOARDNAME_SIZE:50}}),onConfirm:function(){return i.setState({showAlert:!1})}}})}else if(r&&""!==r.replace(/\s+/g,""))t(r,o),a();else{var s=this;this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message13",defaultMessage:"Board name cannot be empty"}),onConfirm:function(){return s.setState({showAlert:!1})}}})}}},{key:"componentWillMount",value:function(){var e=this.props,t=e.actions.doCreateBoardModal,a=e.myId;t.getFriendList(a,100)}},{key:"render",value:function(){var e=this,t=this.props,a=t.intl,n=t.myId,r=t.createBoardModal,o=t.onModalClose,i=t.modal.currentModal,s=this.state,l=s.name,c=s.friendInvited,d=s.showAlert,m=s.alertData,u=a.formatMessage({id:"create-board-modal.placeholder"}),p=r.get(n,$.a.Map()).get("friendList",$.a.List()).toJS();return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:Nc.a.overlay,style:Kt,isOpen:null!==i,onRequestClose:o,contentLabel:"Create Board Modal"},w.a.createElement("div",{className:Nc.a.root},w.a.createElement("div",{className:Nc.a["title-header"]},w.a.createElement("div",{className:Nc.a["prev-arrow"]},w.a.createElement(ll.a,{icon:"arrow-left",onClick:o})),w.a.createElement("div",{className:Nc.a["header-text"]},w.a.createElement(F.a,{id:"create-board-modal.title",defaultMessage:"Create New Board"})),w.a.createElement("div",{className:Nc.a.search})),w.a.createElement("div",{className:Nc.a["title-section"]},w.a.createElement("input",{placeholder:u,autoFocus:!St(),name:"title-input",className:Nc.a["title-input"],value:l,onKeyDown:this.onKeydown,onChange:this.onNameChange})),w.a.createElement("div",{className:Nc.a["invite-title"]},w.a.createElement(F.a,{id:"manage-board-modal.message2",defaultMessage:"Invite friends"})),w.a.createElement("div",{className:Nc.a["friend-list"]},0===p.length?w.a.createElement("div",{className:Nc.a["no-friend-text"]},w.a.createElement(F.a,{id:"manage-board-modal.message1",defaultMessage:"You have no friend to invite to {BOARD_NAME}",values:{BOARD_NAME:l}})):null,p.map(function(t,a){return w.a.createElement("div",{className:Nc.a["friend-item"],key:a},w.a.createElement("div",{className:Nc.a["list-item-author"]},w.a.createElement("div",{className:Nc.a["list-item-author-pic"]},w.a.createElement("img",{alt:"",src:t.Img||Se})),w.a.createElement("div",{hidden:!0,className:Nc.a["list-item-author-name"]}," ",t.Name," ")),w.a.createElement("div",{className:Nc.a["list-item-main"]},w.a.createElement("div",{className:Nc.a["list-item-header"]},w.a.createElement("div",{className:Nc.a["list-item-title"]}," ",t.Name," ")),w.a.createElement("div",{className:Nc.a["list-item-content"]},w.a.createElement("div",{dangerouslySetInnerHTML:{__html:null}}))),w.a.createElement("div",{className:Nc.a["list-item-meta"]},t.friendID in c&&c[t.friendID]?w.a.createElement("div",{className:Nc.a["list-item-invited"],onClick:function(a){return e.onFriendInvited(a,t.friendID,t.chatID)}},w.a.createElement(F.a,{id:"create-board-modal.invite-friend-1",defaultMessage:"Select"})):w.a.createElement("div",{className:Nc.a["list-item-to-invite"],onClick:function(a){return e.onFriendInvited(a,t.friendID,t.chatID)}},w.a.createElement(F.a,{id:"create-board-modal.invite-friend-2",defaultMessage:"UnSelect"}))))})),w.a.createElement("div",{hidden:!0,className:Nc.a["friend-list"]},w.a.createElement("div",{className:Nc.a["friend-list-text"]},"\u9080\u8acb\u670b\u53cb"),w.a.createElement("div",{className:Nc.a["friend-list-items"]},p&&0!==p.length?null:w.a.createElement("div",{className:Nc.a["no-friend-text"]}))),w.a.createElement("div",{className:Nc.a["action-section"]},w.a.createElement("div",{className:Nc.a["add-icon-container"]},w.a.createElement("div",{className:Nc.a["add-icon-subcontainer"]},w.a.createElement("div",{className:Nc.a["add-icon"],onClick:this.onSubmitAndClose})))),w.a.createElement(oa,{show:d,alertData:m}))))}}]),t}(k.PureComponent),Ac=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doCreateBoardModal:Object(X.b)(d,e)}}})(Object(F.d)(Dc)),jc="MANAGE_BOARD_MODAL",Lc=Object(la.createDuck)(jc,"Manage_Board_Modal"),kc=Lc.defineType("INIT"),wc=Lc.defineType("ADD_CHILD"),Pc=Lc.defineType("SET_ROOT"),Bc=Lc.defineType("REMOVE_CHILDS"),Rc=Lc.defineType("REMOVE"),xc=Lc.defineType("SET_DATA"),Fc=function(e,t,a,n){return function(r,o){r(da({myId:e,myClass:jc,myDuck:Lc,parentId:t,parentClass:a,parentDuck:n}))}},Uc=function(e,t){return function(a,n){a(Pa(t)).then(function(t){var n=t.response.result;t.type,t.query,t.error;a(qc(e,n))})}},qc=function(e,t){var a={ArticleCreateTS:(t=kn(t)).ArticleCreateTS?t.ArticleCreateTS:Ca(),ID:t.ID,LastSeen:t.LastSeen?t.LastSeen:Ca(),Status:t.Status,Title:t.Title,UpdateTS:t.UpdateTS?t.UpdateTS:Ca()};return console.log("doBoardPage.postprocessGetBoardInfo: boardInfo:",a),{myId:e,myClass:jc,type:xc,data:{boardInfo:a}}},Jc=function(e,t){return function(a,n){a(Ba(t)).then(function(t){var n=t.response.result;t.type,t.query,t.error;a(Gc(e,n))})}},Gc=function(e,t){var a={C:t.C,ID:t.ID,Pn:t.Pn,T:t.T,URL:t.URL,UpdateTS:t.UT?t.UT:Ca(),expirePeriod:t.e};return console.log("doBoardPage.postprocessGetBoardJoinKey: boardJoinKey:",a),{myId:e,myClass:jc,type:xc,data:{boardJoinKey:a}}},Hc=Lc.createReducer((ql={},Object(ia.a)(ql,kc,ua),Object(ia.a)(ql,wc,va),Object(ia.a)(ql,Pc,fa),Object(ia.a)(ql,Bc,ha),Object(ia.a)(ql,Rc,ba),Object(ia.a)(ql,xc,_a),ql),$.a.Map()),Vc=a(53),Kc=a.n(Vc),Wc=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={name:e.modalInput.boardName,showAlert:!1,alertData:{message:"",onClose:null,onConfirm:null}},a.onNameChange=a.onNameChange.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"onNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.modalInput.boardId,a=e.actions.doManageBoardModal,n=e.myId;a.getBoardInfo(n,t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalInput,n=a.boardId,r=a.onEditBoardName,o=t.onModalClose,i=t.modal.currentModal,s=this.state,l=s.name,c=s.showAlert,d=s.alertData;return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:Kc.a.overlay,style:Wt,isOpen:null!==i,onRequestClose:o,contentLabel:"Create Board Modal"},w.a.createElement("div",{className:Kc.a.root},w.a.createElement("div",{className:Kc.a["modal-bar"]},w.a.createElement("div",{className:Kc.a["prev-arrow"]},w.a.createElement("div",{className:Kc.a["prev-arrow-icon"],onClick:o})),w.a.createElement("div",{className:Kc.a["edit-name"]},w.a.createElement("input",{autoFocus:!St(),name:"board-name-input",className:Kc.a["board-name-input"],value:l,onChange:this.onNameChange}))),w.a.createElement("div",{hidden:!0,className:Kc.a["modal-bar"]},w.a.createElement("div",{className:Kc.a["edit-name"]})),w.a.createElement("div",{className:Kc.a["action-section"]},w.a.createElement("div",{className:Kc.a["submit-button"]},w.a.createElement("div",{className:Kc.a["submit-icon-subcontainer"],onClick:function(){if(JSON.stringify(l).length-2>50){var t=e;e.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message12",defaultMessage:"Board name cannot exceed {MAX_BOARDNAME_SIZE} characters",values:{MAX_BOARDNAME_SIZE:50}}),onConfirm:function(){return t.setState({showAlert:!1})}}})}else if(l&&""!==l.replace(/\s+/g,""))r(n,l),o();else{var a=e;e.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message13",defaultMessage:"Board name cannot be empty"}),onConfirm:function(){return a.setState({showAlert:!1})}}})}}},w.a.createElement("div",{className:Kc.a["submit-icon"]})))))),w.a.createElement(oa,{show:c,alertData:d}))}}]),t}(k.PureComponent),Yc=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doManageBoardModal:Object(X.b)(m,e)}}})(Wc),zc="MANAGE_BOARD_MEMBER_MODAL",Zc=Object(la.createDuck)(zc,"Manage_Board_Member_Modal"),Xc=Zc.defineType("INIT"),Qc=Zc.defineType("ADD_CHILD"),$c=Zc.defineType("SET_ROOT"),ed=Zc.defineType("REMOVE_CHILDS"),td=Zc.defineType("REMOVE"),ad=Zc.defineType("SET_DATA"),nd=function(e,t,a,n){return function(r,o){r(da({myId:e,myClass:zc,myDuck:Zc,parentId:t,parentClass:a,parentDuck:n}))}},rd=function(e,t){return function(a,n){a(Pa(t)).then(function(t){var n=t.response.result;t.type,t.query,t.error;a(od(e,n))})}},od=function(e,t){var a={ArticleCreateTS:(t=kn(t)).ArticleCreateTS?t.ArticleCreateTS:Ca(),ID:t.ID,LastSeen:t.LastSeen?t.LastSeen:Ca(),Status:t.Status,Title:t.Title,UpdateTS:t.UpdateTS?t.UpdateTS:Ca()};return console.log("doBoardPage.postprocessGetBoardInfo: boardInfo:",a),{myId:e,myClass:zc,type:ad,data:{boardInfo:a}}},id=function(e,t,a){return function(n,r){n(Xa(Me,a)).then(function(a){var r=a.response;a.type,a.query,a.error;n(Ua(t,Me,100)).then(function(t){var a=t.response,o=(t.type,t.query,t.error,r.result.map(function(e){return e.FID})),i=a.result.map(function(e){return e.b.ID});n(cn([].concat(Object(me.a)(o),Object(me.a)(i)))).then(function(t){n(sd(e,r.result,a.result,t))})})})}},sd=function(e,t,a,n){t=(t=t.map(function(e){return Object(H.a)({friendID:e.FID},e)})).map(kn);var r=a.reduce(function(e,t){return e[t.b.ID]=Object(H.a)({UT:t.UT},t.b),e},{});n=n.reduce(function(e,t){return e[t.key]=t.value,e},{});var o=t.filter(function(e){return e.friendID in r&&r[e.friendID].S<ze.indexOf("StatusDeleted")}).map(function(e){var t=e.friendID,a=n.userName||{},o=n.userImg||{};return{Name:a[t]?Pn(a[t].N):"guest",Img:o[t]?o[t].I:Se,friendID:e.friendID,chatID:e.ID,BoardID:e.BID,FriendStatus:e.S,LastSeen:e.LT?e.LT:Ca(),isBoardMember:!0,memberStatus:t in r?r[t].S:null,memberUpdateTS:t in r?r[t].UT:Ca()}});return console.log("doManageBoardMemberModal.postprocessGetMembers: memberList:",o),{myId:e,myClass:zc,type:ad,data:{memberList:o}}},ld=Zc.createReducer((Jl={},Object(ia.a)(Jl,Xc,ua),Object(ia.a)(Jl,Qc,va),Object(ia.a)(Jl,$c,fa),Object(ia.a)(Jl,ed,ha),Object(ia.a)(Jl,td,ba),Object(ia.a)(Jl,ad,_a),Jl),$.a.Map()),cd=a(28),dd=a.n(cd),md=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={name:e.modalInput.boardName,memberToRemove:{},alertData:{message:"",onClose:null,onConfirm:null}},a.onMemberToRemove=a.onMemberToRemove.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"onMemberToRemove",value:function(e,t,a){var n=this.state.memberToRemove,r=Object.assign({},n);t in r&&r[t]?r[t]=null:r[t]=a,this.setState({memberToRemove:r})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.modalInput.boardId,a=e.actions.doManageBoardMemberModal,n=e.myId;a.getBoardInfo(n,t),a.getMemberList(n,t,100)}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalInput,n=a.boardId,r=a.onRemoveMember,o=t.myId,i=t.manageBoardMemberModal,s=t.onModalClose,l=t.modal.currentModal,c=this.state,d=c.name,m=c.showAlert,u=c.alertData,p=c.memberToRemove,f=i.get(o,$.a.Map()).get("memberList",$.a.List()).toJS();return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:dd.a.overlay,style:Wt,isOpen:null!==l,onRequestClose:s,contentLabel:"Create Board Modal"},w.a.createElement("div",{className:dd.a.root},w.a.createElement("div",{className:dd.a["modal-bar"]},w.a.createElement("div",{className:dd.a["prev-arrow"]},w.a.createElement("div",{className:dd.a["prev-arrow-icon"],onClick:s})),w.a.createElement("div",{className:dd.a["board-name"]},d),w.a.createElement("div",{className:dd.a["null-prev-arrow"]})),w.a.createElement("div",{className:dd.a["invite-title"]},w.a.createElement("div",{className:dd.a["null-space"]}),w.a.createElement("div",{className:dd.a["invite-title-text"]},w.a.createElement(F.a,{id:"manage-board-member-modal.message2",defaultMessage:"Manage Members"})),w.a.createElement("div",{className:dd.a["copy-space"]})),w.a.createElement("div",{className:dd.a["friend-list"]},0===f.length?w.a.createElement("div",{className:dd.a["no-friend-text"]},w.a.createElement(F.a,{id:"manage-board-member-modal.message1",defaultMessage:"No member in group {BOARD_NAME}",values:{BOARD_NAME:d}})):null,f.map(function(t,a){return w.a.createElement("div",{className:dd.a["friend-item"],key:a},w.a.createElement("div",{className:dd.a["list-item-author"]},w.a.createElement("div",{className:dd.a["list-item-author-pic"]},w.a.createElement("img",{alt:"",src:t.Img||Se}))),w.a.createElement("div",{className:dd.a["list-item-main"]},w.a.createElement("div",{className:dd.a["list-item-title"]}," ",t.Name," "),w.a.createElement("div",{className:dd.a["list-item-time"]},w.a.createElement(F.a,{id:"manage-board-member-modal.member-status",defaultMessage:"joined {JOIN_TIME}",values:{JOIN_TIME:At(t.memberUpdateTS.T)}}))),w.a.createElement("div",{className:dd.a["list-item-meta"]},t.friendID in p&&p[t.friendID]?w.a.createElement("div",{className:dd.a["list-item-selected"],onClick:function(a){return e.onMemberToRemove(a,t.friendID,t.chatID)}},w.a.createElement(F.a,{id:"manage-board-member-modal.remove-member-1",defaultMessage:"UnSelect"})):w.a.createElement("div",{className:dd.a["list-item-unselect"],onClick:function(a){return e.onMemberToRemove(a,t.friendID,t.chatID)}},w.a.createElement(F.a,{id:"manage-board-member-modal.remove-member-2",defaultMessage:"Select"}))))})),w.a.createElement("div",{className:dd.a["action-section"]},w.a.createElement("div",{className:dd.a["submit-button"]},w.a.createElement("div",{className:dd.a["submit-icon-subcontainer"],onClick:function(){r(n,p),s()}},w.a.createElement("div",{className:dd.a["submit-icon"]})))))),w.a.createElement(oa,{show:m,alertData:u}))}}]),t}(k.PureComponent),ud=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doManageBoardMemberModal:Object(X.b)(u,e)}}})(md),pd=a(73),fd="INVITE_TO_BOARD_MODAL",gd=Object(la.createDuck)(fd,"Invite_To_Board_Modal"),vd=gd.defineType("INIT"),hd=gd.defineType("ADD_CHILD"),bd=gd.defineType("SET_ROOT"),_d=gd.defineType("REMOVE_CHILDS"),yd=gd.defineType("REMOVE"),Id=gd.defineType("SET_DATA"),Cd=function(e,t,a,n){return function(r,o){r(da({myId:e,myClass:fd,myDuck:gd,parentId:t,parentClass:a,parentDuck:n}))}},Ed=function(e,t){return function(a,n){a(Pa(t)).then(function(t){var n=t.response.result;t.type,t.query,t.error;a(Md(e,n))})}},Md=function(e,t){var a={ArticleCreateTS:(t=kn(t)).ArticleCreateTS?t.ArticleCreateTS:Ca(),ID:t.ID,LastSeen:t.LastSeen?t.LastSeen:Ca(),Status:t.Status,Title:t.Title,UpdateTS:t.UpdateTS?t.UpdateTS:Ca()};return console.log("doBoardPage.postprocessGetBoardInfo: boardInfo:",a),{myId:e,myClass:fd,type:Id,data:{boardInfo:a}}},Sd=function(e,t){return function(a,n){a(Ba(t)).then(function(t){var n=t.response.result;t.type,t.query,t.error;a(Od(e,n))})}},Od=function(e,t){var a={C:t.C,ID:t.ID,Pn:t.Pn,T:t.T,URL:t.URL,UpdateTS:t.UT?t.UT:Ca(),expirePeriod:t.e};return console.log("doBoardPage.postprocessGetBoardJoinKey: boardJoinKey:",a),{myId:e,myClass:fd,type:Id,data:{boardJoinKey:a}}},Td=function(e,t,a){return function(n,r){n(Xa(Me,a)).then(function(a){var r=a.response;a.type,a.query,a.error;n(Ua(t,Me,100)).then(function(t){var a=t.response,o=(t.type,t.query,t.error,r.result.map(function(e){return e.FID})),i=a.result.map(function(e){return e.b.ID});n(cn([].concat(Object(me.a)(o),Object(me.a)(i)))).then(function(t){n(Nd(e,r.result,a.result,t))})})})}},Nd=function(e,t,a,n){t=(t=t.map(function(e){return Object(H.a)({friendID:e.FID},e)})).map(kn);var r=a.reduce(function(e,t){return e[t.b.ID]=Object(H.a)({UT:t.UT},t.b),e},{});n=n.reduce(function(e,t){return e[t.key]=t.value,e},{});var o=t.map(function(e){var t=e.friendID,a=n.userName||{},o=n.userImg||{},i=a[t]?Pn(a[t].N):"guest",s=o[t]?o[t].I:Se,l=t in r&&r[t].S<ze.indexOf("StatusDeleted");return{Name:i,Img:s,friendID:e.friendID,chatID:e.ID,BoardID:e.BID,FriendStatus:e.S,LastSeen:e.LT?e.LT:Ca(),isBoardMember:l,memberStatus:t in r?r[t].S:null,memberUpdateTS:t in r?r[t].UT:Ca()}});return console.log("doInviteToBoardModal.postprocessgetFriends: friendList:",o,a),{myId:e,myClass:fd,type:Id,data:{friendList:o}}},Dd=function(e,t,a){return function(n,r){n(an(t,[a],[])).then(function(t){var a=t.response.result;t.type,t.error,t.query;n(Ad(e,a))})}},Ad=function(e,t){return{myId:e,myClass:fd,type:Id,data:{}}},jd=gd.createReducer((Gl={},Object(ia.a)(Gl,vd,ua),Object(ia.a)(Gl,hd,va),Object(ia.a)(Gl,bd,fa),Object(ia.a)(Gl,_d,ha),Object(ia.a)(Gl,yd,ba),Object(ia.a)(Gl,Id,_a),Gl),$.a.Map()),Ld=a(25),kd=a.n(Ld),wd=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).refreshBoardJoinKey=null,a.state={name:e.modalInput.boardName,friendInvited:{},qrCodeCopied:!1,copyBoardIdText:"",alertData:{message:"",onClose:null,onConfirm:null}},a.onFriendInvited=a.onFriendInvited.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"onFriendInvited",value:function(e,t,a){var n=this.state.friendInvited,r=Object.assign({},n);t in r&&r[t]?r[t]=null:r[t]=a,this.setState({friendInvited:r})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.modalInput.boardId,a=e.actions.doInviteToBoardModal,n=e.myId;a.getBoardInfo(n,t),a.getBoardJoinKey(n,t),a.getFriendList(n,t,100),this.refreshBoardJoinKey=setInterval(function(){return a.getBoardJoinKey(n,t)},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshBoardJoinKey)}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalInput,n=a.boardId,r=a.onInviteFriend,o=t.myId,i=t.inviteToBoardModal,s=t.onModalClose,l=t.modal.currentModal,c=this.state,d=c.name,m=c.qrCodeCopied,u=c.showAlert,p=c.alertData,f=c.friendInvited,g=i.get(o,$.a.Map()),v=g.get("boardJoinKey",$.a.Map()).toJS(),h=g.get("friendList",$.a.List()).toJS();return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:kd.a.overlay,style:Wt,isOpen:null!==l,onRequestClose:s,contentLabel:"Create Board Modal"},w.a.createElement("div",{className:kd.a.root},w.a.createElement("div",{className:kd.a["modal-bar"]},w.a.createElement("div",{className:kd.a["prev-arrow"]},w.a.createElement("div",{className:kd.a["prev-arrow-icon"],onClick:s})),w.a.createElement("div",{className:kd.a["board-name"]},d),w.a.createElement("div",{className:kd.a["null-prev-arrow"]})),w.a.createElement("div",{className:kd.a["invite-title"]},w.a.createElement("div",{className:kd.a["null-space"]}),w.a.createElement("div",{className:kd.a["invite-title-text"]},w.a.createElement(F.a,{id:"invite-to-board-modal.message2",defaultMessage:"Invite friends"})),w.a.createElement("div",{className:kd.a["copy-space"]},w.a.createElement(pd.CopyToClipboard,{text:v.URL,onCopy:function(){return e.setState({qrCodeCopied:!0})}},w.a.createElement("button",{className:kd.a["manageboard-modal-copy"]},m?w.a.createElement(F.a,{id:"invite-to-board-modal.copy-node-id-2",defaultMessage:"Copied"}):w.a.createElement(F.a,{id:"invite-to-board-modal.copy-my-id-1",defaultMessage:"Copy Group ID"}))))),w.a.createElement("div",{className:kd.a["friend-list"]},0===h.length?w.a.createElement("div",{className:kd.a["no-friend-text"]},w.a.createElement(F.a,{id:"invite-to-board-modal.message1",defaultMessage:"You have no friend to invite to {BOARD_NAME}",values:{BOARD_NAME:d}})):null,h.map(function(t,a){return w.a.createElement("div",{className:kd.a["friend-item"],key:a},w.a.createElement("div",{className:kd.a["list-item-author"]},w.a.createElement("div",{className:kd.a["list-item-author-pic"]},w.a.createElement("img",{alt:"",src:t.Img||Se})),w.a.createElement("div",{hidden:!0,className:kd.a["list-item-author-name"]}," ",t.Name," ")),w.a.createElement("div",{className:kd.a["list-item-main"]},w.a.createElement("div",{className:kd.a["list-item-header"]},w.a.createElement("div",{className:kd.a["list-item-title"]}," ",t.Name," ")),w.a.createElement("div",{className:kd.a["list-item-content"]},w.a.createElement("div",{dangerouslySetInnerHTML:{__html:null}}))),w.a.createElement("div",{className:kd.a["list-item-meta"]},t.isBoardMember?w.a.createElement("div",{className:kd.a["list-item-time"]},w.a.createElement(F.a,{id:"invite-to-board-modal.invite-friend-0",defaultMessage:"joined {JOIN_TIME}",values:{JOIN_TIME:At(t.memberUpdateTS.T)}})):t.friendID in f&&f[t.friendID]?w.a.createElement("div",{className:kd.a["list-item-invited"],onClick:function(a){return e.onFriendInvited(a,t.friendID,t.chatID)}},w.a.createElement(F.a,{id:"invite-to-board-modal.invite-friend-1",defaultMessage:"Invited"})):w.a.createElement("div",{className:kd.a["list-item-to-invite"],onClick:function(a){return e.onFriendInvited(a,t.friendID,t.chatID)}},w.a.createElement(F.a,{id:"invite-to-board-modal.invite-friend-2",defaultMessage:"Invite"}))))})),w.a.createElement("div",{className:kd.a["action-section"]},w.a.createElement("div",{className:kd.a["submit-button"]},w.a.createElement("div",{className:kd.a["submit-icon-subcontainer"],onClick:function(){r(n,d,f),s()}},w.a.createElement("div",{className:kd.a["submit-icon"]})))))),w.a.createElement(oa,{show:u,alertData:p}))}}]),t}(k.PureComponent),Pd=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doInviteToBoardModal:Object(X.b)(p,e)}}})(wd),Bd=Object(la.createDuck)("APP","js"),Rd=Bd.defineType("INIT"),xd=Bd.defineType("ADD_CHILD"),Fd=Bd.defineType("SET_ROOT"),Ud=Bd.defineType("REMOVE_CHILDS"),qd=Bd.defineType("REMOVE"),Jd=Bd.defineType("SET_DATA"),Gd=Bd.createReducer((Hl={},Object(ia.a)(Hl,Rd,ua),Object(ia.a)(Hl,xd,va),Object(ia.a)(Hl,Fd,fa),Object(ia.a)(Hl,Ud,ha),Object(ia.a)(Hl,qd,ba),Object(ia.a)(Hl,Jd,_a),Hl),$.a.Map()),Hd="CREATE_ARTICLE_MODAL",Vd=Object(la.createDuck)(Hd,"Create_Article_Modal"),Kd=Vd.defineType("INIT"),Wd=Vd.defineType("ADD_CHILD"),Yd=Vd.defineType("SET_ROOT"),zd=Vd.defineType("REMOVE_CHILDS"),Zd=Vd.defineType("REMOVE"),Xd=Vd.defineType("SET_DATA"),Qd=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:Hd,myDuck:Vd},t))),a(pa(e,Hd,Bd))}},$d=Vd.createReducer((Vl={},Object(ia.a)(Vl,Kd,ua),Object(ia.a)(Vl,Wd,va),Object(ia.a)(Vl,Yd,fa),Object(ia.a)(Vl,zd,ha),Object(ia.a)(Vl,Zd,ba),Object(ia.a)(Vl,Xd,_a),Vl),$.a.Map()),em=a(199),tm=a(93),am=a.n(tm),nm=a(60),rm=a.n(nm),om=am.a.import("blots/block/embed"),im=am.a.import("blots/break"),sm=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,null,[{key:"create",value:function(e){var a=Object(em.a)(Object(Y.a)(t),"create",this).call(this,e.value);return a.setAttribute("srcdoc",e.value),a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen",!0),a.setAttribute("width","100%"),a.setAttribute("height","84px"),a.setAttribute("data-id",e.id),a.setAttribute("data-class",e.class),a.setAttribute("data-name",e.name),a.setAttribute("data-size",e.size),a.setAttribute("data-type",e.type),a}},{key:"value",value:function(e){return e.getAttribute("srcdoc")}}]),t}(om);sm.blotName="FileAttachment",sm.tagName="iframe";var lm=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,null,[{key:"create",value:function(e){var a=Object(em.a)(Object(Y.a)(t),"create",this).call(this);return a.setAttribute("src",e.src),a.setAttribute("alt","not working"),a.setAttribute("width","100%"),a.setAttribute("data-id",e.id),a.setAttribute("data-class",e.class),a}},{key:"value",value:function(e){return{url:e.getAttribute("src")}}}]),t}(om);function cm(e){if(!e||0===e.length)return!0;var t=e.reduce(function(e,t){if(t.type===Ge||t.type===He)return e+"dirty";if(t.type===Je){var a=t.content.replace(/<p>/g,"");return e+(a=(a=(a=a.replace(/<\/p>/g,"")).replace(/<br>/g,"")).trim().replace(/\s\s+/g," "))}return e},"");return""===(t=t.replace(/\s\s+/g," "))}lm.blotName="ImageAttachment",lm.tagName="img",im.blotName="break",im.tagName="BR",am.a.register(im),am.a.register(sm,!0),am.a.register(lm,!0);var dm,mm,um,pm=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this,e))).state={id:"editor-".concat(pe()()),editor:{},title:e.articleTitle,htmlArray:e.initHtmlArray||[],htmlContent:e.initHtmlArray?ut(e.initHtmlArray,e.boardId):"",attachedObjs:[],selection:{index:0,length:0},showAlert:!1,titleChanged:!1,contentChanged:!1,alertData:{message:"",onClose:null,onConfirm:null}},a.onTitleChange=a.onTitleChange.bind(Object(z.a)(a)),a.onInputEnter=a.onInputEnter.bind(Object(z.a)(a)),a.onPrevPageClick=a.onPrevPageClick.bind(Object(z.a)(a)),a.onContentClick=a.onContentClick.bind(Object(z.a)(a)),a.mountQuill=a.mountQuill.bind(Object(z.a)(a)),a.attachmentUpload=a.attachmentUpload.bind(Object(z.a)(a)),a.handleChange=a.handleChange.bind(Object(z.a)(a)),a.onDelete=a.onDelete.bind(Object(z.a)(a)),a.onSubmit=a.onSubmit.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"onDelete",value:function(){var e=this.props.onDeleteArticle,t=this;this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message1",defaultMessage:"Are you sure you want to delete?"}),onConfirm:function(){t.setState({showAlert:!1}),e()},onClose:function(){return t.setState({showAlert:!1})}}})}},{key:"onSubmit",value:function(){var e=this.props.onSubmitArticle,t=this.state,a=t.htmlArray,n=t.title,r=t.attachedObjs;if(cm(a)||!n||""===n.replace(/\s+/g,"")){var o=this;this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message10",defaultMessage:"Title or content cannot be empty"}),onConfirm:function(){return o.setState({showAlert:!1})}}})}else{if(function(e){return e.replace(/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,"..").length>27}(n)){var i=this;return this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message36",defaultMessage:"Title is too long (CJK word: 14, eng: 27)"}),onConfirm:function(){return i.setState({showAlert:!1})}}})}var s=a.map(function(e){if("attachment"===e.type)return e;if("text"===e.type){var t=e.content;return r.forEach(function(e){t=t.replace(e.data,e.id)}),e.content=t,e}return e});if(3.032*(JSON.stringify(s).length-2)>131072){var l=this;this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message16",defaultMessage:"Max content is {MAX_ARTICLE_SIZE} characters",values:{MAX_ARTICLE_SIZE:131072}}),onConfirm:function(){return l.setState({showAlert:!1})}}})}else e(n,s,r)}}},{key:"onTitleChange",value:function(e){this.setState({title:e.target.value})}},{key:"onPrevPageClick",value:function(){var e=this.props,t=e.onCloseArticle,a=e.isEdit,n=this.state,r=n.contentChanged,o=n.title,i=n.htmlArray;if(a)if(r){var s=this;this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message14",defaultMessage:"You have edited the article, are you sure you want to leave?"}),onConfirm:function(){s.setState({showAlert:!1}),t()},onClose:function(){return s.setState({showAlert:!1})}}})}else t();else if(!cm(i)||o||""!==o.replace(/\s+/g,"")){var l=this;this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message9",defaultMessage:"You have unfinished article, are you sure you want to leave?"}),onConfirm:function(){l.setState({showAlert:!1}),t()},onClose:function(){return l.setState({showAlert:!1})}}})}else t()}},{key:"onContentClick",value:function(e){var t=this.state.htmlArray;"edit-article-modal-main-section"!==e.target.id||cm(t)&&e.target.children[0].children[0].children[0].focus()}},{key:"componentDidMount",value:function(){this.setState({editor:this.mountQuill()}),document.addEventListener("keydown",this.onInputEnter,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onInputEnter,!1)}},{key:"onInputEnter",value:function(e){(!e.isComposing&&"Enter"===e.key||!e.isComposing&&"Tab"===e.key)&&zo()(":focus").is("input")&&(zo()(".ql-editor").focus(),e.preventDefault())}},{key:"mountQuill",value:function(){var e=this.state,t=e.id,a=e.htmlContent,n=this,r=new am.a("#".concat(t),{});return r.clipboard.addMatcher(Node.TEXT_NODE,function(e,t){if("string"===typeof e.data){var a=e.data.match(/https?:\/\/[^\s]+/g);if(a&&a.length>0){var n=[],r=e.data;a.forEach(function(e){var t=r.split(e),a=t.shift();n.push({insert:a}),n.push({insert:e,attributes:{link:e}}),r=t.join(e)}),n.push({insert:r}),t.ops=n}return t}}),r.clipboard.addMatcher(Node.ELEMENT_NODE,function(e,t){return t.ops=t.ops.map(function(e){return e.insert&&e.insert.image?{insert:e.insert,attributes:{width:"100%"}}:{insert:e.insert}}),t}),r.on("editor-change",function(e){if("text-change"===e){var t=arguments.length<=1?void 0:arguments[1],a=r.root.innerHTML;if(2===t.ops.length&&t.ops[0].retain&&function(e){var t=!1;return" "!==e&&"\t"!==e&&"\n"!==e||(t=!0),t}(t.ops[1].insert)){var o=t.ops[0].retain,i=r.getText().substr(0,o).match(/https?:\/\/[^\s]+$/);if(null!==i){var s=i[0],l=[];o>s.length&&l.push({retain:o-s.length}),l=l.concat([{delete:s.length},{insert:s,attributes:{link:s}}]),r.updateContents({ops:l})}}n.handleChange(a,function(e){var t=e;return t=t.replace(/\r?\n|\r/g," "),[/<ol>.*?<\/ol>/g,/<ul>.*?<\/ul>/g,/<iframe.*?<\/iframe>/g,/<img.*?>/g].forEach(function(e){t=t.replace(e,"<p>$&</p>")}),t=(t=t.match(/<p>.*?<\/p>/g)).map(function(e){var t={type:"text",content:"",param:{}};if(0===e.indexOf("<p><iframe")){var a=zo.a.parseHTML(e)[0].children[0];t.type=He,t.content="",t.param={id:zo()(a).data("id"),class:zo()(a).data("class"),name:zo()(a).data("name"),size:zo()(a).data("size"),type:zo()(a).data("type")}}else if(0===e.indexOf("<p><img")){var n=zo.a.parseHTML(e)[0].children[0];t.type=Ge,t.content="",t.param={id:zo()(n).data("id"),class:zo()(n).data("class")}}else t.type=Je,t.content=mt(e);return t})}(a))}else if("selection-change"===e){var c=arguments.length<=1?void 0:arguments[1];(arguments.length<=2?void 0:arguments[2])&&!c?n.setState({selection:n.state.selection}):n.setState({selection:c})}}),""!==a&&(r.root.innerHTML=a),r}},{key:"handleChange",value:function(e,t){this.setState({htmlContent:e,htmlArray:t,contentChanged:!0})}},{key:"attachmentUpload",value:function(e){var t=this.state,a=t.editor,n=t.attachedObjs,r=this.props.intl.formatMessage({id:"create-article-modal.file-uploading"}),o=document.querySelector("#pttai-editor-input").files[0],i=new FileReader,s=new FileReader,l=this,c=l.state.selection.index;o&&(o.size>=10485760?l.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message24",defaultMessage:"File size cannot exceed {MAX_FILE_UPLOAD_SIZE}",values:{MAX_FILE_UPLOAD_SIZE:yt(10485760)}}),onConfirm:function(){return l.setState({showAlert:!1})}}}):(o.type&&o.type.match(/image\/(jpeg|png|gif)/)?s.readAsDataURL(o):i.readAsDataURL(o),a.insertText(c,r,{},!0),i.onloadend=function(){var e={fileId:"file-tmp-"+pt(),fileClass:"pttai-editor-file-attachment",fileName:o.name,fileSize:o.size};a.deleteText(c,r.length),a.insertEmbed(c,"FileAttachment",{id:e.fileId,class:e.fileClass,name:o.name,size:o.size,type:o.type,value:lt(e)}),n.push({id:e.fileId,data:i.result,file:o,type:He});var t=l.state.selection,s={index:t.index+1,length:t.length};a.setSelection(s),l.setState({editor:a,selection:s,attachedObjs:n,contentChanged:!0})},s.onloadend=function(){It(o,function(e){var t=new Image;t.src=s.result,t.onload=function(i){var s=document.createElement("canvas"),d=t.width,m=t.height;d>m?d>1024&&(m*=1024/d,d=1024):m>1024&&(d*=1024/m,m=1024),s.width=d,s.height=m,s.getContext("2d").drawImage(t,0,0,d,m);var u=d,p=m,f=0;6===e?f=90:3===e?f=180:8===e&&(f=270);var g=Ct(u,p,f);s.width=g[0],s.height=g[1];var v=s.getContext("2d");v.clearRect(0,0,s.width,s.height),v.save(),v.translate(s.width/2,s.height/2),v.rotate(f*Math.PI/180),v.drawImage(t,-u/2,-p/2,u,p),v.restore();var h=s.toDataURL("image/jpeg"),b=l.state.selection,_={imageId:"image-tmp-"+pt(),imageClass:"pttai-editor-image-attachment"+n.length};a.deleteText(c,r.length),a.insertEmbed(b.index,"ImageAttachment",{id:_.imageId,class:_.imageClass,src:h}),n.push({id:_.imageId,data:h,file:bt(h,o.name),type:Ge});var y={index:b.index+1,length:b.length};a.setSelection(y),l.setState({editor:a,selection:y,attachedObjs:n,contentChanged:!0})}})}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.isEdit,n=t.intl,r=this.state,o=r.editor,i=r.showAlert,s=r.alertData,l=r.selection,c=r.title,d=n.formatMessage({id:"create-article-modal.placeholder"}),m=Object.keys(o).length>0?o.getSelection():null;return w.a.createElement("div",{id:"edit-article-modal-main-section",className:rm.a.root,onClick:this.onContentClick},w.a.createElement("div",{className:rm.a["title-section"]},w.a.createElement("div",{className:rm.a["prev-arrow"],onClick:this.onPrevPageClick}),w.a.createElement("div",{className:rm.a["title-text"],title:c},a?c:w.a.createElement("input",{placeholder:d,autoFocus:!St(),name:"title-input",value:c,onChange:this.onTitleChange})),w.a.createElement("div",{className:rm.a.space})),w.a.createElement("div",{id:this.state.id,className:rm.a["pttai-editor-content"]}),w.a.createElement("div",{className:rm.a["action-section"]},w.a.createElement("div",{className:rm.a["upload-button"]},w.a.createElement("label",null,w.a.createElement("input",{type:"file",id:"pttai-editor-input",onChange:function(t){e.attachmentUpload(t),e.setState({selection:m||l})},onClick:function(e){e.target.value=null}}))),a?w.a.createElement("div",{className:rm.a["delete-button"],onClick:this.onDelete}):null,w.a.createElement("div",{className:rm.a["submit-button"],onClick:this.onSubmit})),w.a.createElement(oa,{show:i,alertData:s}))}}]),t}(k.PureComponent),fm=Object(F.d)(pm),gm=a(315),vm=a.n(gm),hm=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onModalSubmit,a=e.modal.currentModal,n=e.modalInput.boardId,r=e.onModalClose;return w.a.createElement(Ut.a,{overlayClassName:vm.a.overlay,style:Ht,isOpen:null!==a,onRequestClose:null,shouldCloseOnEsc:!1,contentLabel:"Create Article Modal"},w.a.createElement(fm,{boardId:n,articleTitle:"",initHtmlArray:[],isEdit:!1,onDeleteArticle:null,onSubmitArticle:t,onCloseArticle:r}))}}]),t}(k.PureComponent),bm=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doCreateArticleModal:Object(X.b)(f,e)}}})(hm),_m="EDIT_ARTICLE_MODAL",ym=Object(la.createDuck)(_m,"Edit_Article_Modal"),Im=ym.defineType("INIT"),Cm=ym.defineType("ADD_CHILD"),Em=ym.defineType("SET_ROOT"),Mm=ym.defineType("REMOVE_CHILDS"),Sm=ym.defineType("REMOVE"),Om=ym.defineType("SET_DATA"),Tm=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:_m,myDuck:ym},t))),a(pa(e,_m,Bd))}},Nm=ym.createReducer((dm={},Object(ia.a)(dm,Im,ua),Object(ia.a)(dm,Cm,va),Object(ia.a)(dm,Em,fa),Object(ia.a)(dm,Mm,ha),Object(ia.a)(dm,Sm,ba),Object(ia.a)(dm,Om,_a),dm),$.a.Map()),Dm=a(316),Am=a.n(Dm),jm=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.modalInput,a=t.boardId,n=t.onDeleteArticle,r=t.articleTitle,o=t.articleContentsList,i=e.modal.currentModal,s=e.onModalSubmit,l=e.onModalClose,c=o.reduce(function(e,t){return e.concat(t.contentBlockArray)},[]);return w.a.createElement(Ut.a,{overlayClassName:Am.a.overlay,style:Vt,isOpen:null!==i,onRequestClose:null,shouldCloseOnEsc:!1,contentLabel:"Edit Article Modal"},w.a.createElement(fm,{boardId:a,articleTitle:r,initHtmlArray:c,isEdit:!0,onDeleteArticle:n,onSubmitArticle:s,onCloseArticle:l}))}}]),t}(k.PureComponent),Lm=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doEditArticleModal:Object(X.b)(g,e)}}})(jm),km=a(196),wm=a.n(km),Pm=a(48),Bm=a.n(Pm),Rm=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).openCamera=a.openCamera.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"openCamera",value:function(e){var t=e.target.parentElement;t.classList.contains(Bm.a["scanner-btn"])&&(t=t.parentElement),t.classList.contains(Bm.a["scanner-btn-container"])&&(t=t.parentElement),t.querySelector(".".concat(Bm.a["scanner-btn-container"])).remove(),t.querySelector(".".concat(Bm.a["scanner-container"])).hidden=!1,t.querySelector("video").play()}},{key:"render",value:function(){var e=this.props.onScanned;return w.a.createElement("div",null,w.a.createElement("div",{className:Bm.a["scanner-btn-container"]},w.a.createElement("div",{className:Bm.a["scanner-btn"],onClick:this.openCamera},w.a.createElement(F.a,{id:"qrcode-scanner.tap-to-scan",defaultMessage:"Tap to scan QR Code"}))),w.a.createElement("div",{hidden:!0,className:Bm.a["scanner-container"]},w.a.createElement(wm.a,{delay:300,onError:function(e){return console.error(e)},onScan:e,className:Bm.a.scanner}),w.a.createElement("div",{className:Bm.a["scanner-text"]},w.a.createElement(F.a,{id:"add-friend-modal.scan-code-title",defaultMessage:"Scan QR Code to add friend"}))))}}]),t}(k.PureComponent),xm=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).openCamera=a.openCamera.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"openCamera",value:function(){var e=this,t=document.createElement("IFRAME");t.setAttribute("src","opencamera://"),window.getQRCode=function(a){e.props.onScanned(a),t.remove()},document.documentElement.appendChild(t)}},{key:"render",value:function(){return w.a.createElement("div",null,w.a.createElement("div",{className:Bm.a["scanner-btn-container"],onClick:this.openCamera},w.a.createElement("div",{className:Bm.a["scanner-btn"]},w.a.createElement(F.a,{id:"qrcode-scanner.tap-to-scan",defaultMessage:"Tap to scan QR Code"}))))}}]),t}(k.PureComponent),Fm=function(e){var t=e.onScanned;return w.a.createElement("div",null,w.a.createElement("div",{className:Bm.a["scanner-container"]},w.a.createElement(wm.a,{delay:300,onError:function(e){return console.error(e)},onScan:t,className:Bm.a.scanner}),w.a.createElement("div",{className:Bm.a["scanner-text"]},w.a.createElement(F.a,{id:"add-friend-modal.scan-code-title",defaultMessage:"Scan QR Code to add friend"}))))},Um=function(e){return w.a.createElement("div",{className:Bm.a["submodal-wrapper"]},-1!==Ee.a.description.indexOf("Android")?w.a.createElement(Rm,e):-1!==Ee.a.description.indexOf("iOS")?w.a.createElement(xm,e):w.a.createElement(Fm,e))},qm="ADD_KNOWN_BOARD_MODAL",Jm=Object(la.createDuck)(qm,"Add_Known_Board_Modal"),Gm=Jm.defineType("INIT"),Hm=Jm.defineType("ADD_CHILD"),Vm=Jm.defineType("SET_ROOT"),Km=Jm.defineType("REMOVE_CHILDS"),Wm=Jm.defineType("REMOVE"),Ym=Jm.defineType("SET_DATA"),zm=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:qm,myDuck:Jm},t))),a(pa(e,qm,Bd))}},Zm=Jm.createReducer((mm={},Object(ia.a)(mm,Gm,ua),Object(ia.a)(mm,Hm,va),Object(ia.a)(mm,Vm,fa),Object(ia.a)(mm,Km,ha),Object(ia.a)(mm,Wm,ba),Object(ia.a)(mm,Ym,_a),mm),$.a.Map()),Xm=a(71),Qm=a.n(Xm),$m=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={boardUrl:""},a.onNameChange=a.onNameChange.bind(Object(z.a)(a)),a.onScanned=a.onScanned.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"onNameChange",value:function(e){this.setState({boardUrl:e.target.value})}},{key:"onScanned",value:function(e){if(e){var t=this.props.modalInput.modalJoinBoardSubmit;this.setState({boardUrl:e}),t(e)}}},{key:"render",value:function(){var e=this.props,t=e.intl,a=e.modalInput.modalJoinBoardSubmit,n=e.onModalClose,r=e.modal.currentModal,o=this.state.boardUrl,i=t.formatMessage({id:"add-known-board-modal.placeholder"});return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:Qm.a.overlay,style:ea,isOpen:null!==r,onRequestClose:null,contentLabel:"Add Known Board Modal"},w.a.createElement("div",{className:Qm.a["add-known-board-container"]},w.a.createElement("div",{className:Qm.a["add-known-board"]},w.a.createElement("div",{className:Qm.a["add-known-board-title"]},w.a.createElement(F.a,{id:"add-known-board-modal.title",defaultMessage:"Enter Group ID to join"})),w.a.createElement(Um,{onScanned:this.onScanned}),w.a.createElement("div",{className:Qm.a["add-known-board-node-id"]},w.a.createElement("textarea",{placeholder:i,autoFocus:!St(),name:"title-input",value:o,onChange:this.onNameChange})),w.a.createElement("div",{className:Qm.a["add-known-board-action-section"]},w.a.createElement("button",{className:Qm.a["add-known-board-submit"],onClick:function(){a(o)}},w.a.createElement(F.a,{id:"add-known-board-modal.scan-code-action",defaultMessage:"Join"})),w.a.createElement("button",{className:Qm.a["add-known-board-cancel"],onClick:n},w.a.createElement(F.a,{id:"first-popup-modal.action1",defaultMessage:"Cancel"})))))))}}]),t}(k.PureComponent),eu=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doAddKnownBoardModal:Object(X.b)(v,e)}}})(Object(F.d)($m)),tu=a(318),au=a.n(tu),nu="NAME_CARD_MODAL",ru=Object(la.createDuck)(nu,"Edit_Name_Modal"),ou=ru.defineType("INIT"),iu=ru.defineType("ADD_CHILD"),su=ru.defineType("SET_ROOT"),lu=ru.defineType("REMOVE_CHILDS"),cu=ru.defineType("REMOVE"),du=ru.defineType("SET_DATA"),mu=ru.defineType("UPDATE_DATA"),uu=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:nu,myDuck:ru},t))),a(pa(e,nu,Bd))}},pu=function(e,t){return function(a,n){Promise.all([a(rn(t)),a(dn(t)),a(sn(t))]).then(function(t){var n=Object(sa.a)(t,3),r=n[0],o=n[1],i=n[2],s=r.response.result.N?Pn(r.response.result.N):"",l=i.response.result.I?i.response.result.I:Se,c=null;o.response.result.C?(c=Object(H.a)({},Oe),Object.assign(c,JSON.parse(Pn(o.response.result.C)))):c=Oe,a(fu(e,Object(H.a)({},c,{name:s,userImg:l})))})}},fu=function(e,t){return{myId:e,myClass:nu,type:du,data:{profile:t}}},gu=function(e,t){return function(a,n){var r;a((r=JSON.stringify(t),Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"me_setMyNameCard",params:[wn(r)]}}))).then(function(n){n.response.result,n.type,n.query,n.error;a(vu(e,t))})}},vu=function(e,t){return{myId:e,myClass:nu,type:mu,data:{profile:t}}},hu=function(e,t){return function(a,n){a(ln(t)).then(function(n){var r=n.response.result;n.type,n.query,n.error;a(bu(e,t,r))})}},bu=function(e,t,a){var n={createTime:(a=kn(a)).CT,userID:a.ID,userName:a.N,status:a.S,updateTime:a.UT,version:a.V};return{myId:e,myClass:nu,type:mu,data:{profile:n}}},_u=function(e,t){return function(a,n){var r;a((r=t,Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"me_setMyImage",params:[r]}}))).then(function(n){n.response.result,n.type,n.query,n.error;a(yu(e,t))})}},yu=function(e,t){return{myId:e,myClass:nu,type:mu,data:{profile:{userImg:t}}}},Iu=ru.createReducer((um={},Object(ia.a)(um,ou,ua),Object(ia.a)(um,iu,va),Object(ia.a)(um,su,fa),Object(ia.a)(um,lu,ha),Object(ia.a)(um,cu,ba),Object(ia.a)(um,du,_a),Object(ia.a)(um,mu,ya),um),$.a.Map()),Cu=a(19),Eu=a.n(Cu);var Mu,Su=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={isEditing:!1},a.openQRCodeModal=a.openQRCodeModal.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.myId,a=e.modalInput.userId;e.actions.doNameCardModal.getProfile(t,a)}},{key:"openQRCodeModal",value:function(){this.props.onModalClose(),document.querySelector("#friend-tab").click();var e=setInterval(function(){var t=document.querySelector("#add-friend-button");t&&(t.click(),clearInterval(e))},200)}},{key:"render",value:function(){var e=this,t=this.props,a=t.myId,n=t.intl,r=t.nameCardModal,o=t.actions,i=t.onModalClose,s=t.modal.currentModal,l=t.modalInput.isEditable,c=this.state.isEditing,d=r.get(a,$.a.Map()).get("profile",$.a.Map()).toJS(),m=d.name,u=d.company,p=d.jobTitle,f=d.email,g=d.phone,v=d.description,h=d.userImg,b=n.formatMessage({id:"edit-name-modal.company-placeholder"}),_=n.formatMessage({id:"edit-name-modal.jobtitle-placeholder"}),y=n.formatMessage({id:"edit-name-modal.email-placeholder"}),I=n.formatMessage({id:"edit-name-modal.phone-placeholder"}),C=n.formatMessage({id:"edit-name-modal.description-placeholder"});return l&&c?w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:Eu.a.overlay,style:Yt,isOpen:null!==s,onRequestClose:i,contentLabel:"Edit Name Modal"},w.a.createElement(Ou,Object.assign({},d,this.state,{myId:a,intl:n,actions:o,finishEdit:function(){return e.setState({isEditing:!1})}})))):w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:Eu.a.overlay,style:Yt,isOpen:null!==s,onRequestClose:i,contentLabel:"Edit Name Modal"},w.a.createElement("div",{className:Eu.a.root},l&&w.a.createElement("div",{className:Eu.a["modal-action-section"]},w.a.createElement("button",{className:Eu.a["edit-button"],onClick:function(){return e.setState({isEditing:!0})}},w.a.createElement(ll.a,{icon:"pen"}))),w.a.createElement("div",{className:Eu.a["info-section"]},w.a.createElement("div",{className:Eu.a["left-side"]},w.a.createElement("div",{className:Eu.a["profile-picture"]},w.a.createElement("img",{id:"profile-page-pic",src:h,alt:"User Profile"})),l&&w.a.createElement("div",{className:Eu.a["qr-code"],onClick:this.openQRCodeModal},w.a.createElement("img",{src:"".concat(U.PTTAI_URL_BASE,"/images/btn_qrcode@2x.jpg"),alt:"QRCode Button"}))),w.a.createElement("div",{className:Eu.a["right-side"]},w.a.createElement("div",{className:Eu.a["main-info"]},w.a.createElement("div",{className:Eu.a["profile-input"]},w.a.createElement("div",{className:Eu.a.name},w.a.createElement("div",null,m)),w.a.createElement("div",{className:Eu.a.company},w.a.createElement("div",null,u||b)),w.a.createElement("div",{className:Eu.a["job-title"]},w.a.createElement("div",null,p||_)))),w.a.createElement("div",{className:Eu.a["contact-info"]},w.a.createElement("div",{className:Eu.a["contact-input"]},w.a.createElement("div",{className:Eu.a.email},w.a.createElement("div",null,f||y)),w.a.createElement("div",{className:Eu.a.phone},w.a.createElement("div",null,g||I)))),w.a.createElement("div",{className:Eu.a["other-info"]},w.a.createElement("div",{className:Eu.a["desc-input"]},w.a.createElement("div",{className:Eu.a.description},v?v.split("\n").map(function(e,t){return w.a.createElement("div",{key:"desc-line-".concat(t)},e)}):C))))))))}}]),t}(k.PureComponent),Ou=function(e){function t(e){var a;Object(V.a)(this,t);var n=e.name,r=e.userImg,o=e.company,i=e.jobTitle,s=e.email,l=e.phone,c=e.description;return(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={name:n,userImg:r,company:o,jobTitle:i,email:s,phone:l,description:c,showAlert:!1,alertData:{message:"",onClose:null,onConfirm:null}},a.onNameChange=a.onNameChange.bind(Object(z.a)(a)),a.onCompanyChange=a.onCompanyChange.bind(Object(z.a)(a)),a.onJobTitleChange=a.onJobTitleChange.bind(Object(z.a)(a)),a.onEmailChange=a.onEmailChange.bind(Object(z.a)(a)),a.onPhoneChange=a.onPhoneChange.bind(Object(z.a)(a)),a.onDescriptionChange=a.onDescriptionChange.bind(Object(z.a)(a)),a.onSubmit=a.onSubmit.bind(Object(z.a)(a)),a.onUpload=a.onUpload.bind(Object(z.a)(a)),a.updateProfile=a.updateProfile.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"updateProfile",value:function(e,t,a){var n=this.props,r=n.myId,o=n.actions.doNameCardModal;o.editName(r,e),o.editProfile(r,t),o.editProfileImg(r,a),Dr.fireEvent("NameCard","EditNameCardSuccess")}},{key:"onNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"onCompanyChange",value:function(e){this.setState({company:e.target.value})}},{key:"onJobTitleChange",value:function(e){this.setState({jobTitle:e.target.value})}},{key:"onEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"onPhoneChange",value:function(e){this.setState({phone:e.target.value})}},{key:"onDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"onUpload",value:function(e){var t=this,a=document.querySelector("input[type=file]").files[0],n=new FileReader;a&&("image/jpeg"!==a.type&&"image/png"!==a.type&&"image/gif"!==a.type?t.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message23",defaultMessage:"[Error] Only allow image format: jpeg / png / gif"}),onConfirm:function(){return t.setState({showAlert:!1})}}}):It(a,function(e){n.readAsDataURL(a),n.onloadend=function(){var a=new Image;a.src=n.result,a.onload=function(n){var r=document.createElement("canvas"),o=a.width,i=a.height;o>i?o>256&&(i*=256/o,o=256):i>256&&(o*=256/i,i=256),r.width=o,r.height=i,r.getContext("2d").drawImage(a,0,0,o,i);var s=o,l=i,c=0;6===e?c=90:3===e?c=180:8===e&&(c=270);var d=Ct(s,l,c);r.width=d[0],r.height=d[1];var m=r.getContext("2d");m.clearRect(0,0,r.width,r.height),m.save(),m.translate(r.width/2,r.height/2),m.rotate(c*Math.PI/180),m.drawImage(a,-s/2,-l/2,s,l),m.restore();var u=r.toDataURL("image/jpeg");t.setState({userImg:u})}}}))}},{key:"onSubmit",value:function(){var e=this.state.name||"",t=this.state.userImg||"",a=this.state.company||"",n=this.state.jobTitle||"",r=this.state.email||"",o=this.state.phone||"",i=this.state.description||"",s=this,l=e.trim(),c=a.trim(),d=n.trim(),m=r.trim(),u=o.trim(),p=i.trim();if("guest"===l)this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"edit-name-modal.default-user-name-alert",defaultMessage:"user name cannot be {DEFAULT_USER_NAME}",values:{DEFAULT_USER_NAME:"guest"}}),onConfirm:function(){return s.setState({showAlert:!1})}}});else if(JSON.stringify(l).length-2>25)this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"edit-name-modal.user-name-length-alert",defaultMessage:"user name cannot exceed {MAX_USER_NAME_SIZE} characters",values:{MAX_USER_NAME_SIZE:25}}),onConfirm:function(){return s.setState({showAlert:!1})}}});else if(function(e){return""===e.replace(/\s\s+/g,"")}(l))this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"edit-name-modal.user-name-empty-alert",defaultMessage:"user name cannot be empty"}),onConfirm:function(){return s.setState({showAlert:!1})}}});else if(JSON.stringify(c).length-2>25)this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"edit-name-modal.company-name-length-alert",defaultMessage:"company name cannot exceed {MAX_USER_COMPANY_SIZE} characters",values:{MAX_USER_COMPANY_SIZE:25}}),onConfirm:function(){return s.setState({showAlert:!1})}}});else if(JSON.stringify(d).length-2>25)this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"edit-name-modal.job-title-length-alert",defaultMessage:"job title cannot exceed {MAX_USER_JOBTITLE_SIZE} characters",values:{MAX_USER_JOBTITLE_SIZE:25}}),onConfirm:function(){return s.setState({showAlert:!1})}}});else if(JSON.stringify(m).length-2>50)this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"edit-name-modal.email-length-alert",defaultMessage:"email cannot exceed {MAX_USER_EMAIL_SIZE} characters",values:{MAX_USER_EMAIL_SIZE:50}}),onConfirm:function(){return s.setState({showAlert:!1})}}});else if(JSON.stringify(u).length-2>15)this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"edit-name-modal.phone-length-alert",defaultMessage:"phone cannot exceed {MAX_USER_PHONE_SIZE} characters",values:{MAX_USER_PHONE_SIZE:15}}),onConfirm:function(){return s.setState({showAlert:!1})}}});else if(JSON.stringify(p).length-2>100)this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"edit-name-modal.description-length-alert",defaultMessage:"description cannot exceed {MAX_USER_DESCRIPTION_SIZE} characters",values:{MAX_USER_DESCRIPTION_SIZE:100}}),onConfirm:function(){return s.setState({showAlert:!1})}}});else if(m&&!au.a.isEmail(m))this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"edit-name-modal.email-format-alert",defaultMessage:"Email is invalid"}),onConfirm:function(){return s.setState({showAlert:!1})}}});else{var f={name:l,company:c,jobTitle:d,email:m,phone:u,description:p};this.updateProfile(l,f,t),this.props.finishEdit()}}},{key:"render",value:function(){var e=this,t=this.props.intl,a=this.state,n=a.showAlert,r=a.alertData,o=a.name,i=a.userImg,s=a.company,l=a.jobTitle,c=a.email,d=a.phone,m=a.description,u=t.formatMessage({id:"edit-name-modal.company-placeholder"}),p=t.formatMessage({id:"edit-name-modal.jobtitle-placeholder"}),f=t.formatMessage({id:"edit-name-modal.email-placeholder"}),g=t.formatMessage({id:"edit-name-modal.phone-placeholder"}),v=t.formatMessage({id:"edit-name-modal.description-placeholder"});return w.a.createElement("div",{className:"".concat(Eu.a.root," ").concat(Eu.a.editing)},w.a.createElement("div",{className:Eu.a["modal-action-section"]},w.a.createElement("button",{className:Eu.a["submit-button"],onClick:function(){e.onSubmit()}},w.a.createElement(ll.a,{icon:"check",size:"xs"}))),w.a.createElement("div",{className:Eu.a["info-section"]},w.a.createElement("div",{className:Eu.a["left-side"]},w.a.createElement("label",{className:Eu.a["profile-picture"]},w.a.createElement("img",{id:"profile-page-pic",src:i,alt:"User Profile"}),w.a.createElement("input",{type:"file",id:"getval",onChange:this.onUpload})),w.a.createElement("div",{className:Eu.a["qr-code"]},w.a.createElement("img",{src:"".concat(U.PTTAI_URL_BASE,"/images/btn_qrcode@2x.jpg"),alt:"QRCode Button"}))),w.a.createElement("div",{className:Eu.a["right-side"]},w.a.createElement("div",{className:Eu.a["main-info"]},w.a.createElement("div",{className:Eu.a["profile-input"]},w.a.createElement("div",{className:Eu.a.name},w.a.createElement("input",{name:"title-input",value:o,onChange:this.onNameChange})),w.a.createElement("div",{className:Eu.a.company},w.a.createElement("input",{placeholder:u,autoFocus:!0,name:"title-input",value:s,onChange:this.onCompanyChange})),w.a.createElement("div",{className:Eu.a["job-title"]},w.a.createElement("input",{placeholder:p,name:"title-input",value:l,onChange:this.onJobTitleChange})))),w.a.createElement("div",{className:Eu.a["contact-info"]},w.a.createElement("div",{className:Eu.a["contact-input"]},w.a.createElement("div",{className:Eu.a.email},w.a.createElement("input",{placeholder:f,name:"title-input",value:c,onChange:this.onEmailChange})),w.a.createElement("div",{className:Eu.a.phone},w.a.createElement("input",{placeholder:g,name:"title-input",value:d,onChange:this.onPhoneChange})))),w.a.createElement("div",{className:Eu.a["other-info"]},w.a.createElement("div",{className:Eu.a["desc-input"]},w.a.createElement("div",{className:Eu.a.description},w.a.createElement("textarea",{rows:"3",placeholder:v,name:"title-input",value:m,onChange:this.onDescriptionChange})))))),w.a.createElement(oa,{show:n,alertData:r}))}}]),t}(k.PureComponent),Tu=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doNameCardModal:Object(X.b)(h,e)}}})(Object(F.d)(Su)),Nu="FIRST_POPUP_MODAL",Du=Object(la.createDuck)(Nu,"First_Popup_Modal"),Au=Du.defineType("INIT"),ju=Du.defineType("ADD_CHILD"),Lu=Du.defineType("SET_ROOT"),ku=Du.defineType("REMOVE_CHILDS"),wu=Du.defineType("REMOVE"),Pu=Du.defineType("SET_DATA"),Bu=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:Nu,myDuck:Du},t))),a(pa(e,Nu,Bd))}},Ru=Du.createReducer((Mu={},Object(ia.a)(Mu,Au,ua),Object(ia.a)(Mu,ju,va),Object(ia.a)(Mu,Lu,fa),Object(ia.a)(Mu,ku,ha),Object(ia.a)(Mu,wu,ba),Object(ia.a)(Mu,Pu,_a),Mu),$.a.Map()),xu=a(23),Fu=a.n(xu);var Uu,qu,Ju,Gu,Hu,Vu,Ku,Wu,Yu,zu,Zu,Xu,Qu,$u=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={name:"",nodeId:"",showAlert:!1,gaAgree:!(!e.modalInput||void 0===e.modalInput.gaAgree)&&e.modalInput.gaAgree,termsAgree:!e.modalInput||void 0===e.modalInput.termsAgree||e.modalInput.termsAgree,submodalType:"Sign-up",alertData:{message:"",onClose:null,onConfirm:null}},a.onKeydown=a.onKeydown.bind(Object(z.a)(a)),a.onNameChange=a.onNameChange.bind(Object(z.a)(a)),a.onSubmitSignUp=a.onSubmitSignUp.bind(Object(z.a)(a)),a.onScannerClose=a.onScannerClose.bind(Object(z.a)(a)),a.onScanned=a.onScanned.bind(Object(z.a)(a)),a.onNodeIdChange=a.onNodeIdChange.bind(Object(z.a)(a)),a.onSignIn=a.onSignIn.bind(Object(z.a)(a)),a.openPrivacySetting=a.openPrivacySetting.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"onNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"onKeydown",value:function(e){e&&!e.isComposing&&13===e.keyCode&&this.onSubmitSignUp()}},{key:"onSignInSubmodal",value:function(){this.setState({submodalType:"Sign-in"})}},{key:"onSignUpSubmodal",value:function(){this.setState({submodalType:"Sign-up"})}},{key:"onScannerClose",value:function(){this.setState({scannerIsOpen:!1})}},{key:"onScanned",value:function(e){e&&(this.setState({nodeId:e}),this.onSignIn(e))}},{key:"onNodeIdChange",value:function(e){this.setState({nodeId:e.target.value})}},{key:"onSubmitSignUp",value:function(){var e=this.props.modalInput,t=e.signUp,a=e.userId,n=this.state,r=n.name,o=n.gaAgree,i=n.termsAgree,s=this,l=r.trim();"guest"===l?this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message17",defaultMessage:"User name cannot be '{DEFAULT_USER_NAME}'",values:{DEFAULT_USER_NAME:"guest"}}),onConfirm:function(){return s.setState({showAlert:!1})}}}):JSON.stringify(l).length-2>25?this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message18",defaultMessage:"User name cannot exceed {MAX_USER_NAME_SIZE} characters",values:{MAX_USER_NAME_SIZE:25}}),onConfirm:function(){return s.setState({showAlert:!1})}}}):!function(e){return""===e.replace(/\s\s+/g,"")}(l)?i?(Dr.clearConfig(),Dr.saveConfig(a,o),t(l)):this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message37",defaultMessage:"Please agree the PTT.ai Terms and Conditions"}),onConfirm:function(){return s.setState({showAlert:!1})}}}):this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message19",defaultMessage:"User name cannot be empty"}),onConfirm:function(){return s.setState({showAlert:!1})}}})}},{key:"openPrivacySetting",value:function(){var e=this.props,t=e.modalInput,a=e.onModalSwitch,n=e.userId,r=this.state,o=r.gaAgree;a("PRIVACY_SETTING_MODAL",{firstPopUpInput:t,fromSignInPage:!0,termsAgree:r.termsAgree,gaAgree:o,userId:n})}},{key:"onSignIn",value:function(e){var t=this.props,a=t.onModalClose,n=t.modalInput,r=n.userPrivateKeyInfo,o=n.signIn,i=e,s=r,l=this;i&&i.startsWith("pnode://")?s?o(i,s,function(e){e.error?l.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message3",defaultMessage:"[Error] {data}:{nodeId}",values:{data:e.data,nodeId:e.nodeId}}),onConfirm:function(){return l.setState({showAlert:!1})}}}):l.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message28",defaultMessage:"[Wait] Signing..."})}})},function(){l.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message28",defaultMessage:"[Wait] Signing..."})}})},function(e,t){l.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message27",defaultMessage:"[Success] Signed In"}),onConfirm:function(){l.setState({showAlert:!1}),l.onScannerClose(),a()}}})}):l.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message6",defaultMessage:"Private key empty or invalid"}),onConfirm:function(){return l.setState({showAlert:!1})}}}):l.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message5",defaultMessage:"Node id empty or invalid"}),onConfirm:function(){return l.setState({showAlert:!1})}}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.intl,n=t.onModalClose,r=t.modal.currentModal,o=this.state,i=o.name,s=o.showAlert,l=o.alertData,c=o.submodalType,d=o.nodeId,m=o.gaAgree,u=o.termsAgree,p=a.formatMessage({id:"first-popup-modal.placeholder"}),f=a.formatMessage({id:"sign-in-scanner-modal.placeholder2"});return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:Fu.a.overlay,style:Zt,isOpen:null!==r,onRequestClose:null,contentLabel:"First Popup Modal"},w.a.createElement("div",{className:Fu.a.root},w.a.createElement("div",{className:Fu.a["sign-in"]},w.a.createElement("div",{className:Fu.a["signin-action"]},w.a.createElement("div",{className:Fu.a["profile-title"]},w.a.createElement(F.a,{id:"first-popup-modal.title",defaultMessage:"Sign in with existing account"})),w.a.createElement("button",{className:Fu.a["signin-button"],onClick:function(){return e.setState({submodalType:"Sign-in"})}},w.a.createElement(F.a,{id:"first-popup-modal.action3",defaultMessage:"Sign In"})))),w.a.createElement("div",{className:Fu.a.divider},w.a.createElement(F.a,{id:"first-popup-modal.divider",defaultMessage:"Or"})),w.a.createElement("div",{className:Fu.a["sign-up"]},w.a.createElement("div",{className:Fu.a["signup-action"]},w.a.createElement("button",{className:Fu.a["close-button"],hidden:!0,onClick:n},w.a.createElement(F.a,{id:"first-popup-modal.action1",defaultMessage:"Cancel"})),w.a.createElement("button",{className:Fu.a["submit-button"],onClick:function(){return e.setState({submodalType:"Sign-up"})}},w.a.createElement(F.a,{id:"first-popup-modal.action4",defaultMessage:"Sign up as new user"})))),w.a.createElement(Ut.a,{overlayClassName:"SignUpModal__Overlay",style:zt,isOpen:"Sign-up"===c,onRequestClose:this.onScannerClose,contentLabel:"Sign Up Scanner Modal"},w.a.createElement("div",{className:Fu.a["submodal-signup-container"]},w.a.createElement("div",{className:Fu.a["submodal-signup"]},w.a.createElement("div",{className:Fu.a["submodal-signup-title"]},w.a.createElement(F.a,{id:"first-popup-modal.title2",defaultMessage:"Let others know your name"})),w.a.createElement("div",{className:Fu.a["submodal-signup-profile-input"]},w.a.createElement("input",{placeholder:p,autoFocus:!0,name:"title-input",className:Fu.a["profile-input-name"],value:i,onKeyDown:this.onKeydown,onChange:this.onNameChange})),w.a.createElement("div",{className:Fu.a["submodal-signup-action-section"]},w.a.createElement("button",{className:Fu.a["submodal-signup-confirm"],onClick:function(){return e.onSubmitSignUp()}},w.a.createElement(F.a,{id:"alert-component.action2",defaultMessage:"Confirm"})),w.a.createElement("button",{hidden:!0,className:Fu.a["submodal-signup-cancel"],onClick:function(){return e.setState({submodalType:null})}},w.a.createElement(F.a,{id:"first-popup-modal.action1",defaultMessage:"Cancel"}))),w.a.createElement("div",{className:Fu.a["submodal-ga-agreement"]},w.a.createElement("div",{className:Fu.a["submodal-ga-agreement-item"]},w.a.createElement("label",{className:Fu.a["submodal-checkmark-container"]},w.a.createElement(F.a,{id:"first-popup-modal.title3",defaultMessage:"Let us collect your data"}),w.a.createElement("input",{type:"radio",name:"terms-agreemenet",checked:u,onClick:function(){e.setState({termsAgree:!u})}}),w.a.createElement("span",{className:Fu.a.checkmark}))),w.a.createElement("div",{className:Fu.a["submodal-ga-agreement-item"]},w.a.createElement("label",{className:Fu.a["submodal-checkmark-container"]},w.a.createElement(F.a,{id:"first-popup-modal.title4",defaultMessage:"Agree to user tracking for improving Ptt.ai's service"}),w.a.createElement("input",{type:"radio",name:"ga-agreemenet",checked:m,onClick:function(){e.setState({gaAgree:!m})}}),w.a.createElement("span",{className:Fu.a.checkmark}))),w.a.createElement("div",{className:Fu.a["submodal-ga-agreement-see-more"],onClick:function(){return e.openPrivacySetting()}},"\u4e86\u89e3\u66f4\u591a"))))),w.a.createElement(Ut.a,{overlayClassName:"SignInModal__Overlay",style:ea,isOpen:"Sign-in"===c,onRequestClose:this.onScannerClose,contentLabel:"Sign In Scanner Modal"},w.a.createElement("div",{className:Fu.a["submodal-signin-container"]},w.a.createElement("div",{className:Fu.a["submodal-signin"]},w.a.createElement("div",{className:Fu.a["submodal-signin-title"]},w.a.createElement(F.a,{id:"first-popup-modal.title",defaultMessage:"Sign in with existing account"})),w.a.createElement(Um,{onScanned:this.onScanned}),w.a.createElement("div",{className:Fu.a["submodal-signin-node-id"]},w.a.createElement("textarea",{placeholder:f,autoFocus:!0,name:"title-input",value:d,onChange:this.onNodeIdChange})),w.a.createElement("div",{className:Fu.a["submodal-signin-action-section"]},w.a.createElement("button",{className:Fu.a["submodal-signin-submit"],onClick:function(){return e.onSignIn(d)}},w.a.createElement(F.a,{id:"first-popup-modal.action2",defaultMessage:"Confirm"})),w.a.createElement("button",{className:Fu.a["submodal-signin-cancel"],onClick:function(){return e.setState({submodalType:null})}},w.a.createElement(F.a,{id:"first-popup-modal.action1",defaultMessage:"Cancel"})))))))),w.a.createElement(oa,{show:s,alertData:l}))}}]),t}(k.PureComponent),ep=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doFirstPopupModal:Object(X.b)(b,e)}}})(Object(F.d)($u)),tp="PRIVACY_SETTING_MODAL",ap=Object(la.createDuck)(tp,"Privacy_Setting_Modal"),np=ap.defineType("INIT"),rp=ap.defineType("ADD_CHILD"),op=ap.defineType("SET_ROOT"),ip=ap.defineType("REMOVE_CHILDS"),sp=ap.defineType("REMOVE"),lp=ap.defineType("SET_DATA"),cp=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:tp,myDuck:ap},t))),a(pa(e,tp,Bd))}},dp=ap.createReducer((Uu={},Object(ia.a)(Uu,np,ua),Object(ia.a)(Uu,rp,va),Object(ia.a)(Uu,op,fa),Object(ia.a)(Uu,ip,ha),Object(ia.a)(Uu,sp,ba),Object(ia.a)(Uu,lp,_a),Uu),$.a.Map()),mp=dp,up=a(30),pp=a.n(up),fp=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={showAlert:!1,fromSignInPage:e.modalInput&&e.modalInput.fromSignInPage,termsAgree:!e.modalInput||"boolean"!==typeof e.modalInput.fromSignInPage||!e.modalInput.fromSignInPage||e.modalInput.termsAgree,gaAgree:e.modalInput&&void 0!==e.modalInput.gaAgree?e.modalInput.gaAgree:"true"===Dr.getConfig().track,alertData:{message:"",onClose:null,onConfirm:null}},a.onSubmit=a.onSubmit.bind(Object(z.a)(a)),a.onCancel=a.onCancel.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"onSubmit",value:function(){var e=this.props,t=e.modalInput,a=t.userId,n=t.firstPopUpInput,r=e.onModalClose,o=e.onModalSwitch,i=this.state,s=i.fromSignInPage,l=i.gaAgree,c=i.termsAgree;s?o("FIRST_POPUP_MODAL",Object(H.a)({},n,{gaAgree:l,termsAgree:c})):(Dr.clearConfig(),Dr.saveConfig(a,l),r())}},{key:"onCancel",value:function(){var e=this.props,t=e.onModalClose,a=e.onModalSwitch,n=e.modalInput.firstPopUpInput;this.state.fromSignInPage?a("FIRST_POPUP_MODAL",n):t()}},{key:"render",value:function(){var e=this,t=this.props.modal.currentModal,a=this.state,n=a.showAlert,r=a.alertData,o=a.fromSignInPage,i=a.termsAgree,s=a.gaAgree;return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:pp.a.overlay,style:Xt,isOpen:null!==t,onRequestClose:null,contentLabel:"Privacy Setting Modal"},w.a.createElement("div",{className:pp.a.root},w.a.createElement("div",{className:pp.a["ga-bar"]},w.a.createElement("div",{className:pp.a["prev-button"],onClick:function(){return e.onCancel()}},w.a.createElement("div",{className:pp.a["prev-button-icon"]})),w.a.createElement("div",{className:pp.a["ga-title"]},w.a.createElement(F.a,{id:"privacy-modal.title1",defaultMessage:"Terms and Conditions & Google Analytics Tracking"})),w.a.createElement("div",{className:pp.a["null-space"]})),w.a.createElement("div",{className:pp.a["ga-agreement"]},w.a.createElement("div",{className:pp.a["ga-agreement-content"]},w.a.createElement("div",{className:pp.a["ga-agreement-paragraph"]},w.a.createElement(F.a,{id:"privacy-modal.content1",defaultMessage:""})),w.a.createElement("div",{className:pp.a["ga-agreement-paragraph"]},w.a.createElement(F.a,{id:"privacy-modal.content2",defaultMessage:""})),w.a.createElement("div",{className:pp.a["ga-agreement-paragraph"]},w.a.createElement(F.a,{id:"privacy-modal.content3",defaultMessage:""}),"\xa0",w.a.createElement("a",{href:"https://ptt.ai/terms-of-use/",target:"_blank",rel:"noopener noreferrer"},"https://ptt.ai/terms-of-use/")),w.a.createElement("div",{className:pp.a["ga-agreement-paragraph"]},w.a.createElement(F.a,{id:"privacy-modal.content4",defaultMessage:""}))),w.a.createElement("div",{className:o?pp.a["ga-agreement-item"]:pp.a["ga-agreement-item-disabled"]},w.a.createElement("label",{className:pp.a["checkmark-container"]},w.a.createElement(F.a,{id:"first-popup-modal.title3",defaultMessage:"Let us collect your data"}),w.a.createElement("input",{type:"radio",name:"terms-agreemenet",disabled:!o,checked:i,onClick:function(){e.setState({termsAgree:!i})}}),w.a.createElement("span",{className:pp.a.checkmark}))),w.a.createElement("div",{className:pp.a["ga-agreement-item"]},w.a.createElement("label",{className:pp.a["checkmark-container"]},w.a.createElement(F.a,{id:"first-popup-modal.title4",defaultMessage:"Agree to user tracking for improving Ptt.ai's service"}),w.a.createElement("input",{type:"radio",checked:s,onClick:function(){return e.setState({gaAgree:!s})}}),w.a.createElement("span",{className:pp.a.checkmark}))),w.a.createElement("div",{className:pp.a["action-section"]},w.a.createElement("button",{className:pp.a.confirm,onClick:function(){return e.onSubmit()}},w.a.createElement(F.a,{id:"alert-component.action2",defaultMessage:"Confirm"})),w.a.createElement("button",{hidden:!0,className:pp.a.cancel,onClick:function(){return e.onCancel()}},w.a.createElement(F.a,{id:"first-popup-modal.action1",defaultMessage:"Cancel"})))))),w.a.createElement(oa,{show:n,alertData:r}))}}]),t}(k.PureComponent),gp=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doPrivacySettingModal:Object(X.b)(_,e)}}})(Object(F.d)(fp)),vp="MULTI_DEVICE_MODAL",hp=Object(la.createDuck)(vp,"Multi_Device_Modal"),bp=hp.defineType("INIT"),_p=hp.defineType("ADD_CHILD"),yp=hp.defineType("SET_ROOT"),Ip=hp.defineType("REMOVE_CHILDS"),Cp=hp.defineType("REMOVE"),Ep=hp.defineType("SET_DATA"),Mp=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:vp,myDuck:hp},t))),a(pa(e,vp,Bd))}},Sp=hp.createReducer((qu={},Object(ia.a)(qu,bp,ua),Object(ia.a)(qu,_p,va),Object(ia.a)(qu,yp,fa),Object(ia.a)(qu,Ip,ha),Object(ia.a)(qu,Cp,ba),Object(ia.a)(qu,Ep,_a),qu),$.a.Map()),Op=Sp,Tp=a(17),Np=a.n(Tp),Dp=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={name:"",menuIsOpen:!1,openCurrent:!1},a.onNameChange=a.onNameChange.bind(Object(z.a)(a)),a.onAddButtonClicked=a.onAddButtonClicked.bind(Object(z.a)(a)),a.onMenuClose=a.onMenuClose.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"onNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"onAddButtonClicked",value:function(e){this.setState({menuIsOpen:!0})}},{key:"onMenuClose",value:function(e){this.setState({menuIsOpen:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalInput,n=a.device,r=a.keyInfo,o=t.onModalClose,i=t.onModalSwitch,s=t.modal.currentModal,l=this.state,c=l.menuIsOpen,d=l.openCurrent,m=function(){i("ADD_DEVICE_MODAL",{device:n,keyInfo:r})};return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:"MultiDeviceModal__Overlay",style:aa,isOpen:null!==s,onRequestClose:null,contentLabel:"Multi Device Modal"},w.a.createElement("div",{className:Np.a.root},w.a.createElement("div",{className:Np.a["top-bar"]},w.a.createElement("div",{className:Np.a["prev-button"]},w.a.createElement("div",{className:Np.a["prev-button-icon"],onClick:o})),w.a.createElement("div",{className:Np.a.title},w.a.createElement(F.a,{id:"multi-device-modal.title",defaultMessage:"Devices Setting"})),w.a.createElement("div",{className:Np.a["null-space"],onClick:function(){return e.setState({openCurrent:!d})}})),w.a.createElement("div",{className:Np.a["device-list"]},w.a.createElement("div",{hidden:!d,className:Np.a["device-item"],key:-1},w.a.createElement("div",{className:Np.a["item-index"]},w.a.createElement("div",{className:Np.a["op-value-index"]},"[Debug] Platform")),w.a.createElement("div",{className:Np.a.item},w.a.createElement("div",{className:Np.a["op-title"]},"Name"),w.a.createElement("div",{className:Np.a["op-value"]},Ee.a.name)),w.a.createElement("div",{className:Np.a.item},w.a.createElement("div",{className:Np.a["op-title"]},"Version"),w.a.createElement("div",{className:Np.a["op-value"]},Ee.a.version)),w.a.createElement("div",{className:Np.a.item},w.a.createElement("div",{className:Np.a["op-title"]},"Manufacturer"),w.a.createElement("div",{className:Np.a["op-value"]},Ee.a.manufacturer)),w.a.createElement("div",{className:Np.a.item},w.a.createElement("div",{className:Np.a["op-title"]},"Layout"),w.a.createElement("div",{className:Np.a["op-value"]},Ee.a.layout)),w.a.createElement("div",{className:Np.a.item},w.a.createElement("div",{className:Np.a["op-title"]},"OS"),w.a.createElement("div",{title:Ee.a.os,className:Np.a["op-value"]},Ee.a.os.toString())),w.a.createElement("div",{className:Np.a.item},w.a.createElement("div",{className:Np.a["op-title"]},"Description"),w.a.createElement("div",{className:Np.a["op-value"]},Ee.a.description))),n.data.map(function(e,t){return w.a.createElement("div",{className:Np.a["device-item"],key:t},w.a.createElement("div",{className:Np.a["item-index"]},w.a.createElement("div",{className:Np.a["op-value-index"]},t+1+". "+e.NodeName)),w.a.createElement("div",{className:Np.a.item},w.a.createElement("div",{className:Np.a["op-title"]},"Node ID"),w.a.createElement("div",{className:Np.a["op-value"]},e.NodeID)),w.a.createElement("div",{className:Np.a.item},w.a.createElement("div",{className:Np.a["op-title"]},"Node Type"),w.a.createElement("div",{className:Np.a["op-value"]},Xe[e.NodeType])),w.a.createElement("div",{className:Np.a.item},w.a.createElement("div",{className:Np.a["op-title"]},"Status"),w.a.createElement("div",{className:Np.a["op-value"]},ze[e.Status])),w.a.createElement("div",{className:Np.a.item},w.a.createElement("div",{className:Np.a["op-title"]},"User ID"),w.a.createElement("div",{className:Np.a["op-value"]},e.userID)),w.a.createElement("div",{className:Np.a.item},w.a.createElement("div",{className:Np.a["op-title"]},w.a.createElement(F.a,{id:"multi-device-modal.device-content1",defaultMessage:"Start Date"})),w.a.createElement("div",{title:Nt(e.CreateTime.T),className:Np.a["op-value"]},Nt(e.CreateTime.T))))})),w.a.createElement("div",{hidden:!0,className:Np.a["add-icon-container"]},w.a.createElement("div",{className:Np.a["add-icon-subcontainer"]},w.a.createElement("div",{className:Np.a["add-icon"],onClick:m}))),w.a.createElement(Ut.a,{overlayClassName:"MultiDeviceMenuModal__Overlay",style:ra,isOpen:c,onRequestClose:this.onMenuClose,contentLabel:"Multi Device Menu Modal"},w.a.createElement("div",{className:Np.a["submodal-action-section"]},w.a.createElement("button",{className:Np.a["submodal-join-board-button"],onClick:m},w.a.createElement(F.a,{id:"multi-device-modal.add-menu1",defaultMessage:"Add Device"})),w.a.createElement("button",{className:Np.a["submodal-create-board-button"],onClick:function(){i("ADD_DEVICE_SCANNER_MODAL",{device:n,keyInfo:r})}},w.a.createElement(F.a,{id:"multi-device-modal.add-menu2",defaultMessage:"Sync Device"})),w.a.createElement("button",{className:Np.a["submodal-close-button"],onClick:this.onMenuClose},w.a.createElement(F.a,{id:"multi-device-modal.add-menu3",defaultMessage:"Cancel"})))))))}}]),t}(k.PureComponent),Ap=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doMultiDeviceModal:Object(X.b)(y,e)}}})(Dp),jp=a(140),Lp=a.n(jp),kp="ADD_FRIEND_MODAL",wp=Object(la.createDuck)(kp,"Add_Friend_Modal"),Pp=wp.defineType("INIT"),Bp=wp.defineType("ADD_CHILD"),Rp=wp.defineType("SET_ROOT"),xp=wp.defineType("REMOVE_CHILDS"),Fp=wp.defineType("REMOVE"),Up=wp.defineType("SET_DATA"),qp=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:kp,myDuck:wp},t))),a(pa(e,kp,Bd))}},Jp=wp.createReducer((Ju={},Object(ia.a)(Ju,Pp,ua),Object(ia.a)(Ju,Bp,va),Object(ia.a)(Ju,Rp,fa),Object(ia.a)(Ju,xp,ha),Object(ia.a)(Ju,Fp,ba),Object(ia.a)(Ju,Up,_a),Ju),$.a.Map()),Gp=a(40),Hp=a.n(Gp),Vp=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).refreshKeyInfoInterval=null,a.state={friendReqId:"",currentTab:"display",qrCodeCopied:!1},a.onFriendIdChange=a.onFriendIdChange.bind(Object(z.a)(a)),a.onScanned=a.onScanned.bind(Object(z.a)(a)),a.onTabChange=a.onTabChange.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"onTabChange",value:function(e){var t=(e&&e.currentTarget&&e.currentTarget.dataset).id;t&&this.setState({currentTab:t})}},{key:"onScanned",value:function(e){if(e){var t=this.props.modalInput.friend;this.setState({friendReqId:e}),t.addFriendAction(e)}}},{key:"onFriendIdChange",value:function(e){this.setState({friendReqId:e.target.value})}},{key:"componentWillMount",value:function(){var e=this.props.modalInput.friend;this.refreshKeyInfoInterval=setInterval(function(){return e.refreshKeyInfo()},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshKeyInfoInterval)}},{key:"render",value:function(){var e=this,t=this.props,a=t.intl,n=t.onModalClose,r=t.modal.currentModal,o=t.modalInput.friend,i=this.state,s=i.friendReqId,l=i.currentTab,c=i.qrCodeCopied;return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:"SignInModal__Overlay",style:ea,isOpen:null!==r,onRequestClose:null,contentLabel:"Add Friend Scanner Modal"},w.a.createElement("div",{className:Hp.a["tab-pages-container"]},w.a.createElement("div",{className:Hp.a["tab-pages"]},w.a.createElement("div",{className:Hp.a["tab-pages-title"]},w.a.createElement(F.a,{id:"add-friend-modal.title",defaultMessage:"Add friend"})),function(){var t=Hp.a["switcher-item"],a=Hp.a["switcher-item"],n=Hp.a["active-switcher-item"];return"display"===l?t+=" "+n:a+=" "+n,w.a.createElement("div",{className:Hp.a["switcher-item-container"]},w.a.createElement("div",{className:t,"data-id":"display",onClick:e.onTabChange},w.a.createElement(F.a,{id:"add-friend-modal.show-qrcode",defaultMessage:"Show QR Code"})),w.a.createElement("div",{className:a,"data-id":"scanner",onClick:e.onTabChange},w.a.createElement(F.a,{id:"add-friend-modal.scan-qrcide",defaultMessage:"Scan QR Code"})))}(),"scanner"===l?w.a.createElement(Wp,{friendReqId:s,intl:a,friend:o,onModalClose:n,onScanned:this.onScanned,onFriendIdChange:this.onFriendIdChange}):w.a.createElement(Kp,{friend:o,qrCodeCopied:c,onModalClose:n,onCopy:function(){return e.setState({qrCodeCopied:!0})}})))))}}]),t}(k.PureComponent),Kp=function(e){var t=e.friend,a=e.qrCodeCopied,n=e.onModalClose,r=e.onCopy,o=t&&t.data&&t.data.friendJoinKey&&t.data.friendJoinKey.URL;return w.a.createElement("div",{className:Hp.a["tab-page-container"]},w.a.createElement("div",{className:Hp.a["qr-code-container"]},w.a.createElement(Lp.a,{value:o,size:250})),w.a.createElement("div",{className:Hp.a["tab-page"]},w.a.createElement(pd.CopyToClipboard,{text:o,onCopy:r},w.a.createElement("button",{className:Hp.a["copy-button"],onClick:null},a?w.a.createElement(F.a,{id:"add-device-modal.copy-node-id-2",defaultMessage:"Copied"}):w.a.createElement(F.a,{id:"add-friend-modal.copy-my-id-1",defaultMessage:"Copy your ID"}))),w.a.createElement("button",{className:Hp.a["tab-page-cancel"],onClick:n},w.a.createElement(F.a,{id:"first-popup-modal.action1",defaultMessage:"Cancel"}))))},Wp=function(e){var t=e.friend,a=e.friendReqId,n=e.intl,r=e.onModalClose,o=e.onFriendIdChange,i=e.onScanned,s=n.formatMessage({id:"add-friend-modal.placeholder"});return w.a.createElement("div",{className:Hp.a["tab-page-container"]},w.a.createElement(Um,{onScanned:i}),w.a.createElement("div",{className:Hp.a["tab-page-node-id"]},w.a.createElement("textarea",{placeholder:s,autoFocus:!St(),name:"title-input",value:a,onChange:o})),w.a.createElement("div",{className:Hp.a["tab-page"]},w.a.createElement("button",{className:Hp.a["tab-page-submit"],onClick:function(){return t.addFriendAction(a)}},w.a.createElement(F.a,{id:"add-friend-modal.scan-code-action",defaultMessage:"Add"})),w.a.createElement("button",{className:Hp.a["tab-page-cancel"],onClick:r},w.a.createElement(F.a,{id:"first-popup-modal.action1",defaultMessage:"Cancel"}))))},Yp=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doAddFriendModal:Object(X.b)(I,e)}}})(Object(F.d)(Vp)),zp="ADD_DEVICE_MODAL",Zp=Object(la.createDuck)(zp,"Add_Device_Modal"),Xp=Zp.defineType("INIT"),Qp=Zp.defineType("ADD_CHILD"),$p=Zp.defineType("SET_ROOT"),ef=Zp.defineType("REMOVE_CHILDS"),tf=Zp.defineType("REMOVE"),af=Zp.defineType("SET_DATA"),nf=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:zp,myDuck:Zp},t))),a(pa(e,zp,Bd))}},rf=Zp.createReducer((Gu={},Object(ia.a)(Gu,Xp,ua),Object(ia.a)(Gu,Qp,va),Object(ia.a)(Gu,$p,fa),Object(ia.a)(Gu,ef,ha),Object(ia.a)(Gu,tf,ba),Object(ia.a)(Gu,af,_a),Gu),$.a.Map()),of=a(54),sf=a.n(of),lf=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).refreshKeyInfoInterval=null,a.state={copied:!1},a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.modalInput.keyInfo;this.refreshKeyInfoInterval=setInterval(function(){return e.refreshKeyInfo()},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshKeyInfoInterval)}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalInput,n=a.device,r=a.keyInfo,o=t.onModalSwitch,i=t.modal.currentModal,s=this.state.copied,l=function(){o("SHOW_DEVICE_INFO",{device:n,keyInfo:r})},c=jt(r.data.deviceJoinKey.UpdateTS.T,r.data.deviceJoinKey.expirePeriod);return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:"AddDeviceModal__Overlay",style:ta,isOpen:null!==i,onRequestClose:l,contentLabel:"Add Device Modal"},w.a.createElement("div",{className:sf.a.root},w.a.createElement("div",{className:sf.a["top-bar"]},w.a.createElement("div",{className:sf.a["prev-button"],onClick:l}),w.a.createElement("div",{className:sf.a.title},w.a.createElement(F.a,{id:"add-device-modal.title",defaultMessage:"Add Device"})),w.a.createElement("div",{className:sf.a["null-space"]})),w.a.createElement("div",{className:sf.a.content},w.a.createElement("div",{hidden:!0,className:sf.a["content-title"]},"Node ID"),w.a.createElement("div",{className:sf.a["qr-code"]},w.a.createElement(Lp.a,{value:r.data.deviceJoinKey.URL,size:250})),w.a.createElement("div",{className:sf.a["node-id"]},w.a.createElement("div",{className:sf.a.expiration},w.a.createElement(F.a,{id:"add-device-modal.expiration",defaultMessage:"{expTimeVal}",values:{expTimeVal:c}})),w.a.createElement(pd.CopyToClipboard,{text:r.data.deviceJoinKey.URL,onCopy:function(){return e.setState({copied:!0})}},w.a.createElement("button",{className:sf.a["copy-button"]},s?w.a.createElement(F.a,{id:"add-device-modal.copy-node-id-2",defaultMessage:"Copied"}):w.a.createElement(F.a,{id:"add-device-modal.copy-node-id-1",defaultMessage:"Copy Node ID"}))),w.a.createElement("div",{className:sf.a["text-value"]},w.a.createElement("input",{readOnly:!0,value:r.data.deviceJoinKey.URL})),w.a.createElement("div",{className:sf.a["helper-text"]},w.a.createElement(F.a,{id:"add-device-modal.copy-node-id-3",defaultMessage:"Scan QR Code or send the above Node ID"})))))))}}]),t}(k.PureComponent),cf=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doAddDeviceModal:Object(X.b)(C,e)}}})(lf),df=a(319),mf=a.n(df),uf="ADD_DEVICE_SCANNER_MODAL",pf=Object(la.createDuck)(uf,"Add_Device_Scanner_Modal"),ff=pf.defineType("INIT"),gf=pf.defineType("ADD_CHILD"),vf=pf.defineType("SET_ROOT"),hf=pf.defineType("REMOVE_CHILDS"),bf=pf.defineType("REMOVE"),_f=pf.defineType("SET_DATA"),yf=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:uf,myDuck:pf},t))),a(pa(e,uf,Bd))}},If=pf.createReducer((Hu={},Object(ia.a)(Hu,ff,ua),Object(ia.a)(Hu,gf,va),Object(ia.a)(Hu,vf,fa),Object(ia.a)(Hu,hf,ha),Object(ia.a)(Hu,bf,ba),Object(ia.a)(Hu,_f,_a),Hu),$.a.Map()),Cf=a(35),Ef=a.n(Cf),Mf=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={inputNodeId:"",inputPrivateKey:"",keyCopied:!1,showAlert:!1,alertData:{message:"",onClose:null,onConfirm:null}},a.onNodeIdChange=a.onNodeIdChange.bind(Object(z.a)(a)),a.onPKeyChange=a.onPKeyChange.bind(Object(z.a)(a)),a.onNext=a.onNext.bind(Object(z.a)(a)),a.onComplete=a.onComplete.bind(Object(z.a)(a)),a.onScanned=a.onScanned.bind(Object(z.a)(a)),a.onScannerClose=a.onScannerClose.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"onScanned",value:function(e){e&&(this.setState({inputNodeId:e}),this.onNext())}},{key:"onScannerClose",value:function(){var e=this.props,t=e.modalInput;(0,e.onModalSwitch)("SHOW_DEVICE_INFO",t)}},{key:"onNext",value:function(e){this.slider.slickNext()}},{key:"onNodeIdChange",value:function(e){this.setState({inputNodeId:e.target.value})}},{key:"onPKeyChange",value:function(e){this.setState({inputPrivateKey:e.target.value})}},{key:"onComplete",value:function(e){var t=this.props.modalInput.device,a=this.state,n=a.inputNodeId,r=a.inputPrivateKey,o=this;n&&n.startsWith("pnode://")?r?t.addDeviceAction(n,r,function(e){e.error?o.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message3",defaultMessage:"[Error] {data}:{nodeId}",values:{data:e.data,nodeId:e.nodeId}}),onConfirm:function(){return o.setState({showAlert:!1})}}}):(o.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message4",defaultMessage:"[Success] Deivce Added"}),onConfirm:function(){return o.setState({showAlert:!1})}}}),o.onScannerClose())}):o.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message6",defaultMessage:"Private key empty or invalid"}),onConfirm:function(){return o.setState({showAlert:!1})}}}):o.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message5",defaultMessage:"Node id empty or invalid"}),onConfirm:function(){return o.setState({showAlert:!1})}}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.intl,n=t.modalInput.keyInfo,r=t.modal.currentModal,o=this.state,i=o.showAlert,s=o.alertData,l=o.inputNodeId,c=o.inputPrivateKey,d=o.keyCopied,m=a.formatMessage({id:"add-device-scanner-modal.placeholder1"}),u=a.formatMessage({id:"add-device-scanner-modal.placeholder2"});return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:"AddDeviceScannerModal__Overlay",style:ea,isOpen:null!==r,onRequestClose:this.onScannerClose,contentLabel:"Add Device Scanner Modal"},w.a.createElement("div",{className:Ef.a.root},w.a.createElement("div",{className:Ef.a["top-bar"]},w.a.createElement("div",{className:Ef.a["prev-button"],onClick:this.onScannerClose}),w.a.createElement("div",{className:Ef.a.title},w.a.createElement(F.a,{id:"add-device-scanner-modal.title",defaultMessage:"Sync with Main Device"})),w.a.createElement("div",{className:Ef.a["null-space"]})),w.a.createElement("div",{className:Ef.a.content},w.a.createElement("div",{className:Ef.a["slide-list"]},w.a.createElement(mf.a,Object.assign({ref:function(t){return e.slider=t}},{dots:!0,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1},{initialSlide:1,rtl:!0,arrows:!1}),w.a.createElement("div",{className:Ef.a["slide-item"]},w.a.createElement("div",{className:Ef.a.container},w.a.createElement("div",{className:Ef.a["p-key"]},w.a.createElement(pd.CopyToClipboard,{text:n.data.userPrivateKey,onCopy:function(){return e.setState({keyCopied:!0})}},w.a.createElement("button",{className:Ef.a["copy-button"]},d?w.a.createElement(F.a,{id:"add-device-scanner-modal.copy-device-id-2",defaultMessage:"Copied"}):w.a.createElement(F.a,{id:"add-device-scanner-modal.copy-device-id-1",defaultMessage:"Copy Private Key"}))),w.a.createElement("div",{className:Ef.a["text-value"]},w.a.createElement("input",{readOnly:!0,value:n.data.userPrivateKey})),w.a.createElement("div",{className:Ef.a["helper-text"]},w.a.createElement(F.a,{id:"add-device-scanner-modal.copy-device-id-3",defaultMessage:"Copy the above Private key and paste below"})),w.a.createElement("div",{className:Ef.a["paste-area-pkey"]},w.a.createElement("textarea",{placeholder:m,autoFocus:!0,name:"title-input",value:c,onChange:this.onPKeyChange})),w.a.createElement("div",{className:Ef.a["action-section"]},w.a.createElement("button",{className:Ef.a["submit-button"],onClick:this.onComplete},w.a.createElement(F.a,{id:"add-device-scanner-modal.copy-device-id-action1",defaultMessage:"Start to sync"})))))),w.a.createElement("div",{className:Ef.a["slide-item"]},w.a.createElement("div",{className:Ef.a.container},w.a.createElement(Um,{onScanned:this.onScanned}),w.a.createElement("div",{className:Ef.a["paste-area-node-id"]},w.a.createElement("textarea",{placeholder:u,autoFocus:!0,name:"title-input",value:l,onChange:this.onNodeIdChange})),w.a.createElement("div",{className:Ef.a["action-section"]},w.a.createElement("button",{className:Ef.a["submit-button"],onClick:this.onNext},w.a.createElement(F.a,{id:"add-device-scanner-modal.copy-device-id-action2",defaultMessage:"Next"})))))))))),w.a.createElement(oa,{show:i,alertData:s}))}}]),t}(k.PureComponent),Sf=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doAddDeviceScannerModal:Object(X.b)(E,e)}}})(Object(F.d)(Mf)),Of="BOARD_ACTION_MODAL",Tf=Object(la.createDuck)(Of,"Board_Action_Modal"),Nf=Tf.defineType("INIT"),Df=Tf.defineType("ADD_CHILD"),Af=Tf.defineType("SET_ROOT"),jf=Tf.defineType("REMOVE_CHILDS"),Lf=Tf.defineType("REMOVE"),kf=Tf.defineType("SET_DATA"),wf=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:Of,myDuck:Tf},t))),a(pa(e,Of,Bd))}},Pf=Tf.createReducer((Vu={},Object(ia.a)(Vu,Nf,ua),Object(ia.a)(Vu,Df,va),Object(ia.a)(Vu,Af,fa),Object(ia.a)(Vu,jf,ha),Object(ia.a)(Vu,Lf,ba),Object(ia.a)(Vu,kf,_a),Vu),$.a.Map()),Bf=a(94),Rf=a.n(Bf),xf=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.modalInput,a=e.onModalClose,n=e.onModalSwitch,r=e.modal.currentModal,o=function(e){n(e,t)};return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:Rf.a.overlay,style:ra,isOpen:null!==r,onRequestClose:a,contentLabel:"Baord Action Modal"},w.a.createElement("div",{className:Rf.a.root},w.a.createElement("div",{className:Rf.a["action-section"]},w.a.createElement("button",{className:Rf.a["join-board-button"],onClick:function(){return o("ADD_KNOWN_BOARD_MODAL")}},w.a.createElement(F.a,{id:"board-action-modal.action1",defaultMessage:"Join board"})),w.a.createElement("button",{className:Rf.a["create-board-button"],onClick:function(){return o("CREATE_BOARD_MODAL")}},w.a.createElement(F.a,{id:"board-action-modal.action2",defaultMessage:"Create board"})),w.a.createElement("button",{className:Rf.a["close-button"],onClick:a},w.a.createElement(F.a,{id:"board-action-modal.action3",defaultMessage:"Cancel"}))))))}}]),t}(k.PureComponent),Ff=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doBoardActionModal:Object(X.b)(M,e)}}})(xf),Uf="SETTING_MENU_MODAL",qf=Object(la.createDuck)(Uf,"Setting_Menu_Modal"),Jf=qf.defineType("INIT"),Gf=qf.defineType("ADD_CHILD"),Hf=qf.defineType("SET_ROOT"),Vf=qf.defineType("REMOVE_CHILDS"),Kf=qf.defineType("REMOVE"),Wf=qf.defineType("SET_DATA"),Yf=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:Uf,myDuck:qf},t))),a(pa(e,Uf,Bd))}},zf=qf.createReducer((Ku={},Object(ia.a)(Ku,Jf,ua),Object(ia.a)(Ku,Gf,va),Object(ia.a)(Ku,Hf,fa),Object(ia.a)(Ku,Vf,ha),Object(ia.a)(Ku,Kf,ba),Object(ia.a)(Ku,Wf,_a),Ku),$.a.Map()),Zf=a(21),Xf=a.n(Zf),Qf=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.modalInput,a=e.onModalClose,n=e.onModalSwitch,r=e.modal.currentModal,o=function(e){n(e,t)};return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:Xf.a.overlay,style:na,isOpen:null!==r,onRequestClose:a,contentLabel:"Setting Menu Modal"},w.a.createElement("div",{className:Xf.a.root},w.a.createElement("div",{className:Xf.a["action-section"]},w.a.createElement("button",{className:Xf.a["menu-button"],onClick:function(){return o("SHOW_DEVICE_INFO")}},w.a.createElement(F.a,{id:"setting-menu-modal.menu1",defaultMessage:"Devices setting"})),w.a.createElement("button",{className:Xf.a["menu-button"],onClick:function(){return o("SHOW_OP_LOG_MODAL")}},w.a.createElement(F.a,{id:"setting-menu-modal.menu2",defaultMessage:"Op Log"})),w.a.createElement("button",{className:Xf.a["menu-button"],onClick:function(){return o("PRIVACY_SETTING_MODAL")}},w.a.createElement(F.a,{id:"setting-menu-modal.menu4",defaultMessage:"Privacy"})),w.a.createElement("button",{className:Xf.a["menu-button"],onClick:a},w.a.createElement(F.a,{id:"setting-menu-modal.menu3",defaultMessage:"Cancel"}))))))}}]),t}(k.PureComponent),$f=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doSettingMenuModal:Object(X.b)(S,e)}}})(Qf),eg="FRIEND_SETTING_MENU_MODAL",tg=Object(la.createDuck)(eg,"Friend_Setting_Menu_Modal"),ag=tg.defineType("INIT"),ng=tg.defineType("ADD_CHILD"),rg=tg.defineType("SET_ROOT"),og=tg.defineType("REMOVE_CHILDS"),ig=tg.defineType("REMOVE"),sg=tg.defineType("SET_DATA"),lg=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:eg,myDuck:tg},t))),a(pa(e,eg,Bd))}},cg=tg.createReducer((Wu={},Object(ia.a)(Wu,ag,ua),Object(ia.a)(Wu,ng,va),Object(ia.a)(Wu,rg,fa),Object(ia.a)(Wu,og,ha),Object(ia.a)(Wu,ig,ba),Object(ia.a)(Wu,sg,_a),Wu),$.a.Map()),dg=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={showAlert:!1,alertData:{message:"",onClose:null,onConfirm:null}},a.onDeleteClicked=a.onDeleteClicked.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"onDeleteClicked",value:function(){var e=this,t=this.props.modalInput.onDeleteFriend;this.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message1",defaultMessage:"Are you sure you want to delete?"}),onConfirm:function(){t(),e.setState({showAlert:!1})},onClose:function(){return e.setState({showAlert:!1})}}})}},{key:"render",value:function(){var e=this.props,t=e.onModalClose,a=e.modal.currentModal,n=this.state,r=n.showAlert,o=n.alertData;return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:Xf.a.overlay,style:na,isOpen:null!==a,onRequestClose:t,contentLabel:"Setting Menu Modal"},w.a.createElement("div",{className:Xf.a.root},w.a.createElement("div",{className:Xf.a["action-section"]},w.a.createElement("button",{className:Xf.a["menu-button"],onClick:this.onDeleteClicked},w.a.createElement(F.a,{id:"friend-setting-menu-modal.menu0",defaultMessage:"Delete Friend"})),w.a.createElement("button",{className:Xf.a["menu-button"],onClick:t},w.a.createElement(F.a,{id:"friend-setting-menu-modal.menu1",defaultMessage:"Cancel"}))))),w.a.createElement(oa,{show:r,alertData:o}))}}]),t}(k.PureComponent),mg=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doFriendSettingMenuModal:Object(X.b)(O,e)}}})(dg),ug="BOARD_SETTING_MENU_MODAL",pg=Object(la.createDuck)(ug,"Board_Setting_Menu_Modal"),fg=pg.defineType("INIT"),gg=pg.defineType("ADD_CHILD"),vg=pg.defineType("SET_ROOT"),hg=pg.defineType("REMOVE_CHILDS"),bg=pg.defineType("REMOVE"),_g=pg.defineType("SET_DATA"),yg=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:ug,myDuck:pg},t))),a(pa(e,ug,Bd))}},Ig=pg.createReducer((Yu={},Object(ia.a)(Yu,fg,ua),Object(ia.a)(Yu,gg,va),Object(ia.a)(Yu,vg,fa),Object(ia.a)(Yu,hg,ha),Object(ia.a)(Yu,bg,ba),Object(ia.a)(Yu,_g,_a),Yu),$.a.Map()),Cg=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={showAlert:!1,alertData:{message:"",onClose:null,onConfirm:null}},a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.modalInput,n=t.onModalClose,r=t.onModalSwitch,o=t.modal.currentModal,i=this.state,s=i.showAlert,l=i.alertData,c=function(e){r(e,a)};return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:Xf.a.overlay,style:na,isOpen:null!==o,onRequestClose:n,contentLabel:"Setting Menu Modal"},w.a.createElement("div",{className:Xf.a.root},a.isCreator?w.a.createElement("div",{className:Xf.a["action-section"]},w.a.createElement("button",{className:Xf.a["menu-button"],onClick:function(){return c("INVITE_TO_BOARD_MODAL")}},w.a.createElement(F.a,{id:"board-setting-menu-modal.menu0",defaultMessage:"Invite"})),w.a.createElement("button",{className:Xf.a["menu-button"],onClick:function(){return c("MANAGE_BOARD_MEMBER_MODAL")}},w.a.createElement(F.a,{id:"board-setting-menu-modal.menu1",defaultMessage:"Members"})),w.a.createElement("button",{className:Xf.a["menu-button"],onClick:function(){return c("MANAGE_BOARD_MODAL")}},w.a.createElement(F.a,{id:"board-setting-menu-modal.menu2",defaultMessage:"Edit Name"})),w.a.createElement("button",{className:Xf.a["menu-button"],onClick:function(){var t=e;t.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message1",defaultMessage:"Are you sure you want to delete?"}),onConfirm:function(){a.onDeleteBoard(),t.setState({showAlert:!1})},onClose:function(){return t.setState({showAlert:!1})}}})}},w.a.createElement(F.a,{id:"board-setting-menu-modal.menu3",defaultMessage:"Delete Group"})),w.a.createElement("button",{className:Xf.a["menu-button"],onClick:n},w.a.createElement(F.a,{id:"board-setting-menu-modal.menu5",defaultMessage:"Cancel"}))):w.a.createElement("div",{className:Xf.a["action-section"]},w.a.createElement("button",{className:Xf.a["menu-button"],onClick:function(){var t=e;t.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message35",defaultMessage:"Are you sure you want to leave the Group?"}),onConfirm:function(){a.onLeaveBoard(),t.setState({showAlert:!1})},onClose:function(){return t.setState({showAlert:!1})}}})}},w.a.createElement(F.a,{id:"board-setting-menu-modal.menu4",defaultMessage:"Leave Board"})),w.a.createElement("button",{className:Xf.a["menu-button"],onClick:n},w.a.createElement(F.a,{id:"board-setting-menu-modal.menu5",defaultMessage:"Cancel"}))))),w.a.createElement(oa,{show:s,alertData:l}))}}]),t}(k.PureComponent),Eg=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doBoardSettingMenuModal:Object(X.b)(T,e)}}})(Cg),Mg="ARTICLE_SETTING_MENU_MODAL",Sg=Object(la.createDuck)(Mg,"Article_Setting_Menu_Modal"),Og=Sg.defineType("INIT"),Tg=Sg.defineType("ADD_CHILD"),Ng=Sg.defineType("SET_ROOT"),Dg=Sg.defineType("REMOVE_CHILDS"),Ag=Sg.defineType("REMOVE"),jg=Sg.defineType("SET_DATA"),Lg=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:Mg,myDuck:Sg},t))),a(pa(e,Mg,Bd))}},kg=Sg.createReducer((zu={},Object(ia.a)(zu,Og,ua),Object(ia.a)(zu,Tg,va),Object(ia.a)(zu,Ng,fa),Object(ia.a)(zu,Dg,ha),Object(ia.a)(zu,Ag,ba),Object(ia.a)(zu,jg,_a),zu),$.a.Map()),wg=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={showAlert:!1,alertData:{message:"",onClose:null,onConfirm:null}},a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.modalInput,n=t.onModalClose,r=t.modal.currentModal,o=this.state,i=o.showAlert,s=o.alertData;return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:Xf.a.overlay,style:na,isOpen:null!==r,onRequestClose:n,contentLabel:"Setting Menu Modal"},w.a.createElement("div",{className:Xf.a.root},a.isCreator?w.a.createElement("div",{className:Xf.a["action-section"]},w.a.createElement("button",{className:Xf.a["menu-button"],onClick:function(){n(),a.onEditArticle(),e.setState({showAlert:!1})}},w.a.createElement(F.a,{id:"article-setting-menu-modal.menu1",defaultMessage:"Edit Article"})),w.a.createElement("button",{className:Xf.a["menu-button"],onClick:function(){var t=e;t.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message1",defaultMessage:"Are you sure you want to delete?"}),onConfirm:function(){a.onDeleteArticle(),t.setState({showAlert:!1})},onClose:function(){return t.setState({showAlert:!1})}}})}},w.a.createElement(F.a,{id:"article-setting-menu-modal.menu2",defaultMessage:"Delete Group"})),w.a.createElement("button",{className:Xf.a["menu-button"],onClick:n},w.a.createElement(F.a,{id:"article-setting-menu-modal.menu3",defaultMessage:"Cancel"}))):null),w.a.createElement(oa,{show:i,alertData:s})))}}]),t}(k.PureComponent),Pg=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doArticleSettingMenuModal:Object(X.b)(N,e)}}})(wg),Bg="COMMENT_SETTING_MENU_MODAL",Rg=Object(la.createDuck)(Bg,"Comment_Setting_Menu_Modal"),xg=Rg.defineType("INIT"),Fg=Rg.defineType("ADD_CHILD"),Ug=Rg.defineType("SET_ROOT"),qg=Rg.defineType("REMOVE_CHILDS"),Jg=Rg.defineType("REMOVE"),Gg=Rg.defineType("SET_DATA"),Hg=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:Bg,myDuck:Rg},t))),a(pa(e,Bg,Bd))}},Vg=Rg.createReducer((Zu={},Object(ia.a)(Zu,xg,ua),Object(ia.a)(Zu,Fg,va),Object(ia.a)(Zu,Ug,fa),Object(ia.a)(Zu,qg,ha),Object(ia.a)(Zu,Jg,ba),Object(ia.a)(Zu,Gg,_a),Zu),$.a.Map()),Kg=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={showAlert:!1,alertData:{message:"",onClose:null,onConfirm:null}},a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.modalInput,n=t.onModalClose,r=t.modal.currentModal,o=this.state,i=o.showAlert,s=o.alertData;return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:Xf.a.overlay,style:na,isOpen:null!==r,onRequestClose:n,contentLabel:"Setting Menu Modal"},w.a.createElement("div",{className:Xf.a.root},w.a.createElement("div",{className:Xf.a["action-section"]},w.a.createElement("button",{className:Xf.a["menu-button"],onClick:function(){var t=e;t.setState({showAlert:!0,alertData:{message:w.a.createElement(F.a,{id:"alert.message1",defaultMessage:"Are you sure you want to delete?"}),onConfirm:function(){a.onDeleteComment(),n(),t.setState({showAlert:!1})},onClose:function(){return t.setState({showAlert:!1})}}})}},w.a.createElement(F.a,{id:"comment-setting-menu-modal.menu2",defaultMessage:"Delete Comment"})),w.a.createElement("button",{className:Xf.a["menu-button"],onClick:n},w.a.createElement(F.a,{id:"comment-setting-menu-modal.menu3",defaultMessage:"Cancel"})))),w.a.createElement(oa,{show:i,alertData:s})))}}]),t}(k.PureComponent),Wg=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doCommentSettingMenuModal:Object(X.b)(D,e)}}})(Kg),Yg=a(320),zg=a.n(Yg),Zg=a(78),Xg=a.n(Zg),Qg=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props.prevClicked;return w.a.createElement("div",{className:Xg.a.root},w.a.createElement("div",{className:Xg.a.content},w.a.createElement("div",{className:Xg.a["prev-button"],onClick:e},w.a.createElement("div",{className:Xg.a["prev-button-icon"]}),w.a.createElement("div",{hidden:!0,className:Xg.a["prev-button-text"]},w.a.createElement(F.a,{id:"newsbar.prev-button",defaultMessage:"Boards"}))),w.a.createElement("div",{className:Xg.a["board-name"]},w.a.createElement(F.a,{id:"newsbar.title",defaultMessage:"Latest posts"})),w.a.createElement("div",{className:Xg.a.search})))}}]),t}(k.PureComponent),$g=a(49),ev=a.n($g),tv=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).onListItemClick=a.onListItemClick.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"onListItemClick",value:function(e,t,a){(0,this.props.itemClicked)()}},{key:"render",value:function(){var e=this,t=this.props,a=t.listData,n=t.isLoading;return w.a.createElement("div",{className:ev.a.root},0===a.length?w.a.createElement("div",{className:ev.a["no-content-message"]},w.a.createElement(F.a,{id:"news-list-component.message",defaultMessage:"There are no new artilces"})):null,a.map(function(t,a){if(t.Status!==ze.indexOf("StatusAlive"))return null;var n="/board/".concat(encodeURIComponent(t.BoardID),"/article/").concat(encodeURIComponent(t.ID)),r="";if(t.Summary){var o=dt(t.Summary);r=ct(o,{CreatorName:t.CreatorName,boardId:t.BoardID})}return w.a.createElement("div",{className:ev.a["list-item"],key:a,onClick:function(t){return e.onListItemClick(t,a,n)}},w.a.createElement(J.b,{to:n},w.a.createElement("div",{className:ev.a["list-item-author"]},w.a.createElement("div",{className:ev.a["list-item-author-pic"]},w.a.createElement("img",{src:t.CreatorImg||Se,alt:"Creator Profile"})),w.a.createElement("div",{title:t.CreatorName,className:ev.a["list-item-author-name"]},t.CreatorName)),w.a.createElement("div",{className:ev.a["list-item-main"]},w.a.createElement("div",{className:ev.a["list-item-header"]},w.a.createElement("div",{title:t.Title,className:ht(t.CreateTS.T,t.LastSeen.T)?ev.a["list-item-title-unread"]:ev.a["list-item-title"]},t.Title),w.a.createElement("div",{title:Lt(t.UpdateTS.T),className:ev.a["list-item-time"]},At(t.UpdateTS.T))),w.a.createElement("div",{className:ev.a["list-item-boardname"]},w.a.createElement("div",{className:ev.a["list-item-board-tag"]},t.BoardName)),w.a.createElement("div",{className:ev.a["list-item-content"]},r?w.a.createElement("div",{dangerouslySetInnerHTML:{__html:r}}):w.a.createElement(F.a,{id:"news-list-component.empty",defaultMessage:"(No content)"})))))}),w.a.createElement("div",{className:ev.a["spinner-item"]},w.a.createElement(de.BeatLoader,{color:"#aaa",size:8,loading:n})))}}]),t}(k.PureComponent),av=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.articleList,a=e.isLoading,n=e.itemClicked,r=e.prevClicked;return w.a.createElement("div",{className:zg.a.root},w.a.createElement(Qg,{prevClicked:r}),w.a.createElement(tv,{itemClicked:n,listData:t,isLoading:a}))}}]),t}(k.PureComponent),nv="LATEST_PAGE_MODAL",rv=Object(la.createDuck)(nv,"Latest_Page_Modal"),ov=rv.defineType("INIT"),iv=rv.defineType("ADD_CHILD"),sv=rv.defineType("SET_ROOT"),lv=rv.defineType("REMOVE_CHILDS"),cv=rv.defineType("REMOVE"),dv=rv.defineType("SET_DATA"),mv=function(e,t){return function(a,n){a(da(Object(H.a)({myId:e,myClass:nv,myDuck:rv},t))),a(pa(e,nv,Bd))}},uv=rv.createReducer((Xu={},Object(ia.a)(Xu,ov,ua),Object(ia.a)(Xu,iv,va),Object(ia.a)(Xu,sv,fa),Object(ia.a)(Xu,lv,ha),Object(ia.a)(Xu,cv,ba),Object(ia.a)(Xu,dv,_a),Xu),$.a.Map()),pv=a(197),fv=a.n(pv),gv=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.modalInput,a=t.articleList,n=t.isLoading,r=t.itemClicked,o=t.prevClicked,i=e.onModalClose,s=e.modal.currentModal;return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:fv.a.overlay,style:Qt,isOpen:null!==s,onRequestClose:i,contentLabel:"Latest Page Modal"},w.a.createElement("div",{className:fv.a.root},w.a.createElement(av,{articleList:a,isLoading:n,itemClicked:r,prevClicked:o}))))}}]),t}(k.PureComponent),vv=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doLatestPageModal:Object(X.b)(A,e)}}})(gv),hv="SHOW_OP_LOG_MODAL",bv=Object(la.createDuck)(hv,"Show_Op_Log_Modal"),_v=bv.defineType("INIT"),yv=bv.defineType("ADD_CHILD"),Iv=bv.defineType("SET_ROOT"),Cv=bv.defineType("REMOVE_CHILDS"),Ev=bv.defineType("REMOVE"),Mv=bv.defineType("SET_DATA"),Sv=function(e,t,a,n){return function(r,o){r(da({myId:e,myClass:hv,myDuck:bv,parentId:t,parentClass:a,parentDuck:n}))}};var Ov,Tv=function(e,t,a){return function(n,r){n(function(e,t,a,n){return function(e){return Promise.all(a.map(function(t,a){switch(t){case Ne:return e(pn(Me,Te)).then(function(e){var t=e.response;return t.error?{error:!0,type:Ne,value:t.error.message}:{error:!1,type:Ne,value:t.result}});case De:return e(fn(Me,Te)).then(function(e){var t=e.response;return t.error?{error:!0,type:De,value:t.error.message}:{error:!1,type:De,value:t.result}});case Ae:return e(_n(n.boardId,Me,Te)).then(function(e){var t=e.response;return t.error?{error:!0,type:Ae,value:t.error.message}:{error:!1,type:Ae,value:t.result}});case Le:return e(In(n.boardId,Me,Te)).then(function(e){var t=e.response;return t.error?{error:!0,type:Le,value:t.error.message}:{error:!1,type:Le,value:t.result}});case ke:return e(Cn(n.boardId,Me,Te)).then(function(e){var t=e.response;return t.error?{error:!0,type:ke,value:t.error.message}:{error:!1,type:ke,value:t.result}});case je:return e(yn(n.boardId,Me,Te)).then(function(e){var t=e.response;return t.error?{error:!0,type:je,value:t.error.message}:{error:!1,type:je,value:t.result}});case we:return e(En(n.friendId,Me,Te)).then(function(e){var t=e.response;return t.error?{error:!0,type:we,value:t.error.message}:{error:!1,type:we,value:t.result}});case Pe:return e(Mn(n.friendId,Me,Te)).then(function(e){var t=e.response;return t.error?{error:!0,type:Pe,value:t.error.message}:{error:!1,type:Pe,value:t.result}});case Be:return e(Sn(n.friendId,Me,Te)).then(function(e){var t=e.response;return t.error?{error:!0,type:Be,value:t.error.message}:{error:!1,type:Be,value:t.result}});case Re:return e(On(n.friendId,Me,Te)).then(function(e){var t=e.response;return t.error?{error:!0,type:Re,value:t.error.message}:{error:!1,type:Re,value:t.result}});case xe:return e(vn()).then(function(e){var t=e.response;return t.error?{error:!0,type:xe,value:t.error.message}:{error:!1,type:xe,value:t.result}});case Fe:return e(hn(n.boardId)).then(function(e){var t=e.response;return t.error?{error:!0,type:Fe,value:t.error.message}:{error:!1,type:Fe,value:t.result}});case Ue:return e(bn(n.friendId)).then(function(e){var t=e.response;return t.error?{error:!0,type:Ue,value:t.error.message}:{error:!1,type:Ue,value:t.result}});case qe:return e(Tn()).then(function(e){var t=e.response;return t.error?{error:!0,type:qe,value:t.error.message}:{error:!1,type:qe,value:t.result}});default:return null}}))}}(0,0,t,a)).then(function(t){var a=t.reduce(function(e,t){if(t.error||-1===t.type.indexOf("_PEERS_TAB")){if(!t.error&&t.type!==qe){(t.value?t.value.map(function(e){return e.O?e.O.CID:e.CID}):[]).forEach(function(t){e[t]=!0})}}else(t.value?t.value.map(function(e){return e.O?e.O.UID:e.UID}):[]).forEach(function(t){e[t]=!0});return e},{});n(cn(Object.keys(a))).then(function(a){n(Nv(e,t,a))})})}},Nv=function(e,t,a){a=a.reduce(function(e,t){return e[t.key]=t.value,e},{});var n=t.reduce(function(e,t){return t.error?e:(-1!==t.type.indexOf("_PEERS_TAB")?e[t.type]=t.value:t.type===qe?e[t.type]=t.value:e[t.type]=t.value.map(function(e){return e.O}),e)},{});return Object.keys(n).forEach(function(e){var t=n[e],r=a.userName||{};-1!==e.indexOf("_PEERS_TAB")?n[e]=t.map(function(e){var t=e.UID,a=r[t]?Pn(r[t].N):"guest";return Object(H.a)({},e,{userName:a})}):e!==qe&&(n[e]=t.map(function(e){var t=e.CID,a=r[t]?Pn(r[t].N):"guest";return Object(H.a)({},e,{creatorName:a})}))}),{myId:e,myClass:hv,type:Mv,data:{opLogs:n}}},Dv=bv.createReducer((Qu={},Object(ia.a)(Qu,_v,ua),Object(ia.a)(Qu,yv,va),Object(ia.a)(Qu,Iv,fa),Object(ia.a)(Qu,Cv,ha),Object(ia.a)(Qu,Ev,ba),Object(ia.a)(Qu,Mv,_a),Qu),$.a.Map()),Av=a(95),jv=a.n(Av),Lv=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={listOpen:!1},a.handleClickOutside=a.handleClickOutside.bind(Object(z.a)(a)),a.toggleList=a.toggleList.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"handleClickOutside",value:function(){document.removeEventListener("click",this.handleClickOutside,!1),this.setState({listOpen:!1})}},{key:"toggleList",value:function(){this.state.listOpen?document.removeEventListener("click",this.handleClickOutside,!1):document.addEventListener("click",this.handleClickOutside,!1),this.setState(function(e){return{listOpen:!e.listOpen}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.list,r=this.state.listOpen;return w.a.createElement("div",{className:jv.a["dd-wrapper"]},w.a.createElement("div",{className:jv.a["dd-header"],onClick:function(t){t.preventDefault(),t.stopPropagation(),e.toggleList()}},w.a.createElement("div",{className:jv.a["dd-header-title"]},a)),r&&w.a.createElement("div",{className:jv.a["dd-list"]},n.map(function(t){return w.a.createElement("div",{className:jv.a["dd-list-item-wrapper"],key:t.id},w.a.createElement("div",{className:jv.a["dd-list-item"],onClick:function(a){a.preventDefault(),a.stopPropagation(),t.action(),e.toggleList()}},t.title))})))}}]),t}(k.PureComponent),kv=a(12),wv=a.n(kv),Pv=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).state={tab:e.modalInput.tabs[0],opLog:{},expandIdx:-1},a.refreshPageInterval=null,a.expandRow=a.expandRow.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.actions.doShowOpLogModal,a=e.modalInput,n=a.tabs,r=a.params,o=e.myId;t.getOpLogs(o,n,r),this.refreshPageInterval=setInterval(function(){return t.getOpLogs(o,n,r)},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshPageInterval)}},{key:"expandRow",value:function(e){e===this.state.expandIdx?this.setState({expandIdx:-1}):this.setState({expandIdx:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.myId,n=t.showOpLogModal,r=t.onModalClose,o=t.modal.currentModal,i=t.modalInput.tabs,s=this.state,l=s.tab,c=s.expandIdx,d=n.get(a,$.a.Map()).get("opLogs",$.a.Map()).toJS(),m=d[l]?d[l]:[],u=this,p=i.map(function(e,t){var a=null,n=null;switch(e){case Ne:a="ptt master",n="Ptt Master Op-Log";break;case De:a="ptt me",n="Ptt Me Op-Log";break;case Ae:a="board",n="Content Board Op-Log";break;case je:a="opkey",n="Content Opkey Op-Log";break;case Le:a="master",n="Content Master Op-Log";break;case ke:a="member",n="Content Member Op-Log";break;case we:a="friend",n="Friend Friend Op-Log";break;case Pe:a="master",n="Friend Master Op-Log";break;case Be:a="member",n="Friend Member Op-Log";break;case Re:a="opkey",n="Friend Opkey Op-Log";break;case xe:a="ptt peers",n="Ptt Peers";break;case Fe:a="peers",n="Content Board Peers";break;case Ue:a="peers",n="Friend peers";break;case qe:a="last p2p",n="Ptt Last Annouce p2p"}return{id:e,title:a,fullTitle:n,selected:!1,action:function(){return u.setState({tab:e})}}});return w.a.createElement("div",null,w.a.createElement(Ut.a,{overlayClassName:"ShowOpLogModal__Overlay",style:$t,isOpen:null!==o,onRequestClose:null,contentLabel:"Show Op Log Modal"},w.a.createElement("div",{className:wv.a.root},w.a.createElement("div",{className:wv.a["top-bar"]},w.a.createElement("div",{className:wv.a["prev-button"]},w.a.createElement("div",{className:wv.a["prev-button-icon"],onClick:r})),w.a.createElement("div",{className:wv.a.title},"OP Logs"),w.a.createElement("div",{className:wv.a["multi-device"]},w.a.createElement("span",null,w.a.createElement(Lv,{title:p.find(function(e){return e.id===l}).title,list:p})))),w.a.createElement("div",{className:wv.a.content},w.a.createElement("div",{className:wv.a["content-title"]},p.find(function(e){return e.id===l}).fullTitle),w.a.createElement("div",{className:wv.a["oplog-list"]},l===qe?w.a.createElement("div",{className:wv.a["oplog-item"]},w.a.createElement("div",{className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Connect Time"),w.a.createElement("div",{className:wv.a["op-value"]},Nt(m.T)))):-1!==l.indexOf("_PEERS_TAB")?m.map(function(e,t){return w.a.createElement("div",{className:wv.a["oplog-item"],key:t},w.a.createElement("div",{className:wv.a["item-index"]},w.a.createElement("div",{title:"User ID: "+e.UID,className:wv.a["op-value-index"]},e.userName)),w.a.createElement("div",{hidden:!0,className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"User Name"),w.a.createElement("div",{className:wv.a["op-value"]},e.userName)),w.a.createElement("div",{className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Peer Type"),w.a.createElement("div",{title:e.T,className:wv.a["op-value"]},Ve[e.T])),w.a.createElement("div",{className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Node ID"),w.a.createElement("div",{title:e.ID,className:wv.a["op-value"]},e.ID)),w.a.createElement("div",{hidden:!0,className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"User ID"),w.a.createElement("div",{className:wv.a["op-value"]},e.UID)),w.a.createElement("div",{hidden:!0,className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"IP"),w.a.createElement("div",{className:wv.a["op-value"]},e.Addr?e.Addr.IP:"null")),w.a.createElement("div",{hidden:!0,className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Port"),w.a.createElement("div",{className:wv.a["op-value"]},e.Addr?e.Addr.Port:"null")),w.a.createElement("div",{hidden:!0,className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Zone"),w.a.createElement("div",{className:wv.a["op-value"]},e.Addr?e.Addr.Zone:"null")))}):m.map(function(t,a){var n={Version:t.V,"Oplog ID":t.ID,"Is Sync":t.y},r={SHOW_PTT_ME_TAB:Ke,SHOW_CONTENT_BOARD_TAB:We,SHOW_CONTENT_MASTER_TAB:We,SHOW_CONTENT_MEMBER_TAB:We,SHOW_CONTENT_OPKEY_TAB:We,SHOW_FRIEND_FRIEND_TAB:Ye,SHOW_FRIEND_MASTER_TAB:Ye,SHOW_FRIEND_MEMBER_TAB:Ye,SHOW_FRIEND_OPKEY_TAB:Ye};return w.a.createElement("div",{className:wv.a["oplog-item"],key:a},w.a.createElement("div",{className:wv.a["item-index"],onClick:function(){return e.expandRow(a)}},w.a.createElement("div",{title:JSON.stringify(n,null,4),className:wv.a["op-value-index"]},r[l][t.O]+" @ "+Tt(t.UT))),w.a.createElement("div",{className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Creator"),w.a.createElement("div",{title:"Creator ID: "+t.CID,className:wv.a["op-value"]},t.creatorName+" @ "+Tt(t.CT))),c===a?w.a.createElement("span",null,w.a.createElement("div",{className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Oplog ID"),w.a.createElement("div",{title:t.ID,className:wv.a["op-value"]},t.ID)),w.a.createElement("div",{hidden:!0,className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Creator ID"),w.a.createElement("div",{title:t.CID,className:wv.a["op-value"]},t.CID)),w.a.createElement("div",{hidden:!0,className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Create TS"),w.a.createElement("div",{title:Tt(t.CT),className:wv.a["op-value"]},Tt(t.CT))),w.a.createElement("div",{className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Obj ID"),w.a.createElement("div",{title:t.OID,className:wv.a["op-value"]},t.OID)),w.a.createElement("div",{hidden:!0,className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Op"),w.a.createElement("div",{title:t.O,className:wv.a["op-value"]},r[l][t.O])),w.a.createElement("div",{className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Data"),w.a.createElement("div",{title:JSON.stringify(t.D,null,4),className:wv.a["op-value"]},JSON.stringify(t.D))),w.a.createElement("div",{hidden:!0,className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Update TS"),w.a.createElement("div",{title:Tt(t.UT),className:wv.a["op-value"]},Tt(t.UT))),w.a.createElement("div",{className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Master Log ID"),w.a.createElement("div",{title:t.mID,className:wv.a["op-value"]},t.mID)),w.a.createElement("div",{className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Master Signs"),w.a.createElement("div",{title:JSON.stringify(t.m,null,4),className:wv.a["op-value"]},JSON.stringify(t.m))),w.a.createElement("div",{className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Internal Signs"),w.a.createElement("div",{title:JSON.stringify(t.i,null,4),className:wv.a["op-value"]},JSON.stringify(t.i))),w.a.createElement("div",{className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Is Sync"),w.a.createElement("div",{title:t.y,className:wv.a["op-value"]},t.y)),w.a.createElement("div",{className:wv.a.item},w.a.createElement("div",{className:wv.a["op-title"]},"Version"),w.a.createElement("div",{title:t.V,className:wv.a["op-value"]},t.V))):null)}))))))}}]),t}(k.PureComponent),Bv=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doShowOpLogModal:Object(X.b)(j,e)}}})(Pv),Rv=function(e){function t(){return Object(V.a)(this,t),Object(W.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"componentWillMount",value:function(){Ut.a.setAppElement("body")}},{key:"render",value:function(){var e=this.props,t=e.idMap,a=e.modal,n=a.currentModal,r=a.modalSubmit,o=a.modalInput,i=e.actions,s=i.myId,l=i.doModalContainer,c=function(e,t){l.setInput(t),l.openModal(e)};switch(n){case"CREATE_BOARD_MODAL":return w.a.createElement(Ac,{myId:t.CREATE_BOARD_MODAL,modalInput:o,onModalClose:l.closeModal,onModalSubmit:r});case"MANAGE_BOARD_MODAL":return w.a.createElement(Yc,{myId:t.MANAGE_BOARD_MODAL,onModalSwitch:c,modalInput:o,onModalClose:l.closeModal,onModalSubmit:r});case"MANAGE_BOARD_MEMBER_MODAL":return w.a.createElement(ud,{myId:t.MANAGE_BOARD_MEMBER_MODAL,onModalSwitch:c,modalInput:o,onModalClose:l.closeModal,onModalSubmit:r});case"INVITE_TO_BOARD_MODAL":return w.a.createElement(Pd,{myId:t.INVITE_TO_BOARD_MODAL,onModalSwitch:c,modalInput:o,onModalClose:l.closeModal,onModalSubmit:r});case"CREATE_ARTICLE_MODAL":return w.a.createElement(bm,{modalInput:o,onModalClose:l.closeModal,onModalSubmit:r});case"EDIT_ARTICLE_MODAL":return w.a.createElement(Lm,{modalInput:o,onModalClose:l.closeModal,onModalSubmit:r});case"NAME_CARD_MODAL":return w.a.createElement(Tu,{userId:s,modalInput:o,onModalClose:l.closeModal,onModalSubmit:r});case"FIRST_POPUP_MODAL":return w.a.createElement(ep,{userId:s,modalInput:o,onModalSwitch:c,onModalClose:l.closeModal,onModalSubmit:r});case"PRIVACY_SETTING_MODAL":return w.a.createElement(gp,{userId:s,modalInput:o,onModalSwitch:c,onModalClose:l.closeModal,onModalSubmit:r});case"ADD_KNOWN_BOARD_MODAL":return w.a.createElement(eu,{userId:s,modalInput:o,onModalClose:l.closeModal,onModalSubmit:r});case"SHOW_DEVICE_INFO":return w.a.createElement(Ap,{modalInput:o,onModalSwitch:c,onModalClose:l.closeModal,onModalSubmit:r});case"ADD_FRIEND_MODAL":return w.a.createElement(Yp,{modalInput:o,onModalSwitch:c,onModalClose:l.closeModal,onModalSubmit:r});case"ADD_DEVICE_MODAL":return w.a.createElement(cf,{modalInput:o,onModalSwitch:c,onModalClose:l.closeModal,onModalSubmit:r});case"ADD_DEVICE_SCANNER_MODAL":return w.a.createElement(Sf,{modalInput:o,onModalSwitch:c,onModalClose:l.closeModal,onModalSubmit:r});case"BOARD_ACTION_MODAL":return w.a.createElement(Ff,{modalInput:o,onModalSwitch:c,onModalClose:l.closeModal,onModalSubmit:r});case"SETTING_MENU_MODAL":return w.a.createElement($f,{modalInput:o,onModalSwitch:c,onModalClose:l.closeModal,onModalSubmit:r});case"FRIEND_SETTING_MENU_MODAL":return w.a.createElement(mg,{modalInput:o,onModalClose:l.closeModal,onModalSubmit:r});case"BOARD_SETTING_MENU_MODAL":return w.a.createElement(Eg,{modalInput:o,onModalSwitch:c,onModalClose:l.closeModal,onModalSubmit:r});case"ARTICLE_SETTING_MENU_MODAL":return w.a.createElement(Pg,{modalInput:o,onModalSwitch:c,onModalClose:l.closeModal});case"COMMENT_SETTING_MENU_MODAL":return w.a.createElement(Wg,{modalInput:o,onModalSwitch:c,onModalClose:l.closeModal});case"LATEST_PAGE_MODAL":return w.a.createElement(vv,{modalInput:o,onModalClose:l.closeModal});case"SHOW_OP_LOG_MODAL":return w.a.createElement(Bv,{myId:t.SHOW_OP_LOG_MODAL,modalInput:o,onModalClose:l.closeModal,onModalSubmit:r});default:return w.a.createElement(ie,null)}}}]),t}(k.PureComponent),xv=Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doModalContainer:Object(X.b)(r,e)}}})(Rv),Fv=a(56),Uv=a.n(Fv),qv=a(106),Jv="ROOT_PAGE",Gv=Object(la.createDuck)(Jv,"Root_Page"),Hv=Gv.defineType("INIT"),Vv=Gv.defineType("ADD_CHILD"),Kv=Gv.defineType("SET_ROOT"),Wv=Gv.defineType("REMOVE_CHILDS"),Yv=Gv.defineType("REMOVE"),zv=Gv.defineType("SET_DATA"),Zv=Gv.defineType("UPDATE_DATA"),Xv=function(e,t,a){var n=pt(),r=pt(),o=pt(),i=pt(),s=pt(),l=pt(),c=pt(),d=pt(),m=pt();return function(u,p){u(da(Object(H.a)({myId:e,myClass:Jv,myDuck:Gv},t,a))),u(pa(e,Jv,Bd)),u(Wn(n,e,Jv,Gv)),u(so(r,e,Jv,Gv)),u(yi(o,e,Jv,Gv)),u(us(i,e,Jv,Gv)),u(Rs(s,e,Jv,Gv)),u(kl(l,e,Jv,Gv)),u(Ec(c,e,Jv,Gv)),u(Fc(d,e,Jv,Gv)),u(Sv(m,e,Jv,Gv))}};function Qv(e){return function(t){return Promise.all([t(rn(e)).then(function(e){var t=e.response.result,a=e.error;return{error:!!a,key:"userName",value:a||t}}),t(sn(e)).then(function(e){var t=e.response.result,a=e.error;return{error:!!a,key:"userImg",value:a||t}}),t(dn(e)).then(function(e){var t=e.response.result,a=e.error;return{error:!!a,key:"userNameCard",value:a||t}})])}}var $v=function(e){return function(t,a){return new Promise(function(){var a=Object(qv.a)(Uv.a.mark(function a(n,r){var o,i,s,l,c,d,m,u,p,f;return Uv.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"me_get",params:[]}}));case 2:if(o=a.sent,i=o.response,!(s=o.error)){a.next=7;break}return a.abrupt("return",r({message:"Backend no response: please try restarting PTT.ai",info:s}));case 7:return l=i.result.ID,c=i.result,a.next=11,t(Qv(l));case 11:if(d=a.sent,m=d.filter(function(e){return!e.error}),!(u=m.find(function(e){return"userName"===e.key}).value)||!u.N||"guest"===Pn(u.N)){a.next=21;break}return a.next=17,t(th());case 17:p=a.sent,n({type:"done",userId:l,value:p}),a.next=25;break;case 21:return a.next=23,t(th());case 23:f=a.sent,n({type:"no_user_name",userId:l,value:f});case 25:t(eh(e,c,m));case 26:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}())}},eh=function(e,t,a){t=kn(t),console.log("doRootPage.postprocessGetUserInfo: userInfo: ",t),console.log("doRootPage.postprocessGetUserInfo: userMetaInfo: ",a);var n=a.find(function(e){return"userName"===e.key}).value,r=a.find(function(e){return"userImg"===e.key}).value,o=a.find(function(e){return"userNameCard"===e.key}).value,i=n&&n.N?Pn(n.N):"guest",s=r&&r.I?r.I:Se,l=o&&o.C?JSON.parse(Pn(o.C)):Oe;console.log("doRootPage.postprocessGetUserInfo: userName: ",i),console.log("doRootPage.postprocessGetUserInfo: userImg: ",s),console.log("doRootPage.postprocessGetUserInfo: userNameCard: ",l);var c={userId:t.ID,userName:i,userImg:s,userNameCard:l,createTime:t.CT?t.CT:Ca(),updateTime:t.UT?t.UT:Ca(),status:t.S,nodeId:t.NodeID};return{myId:e,myClass:Jv,type:zv,data:{userInfo:c}}},th=function(){return function(e){return Promise.all([e(Nn()).then(function(e){var t=e.response.result,a=e.error;return{error:!!a,key:"deviceJoinKey",value:a||t}}),e(An()).then(function(e){var t=e.response.result,a=e.error;return{error:!!a,key:"userPrivateKey",value:a||t}}),e(Dn()).then(function(e){var t=e.response.result,a=e.error;return{error:!!a,key:"friendJoinKey",value:a||t}})])}},ah=function(e){return function(t,a){t(th()).then(function(a){t(nh(e,a))})}},nh=function(e,t){console.log("doRootPage.postprocessGetKeyInfo: keyInfo: ",t);var a=t.find(function(e){return"deviceJoinKey"===e.key}).value,n=t.find(function(e){return"userPrivateKey"===e.key}).value,r=t.find(function(e){return"friendJoinKey"===e.key}).value,o={userPrivateKey:n,deviceJoinKey:{URL:a.URL,UpdateTS:a.UT?a.UT:Ca(),expirePeriod:a.e},friendJoinKey:{URL:r.URL,UpdateTS:r.UT?r.UT:Ca(),expirePeriod:r.e}};return{myId:e,myClass:Jv,type:zv,data:{keyInfo:o}}},rh=function(e){return function(t,a){t(Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"me_getMyNodes",params:[]}})).then(function(a){var n=a.response.result;a.error;t(oh(e,n))})}},oh=function(e,t){var a=(t=t.map(kn)).map(function(e){return{userID:e.ID,IP:e.IP,NodeName:e.N,NodeID:e.NID,NodeType:e.NT,Status:e.S,TCP:e.TCP,UDP:e.UDP,CreateTime:e.CT?e.CT:Ca(),UpdateTime:e.UT?e.UT:Ca(),LastSeen:e.L?e.L:Ca(),Version:e.V}});return console.log("doRootPage.postprocessGetDeviceInfo: combinedDeviceInfo: ",a),{myId:e,myClass:Jv,type:zv,data:{deviceInfo:a}}},ih=function(e,t){return function(a,n){a(ln(t)).then(function(n){var r=n.response.result;n.type,n.query,n.error;a(sh(e,t,r))})}},sh=function(e,t,a){a=kn(a),console.log("doRootPage.postprocessEditName: result: ",a);var n={createTime:a.CT,userID:a.ID,userName:a.N,status:a.S,updateTime:a.UT,version:a.V};return{myId:e,myClass:Jv,type:Zv,data:{userInfo:n}}},lh=function(e,t,a,n){return function(e,r){e(function(e,t){return Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"me_joinMe",params:[e,t,!1]}})}(t,a)).then(function(e){var a=e.response,r=a.result,o=a.error;e.type,e.query;n(o?{error:!0,data:o.message,nodeId:t}:{error:!1,data:r})})}},ch=function(e){return function(t){return Promise.all(e.map(function(){var e=Object(qv.a)(Uv.a.mark(function e(a,n){var r,o,i;return Uv.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Pa(a));case 2:if(r=e.sent,o=r.response.result,!(i=r.error)){e.next=7;break}throw i;case 7:return e.abrupt("return",{ID:o.ID,LastSeen:o.LastSeen,Status:o.Status,Title:o.Title,UpdateTS:o.UpdateTS,CreatorID:o.C,BoardType:o.BT});case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()))}},dh=function(e,t){return function(a){return Promise.all([a(nn(e)).then(function(e){var t=e.response.result,a=e.error;return{error:!!a,key:"userName",value:a||t}}),a(on(e)).then(function(e){var t=e.response.result,a=e.error;return{error:!!a,key:"userImg",value:a||t}}),a(ch(t)).then(function(e){return{error:!1,key:"boardId",value:(e=e.map(kn)).reduce(function(e,t){return t.ID in e||(e[t.ID]=t),e},{})}})])}},mh=function(e,t,a){return function(e){return Promise.all(a.map(function(){var t=Object(qv.a)(Uv.a.mark(function t(a,n){var r,o,i,s,l,c,d,m,u;return Uv.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Ka(a.boardId,a.articleId,1));case 2:if(r=t.sent,o=r.response,!(i=r.error)){t.next=7;break}throw i;case 7:if(!((s=o.result)&&s.length>0)){t.next=21;break}return l=s[0],t.next=12,e(Za(a.boardId,a.articleId,l.ContentBlockID,0,0,1));case 12:if(c=t.sent,d=c.response.result,!(m=c.error)){t.next=17;break}throw m;case 17:return u=d&&d.length>0?d[0].B:"",t.abrupt("return",{BoardID:a.boardId,ID:a.articleId,Title:a.title,CreatorID:l.CreatorID,ContentBlockID:l.ContentBlockID,Summary:u&&u.length>0?u[0]:"",UpdateTS:l.UpdateTS,CreateTS:l.CreateTS,LastSeen:l.L,Status:l.S});case 21:return t.abrupt("return",Promise.reject(1));case 22:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()))}},uh=function(e,t){return function(a,n){return new Promise(Object(qv.a)(Uv.a.mark(function n(){var r,o,i,s,l,c,d;return Uv.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a(un(Me,t));case 2:if(!(r=n.sent).error){n.next=5;break}throw r.error;case 5:return o=r.response.result,i=o.map(function(e){return e.O}).filter(function(e){return 2===e.O}).map(function(e){return{boardId:e.D.bID,articleId:e.OID,title:e.D.T}}),n.next=9,a(mh(0,0,i));case 9:return s=n.sent,l=s.filter(function(e){return e.CreatorID}).map(function(e){return e.CreatorID}),c=s.filter(function(e){return e.BoardID}).map(function(e){return e.BoardID}),n.next=14,a(dh(l,c));case 14:d=n.sent,a(ph(e,s,d));case 16:case"end":return n.stop()}},n)})))}},ph=function(e,t,a){t=t.map(kn),a=a.reduce(function(e,t){return e[t.key]=t.value,e},{});var n=t.map(function(e){var t=e.CreatorID,n=e.BoardID,r=a.userName||{},o=a.userImg||{},i=a.boardId||{},s=r[t]?Pn(r[t].N):"guest",l=o[t]?o[t].I:Se,c=i[n]?i[n].Title:"";return{BoardID:e.BoardID,BoardName:c,Summary:e.Summary,ContentBlockID:e.ContentBlockID,CreatorID:e.CID,CreatorName:s,CreatorImg:l,ID:e.ID,NBlock:e.NBlock,NBoo:e.NB,NPush:e.NP,Title:e.Title,LastSeen:e.LastSeen?e.LastSeen:Ca(),CreateTS:e.CreateTS?e.CreateTS:Ca(),UpdateTS:e.UpdateTS?e.UpdateTS:Ca(),Status:e.Status}});return console.log("doRootPage.postprocessGetLatestArticles: result:",t),{myId:e,myClass:Jv,type:zv,data:{latestArticles:n}}},fh=function(e){return function(t,a){t(Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"ptt_getPttOplogSeen",params:[]}})).then(function(a){var n=a.response.result;a.type,a.query,a.error;t(vh(e,n))})}},gh=function(e){return function(t,a){t(Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"ptt_markPttOplogSeen",params:[]}})).then(function(a){var n=a.response.result;a.type,a.query,a.error;t(vh(e,n))})}},vh=function(e,t){return{myId:e,myClass:Jv,type:zv,data:{logLastSeen:t}}},hh=function(e,t){return function(a,n){return new Promise(Object(qv.a)(Uv.a.mark(function n(){var r,o,i,s,l,c,d,m,u;return Uv.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=Ca(),n.next=3,a(gn(r.T,r.NT,t));case 3:if(!(o=n.sent).error){n.next=6;break}throw o.error;case 6:if((i=o.response.result)&&i[0]){n.next=9;break}return n.abrupt("return");case 9:return s=i[0].ID,l=i[0].N,n.next=13,a(en(s,Me,t));case 13:if(!(c=n.sent).error){n.next=16;break}throw c.error;case 16:return d=c.response.result,n.next=19,Promise.all(d.map(function(e){return a(tn(s,e.ID,e.BlockID,0,0,1))}));case 19:m=n.sent,u=m.map(function(e){return e.response.result[0]}),a(bh(e,s,l,u));case 22:case"end":return n.stop()}},n)})))}},bh=function(e,t,a,n){return{myId:e,myClass:Jv,type:zv,data:{latestFriendList:n.map(function(e){return{creatorName:a,creatorID:e.CID,chatID:t,friendID:e.CID,messageID:e.AID,contents:e.B,createTS:e.CT}})}}},_h=function(e){return function(t,a){t(Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"friend_getFriendListSeen",params:[]}})).then(function(a){var n=a.response.result;a.type,a.query,a.error;t(Ih(e,n))})}},yh=function(e){return function(t,a){t(Object(ia.a)({},Aa,{endpoint:"/",method:"post",json:{id:pt(!1),method:"friend_markFriendListSeen",params:[]}})).then(function(a){var n=a.response.result;a.type,a.query,a.error;t(Ih(e,n))})}},Ih=function(e,t){return{myId:e,myClass:Jv,type:zv,data:{friendLastSeen:t}}},Ch=Gv.createReducer((Ov={},Object(ia.a)(Ov,Hv,ua),Object(ia.a)(Ov,Vv,va),Object(ia.a)(Ov,Kv,fa),Object(ia.a)(Ov,Wv,ha),Object(ia.a)(Ov,Yv,ba),Object(ia.a)(Ov,zv,_a),Object(ia.a)(Ov,Zv,ya),Ov),$.a.Map()),Eh=function(){return"Notification"in window?"denied"===Notification.permission?Promise.reject():"default"===Notification.permission||"undefined"===Notification.permission?Notification.requestPermission():Promise.resolve():(console.log("This browser does not support notification"),Promise.reject())},Mh=a(198),Sh=a.n(Mh),Oh=(a(603),function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(W.a)(this,Object(Y.a)(t).call(this))).toastId=null,a.browserTabInterval=null,a.refreshPageInterval=null,a.pageLastSeenTS=Ca(),a.sentNotifications=[],a.resetTitle=a.resetTitle.bind(Object(z.a)(a)),a.refreshPage=a.refreshPage.bind(Object(z.a)(a)),a.refreshBrowserTabTitle=a.refreshBrowserTabTitle.bind(Object(z.a)(a)),a.checkMarkFriendListSeen=a.checkMarkFriendListSeen.bind(Object(z.a)(a)),a.checkMarkHubSeen=a.checkMarkHubSeen.bind(Object(z.a)(a)),a.handleBrowserTabNotification=a.handleBrowserTabNotification.bind(Object(z.a)(a)),a.handleBrowserToast=a.handleBrowserToast.bind(Object(z.a)(a)),a}return Object(Z.a)(t,e),Object(K.a)(t,[{key:"componentWillMount",value:function(){var e,t,a=this,n=this.props,r=n.location.search,o=n.match.params,i=n.actions,s=i.doRootPage,l=i.doModalContainer,c=(e=r,he.a.parse(e)),d=pt();s.init(d,c,(t=o,Object.keys(t).reduce(function(e,a,n){var r=t[a];return"string"!==typeof t[a]||a.endsWith("ID")||(r=decodeURIComponent(t[a])),e[a]=r,e},{}))),s.getUserInfo(d).then(function(e){var t;"no_user_name"===e.type?function(e,t){var a=t.find(function(e){return"deviceJoinKey"===e.key}).value,n=t.find(function(e){return"userPrivateKey"===e.key}).value;l.setInput({deviceJoinKeyInfo:a,userPrivateKeyInfo:n,userId:e,signUp:function(e){s.editName(d,e),l.closeModal()}}),l.openModal("FIRST_POPUP_MODAL")}(e.userId,e.value):Dr.isConfigured()||(t=e.userId,l.setInput({userId:t}),l.openModal("PRIVACY_SETTING_MODAL"))}),s.getKeyInfo(d),s.getDeviceInfo(d),s.getLatestArticles(d,20),s.fetchLatestMessage(d,1),s.getLogLastSeen(d),s.getFriendListSeen(d),this.refreshPageInterval=setInterval(function(){return a.refreshPage(d)},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshPageInterval)}},{key:"refreshBrowserTabTitle",value:function(e){var t=this.props.intl,a=t.formatMessage({id:"site-title.notify1"},{SENDER:e}),n=t.formatMessage({id:"site-title.notify2"});document.title===a?document.title=n:document.title=a}},{key:"refreshPage",value:function(e){var t=this,a=this.props.actions.doRootPage;"/hub"===this.props.match.url?a.markLogSeen(e):a.getLogLastSeen(e),"/friend"===this.props.match.url?a.markFriendListSeen(e):a.getFriendListSeen(e),a.fetchLatestMessage(e,1),a.getLatestArticles(e,20),a.getDeviceInfo(e),a.getUserInfo(e).catch(function(e){var a;console.error(e.info),a=e.message,ee.b.isActive(t.toastId)||(t.toastId=ee.b.error(a,{autoClose:3e3}))});var n=ft(this.props),r=n.getIn(["userInfo","userId"]),o=n.getIn(["latestFriendList","0"],$.a.Map()).toJS();o&&o.creatorID!==r&&(this.handleBrowserTabNotification(o),this.handleBrowserToast(o))}},{key:"resetTitle",value:function(){var e=this.props.intl;this.pageLastSeenTS=Ca(),this.browserTabInterval&&(clearInterval(this.browserTabInterval),this.browserTabInterval=null),document.title=e.formatMessage({id:"site-title.title"})}},{key:"handleBrowserTabNotification",value:function(e){var t=this;if(!document.hidden)return this.resetTitle();ht(e.createTS&&e.createTS.T,this.pageLastSeenTS&&this.pageLastSeenTS.T)&&(this.browserTabInterval=this.browserTabInterval||setInterval(function(){var a=_t(e.creatorName);t.refreshBrowserTabTitle(a)},1200))}},{key:"handleBrowserToast",value:function(e){var t=this.props,a=t.intl,n=t.match,r=t.history;if(document.hidden&&!this.sentNotifications.includes(e.messageID)&&ht(e.createTS&&e.createTS.T,this.pageLastSeenTS&&this.pageLastSeenTS.T)){var o=e.messageID,i=e.friendID,s=e.chatID,l=_t(e.creatorName),c=function(e){var t=e.title,a=e.body,n=e.icon;if(!t)return console.error("TypeError: Wrong format. Param should be an object: {\n        title: <String>,\n        body: <String>,\n        icon: <URL>,\n        tag: <noti_id>\n    }");var r=function(){return new Notification(t,{body:a,icon:n})};return"granted"!==Notification.permission?Eh().then(r):r()}({title:a.formatMessage({id:"site-title.notify1"},{SENDER:l}),body:e.contents.map(function(e){return JSON.parse(_t(e))}).filter(function(e){return 1===e.type}).map(function(e){return e.value}).join(" ").substr(0,20),tag:"message".concat(o)});c&&(this.sentNotifications.push(o),c.addEventListener("click",function(e){window.focus(),c.close(),n.url!=="/friend/".concat(i,"/chat/").concat(s,"/")&&(r.push("/friend/"),r.push("/friend/".concat(i,"/chat/").concat(s,"/")))}))}}},{key:"checkMarkHubSeen",value:function(){var e=this.props,t=e.myId,a=e.actions.doRootPage,n=e.match.params,r=ft(this.props),o=r.get("logLastSeen",$.a.Map()).toJS(),i=r.get("latestArticles",$.a.List()).toJS(),s=i.map(function(e){return e.BoardID}),l=i.length>0&&ht(i[0].CreateTS.T,o.T);s.includes(n.boardId)&&!l&&a.markLogSeen(t)}},{key:"checkMarkFriendListSeen",value:function(){var e=this.props,t=e.myId,a=e.actions.doRootPage,n=e.match.params,r=ft(this.props),o=r.get("friendLastSeen",$.a.Map()).toJS(),i=r.get("latestFriendList",$.a.List()).toJS(),s=i.map(function(e){return e.ID}),l=i.length>0&&ht(i[0].createTS.T,o.T);s.includes(n.chatId)&&!l&&a.markFriendListSeen(t)}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.myComponent,n=e.actions,r=n.doRootPage,o=n.doModalContainer,i=function(e){var t=e.app;return t?t.get("rootId",""):""}(this.props);if(!i)return w.a.createElement(ie,null);var s=ft(this.props);if(!s.getIn)return w.a.createElement(ie,null);var l=s.getIn(["userInfo","userId"]),c=s.getIn(["userInfo","userName"]),d=s.getIn(["userInfo","userImg"]),m=s.get("keyInfo",$.a.Map()).toJS(),u=s.get("deviceInfo",$.a.List()).toJS(),p=s.get("latestArticles",$.a.List()).toJS(),f=s.get("latestFriendList",$.a.List()).toJS(),g=s.get("friendLastSeen",$.a.Map()).toJS(),v=s.get("logLastSeen",$.a.Map()).toJS(),h=p.length>0&&ht(p[0].UpdateTS.T,p[0].LastSeen.T),b=p.length>0&&ht(p[0].UpdateTS.T,v.T),_=f.length>0&&ht(f[0].createTS.T,g.T),y=function(){r.markLogSeen(i)},I=function(){r.markFriendListSeen(i)},C=gt(s,"HUB_PAGE"),E=gt(s,"BOARD_PAGE"),M=gt(s,"ARTICLE_PAGE"),S=gt(s,"PROFILE_PAGE"),O=gt(s,"FRIEND_LIST_PAGE"),T=gt(s,"FRIEND_CHAT_PAGE"),N=gt(s,"CREATE_BOARD_MODAL"),D=gt(s,"MANAGE_BOARD_MODAL"),A=gt(s,"MANAGE_BOARD_MEMBER_MODAL"),j=gt(s,"INVITE_TO_BOARD_MODAL"),L={CREATE_BOARD_MODAL:N,MANAGE_BOARD_MODAL:D,SHOW_OP_LOG_MODAL:gt(s,"SHOW_OP_LOG_MODAL"),MANAGE_BOARD_MEMBER_MODAL:A,INVITE_TO_BOARD_MODAL:j},k=null;switch(a){case"HubPage":k=w.a.createElement(kr,Object.assign({},this.props,{markSeen:y,myId:C}));break;case"BoardPage":k=w.a.createElement(Wo,Object.assign({},this.props,{markSeen:this.checkMarkHubSeen,myId:E}));break;case"ArticlePage":k=w.a.createElement(ns,Object.assign({},this.props,{myId:M}));break;case"FriendListPage":k=w.a.createElement(sl,Object.assign({},this.props,{markSeen:I,myId:O}));break;case"FriendChatPage":k=w.a.createElement(fc,Object.assign({},this.props,{markSeen:this.checkMarkFriendListSeen,myId:T}));break;default:k=null}var P="FriendChatPage"===a;return w.a.createElement("div",{className:Sh.a.root},w.a.createElement(hs,{myId:S,userId:l,userName:c,userImg:d,openNameCard:function(){o.setInput({userId:l,isEditable:!0}),o.openModal("NAME_CARD_MODAL")},onSettingClicked:function(){o.setInput({device:{data:u,addDeviceAction:function(e,t,a){return r.addDevice(i,e,t,a)}},keyInfo:{data:m,refreshKeyInfo:function(){return r.getKeyInfo(i)}},tabs:[De,xe,qe],userId:l}),o.openModal("SETTING_MENU_MODAL")},onLatestClicked:function(){o.setInput({match:t,isLoading:!1,articleList:p,prevClicked:function(){return o.closeModal()},itemClicked:function(){return o.closeModal()}}),o.openModal("LATEST_PAGE_MODAL")},isChatRoom:P,hasUnread:h}),w.a.createElement(ce,Object.assign({},this.props,{hubHasUnread:b,friendListHasUnread:_,onHubClicked:y,isChatRoom:P,onFriendClicked:I})),k,w.a.createElement(xv,{className:Sh.a.overlay,idMap:L}),w.a.createElement(ee.a,{hideProgressBar:!0}))}}]),t}(k.PureComponent)),Th=Object(G.f)(Object(R.connect)(function(e,t){return Object(H.a)({},e)},function(e){return{actions:{doRootPage:Object(X.b)(L,e),doModalContainer:Object(X.b)(r,e)}}})(Object(F.d)(Oh))),Nh=a(323),Dh=a(324),Ah=Object(Dh.createLogger)({level:"info",collapsed:!1}),jh=[Nh.a,function(e){return function(t){return function(a){var n=a[Aa];if("undefined"===typeof n)return t(a);var r=n.endpoint,o=n.method,i=n.query,s=n.params,l=n.files,c=n.json,d=n.bailout,m="undefined"===typeof n.types?La:n.types;if("function"===typeof r&&(r=r(e.getState())),"string"!==typeof r)throw new Error("Specify a string endpoint URL.");if(!Array.isArray(m)||3!==m.length)throw new Error("Expected an array of three action types.");if(!m.every(function(e){return"string"===typeof e}))throw new Error("Expected action types to be strings. types:",m);if("undefined"!==typeof d&&"function"!==typeof d)throw new Error("Expected bailout to either be undefined or a function.");if(d&&d(e.getState()))return Promise.resolve();var u=function(e){var t=Object.assign({},a,e);return delete t[Aa],t},p=Object(sa.a)(m,3),f=p[0],g=p[1],v=p[2];return t(u({type:f})),ka(r,{method:o,query:i,params:s,files:l,json:c}).then(function(e){return console.log("middleware: after callApi: response:",e),t(u({response:e,query:i,type:g}))},function(e){return console.log("middleware: after callApi: error:",e),t(u({type:v,error:e.message||"Something bad happened"}))})}}},Ah],Lh=a(137),kh=a(325),wh=a.n(kh),Ph=a(326),Bh=a.n(Ph),Rh=Object(Lh.createDevTools)(w.a.createElement(Bh.a,{toggleVisibilityKey:"ctrl-h",changePositionKey:"ctrl-w"},w.a.createElement(wh.a,null))),xh=Object(X.c)({app:Gd,modal:Or,createBoardModal:Oc,manageBoardModal:Hc,manageBoardMemberModal:ld,inviteToBoardModal:jd,nameCardModal:Iu,showOpLogModal:Dv,rootPage:Ch,hubPage:gr,boardPage:Go,articlePage:$i,profilePage:ps,friendListPage:nl,friendChatPage:dc}),Fh=Object(X.d)(X.a.apply(void 0,Object(me.a)(jh)),Rh.instrument()),Uh=function(e){return Object(X.e)(xh,e,Fh)},qh=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Jh(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(808),a(809),a(810),a(811),a(812);var Gh=a(57),Hh=a(72);Gh.b.add(Hh.f),Gh.b.add(Hh.h),Gh.b.add(Hh.b),Gh.b.add(Hh.a),Gh.b.add(Hh.d),Gh.b.add(Hh.c),Gh.b.add(Hh.e),Gh.b.add(Hh.g);var Vh,Kh=Uh(),Wh=function(){return w.a.createElement(ie,null),w.a.createElement(ie,null)};Vh=function(){return w.a.createElement(J.a,{basename:"".concat(U.PTTAI_URL_BASE)},w.a.createElement(G.d,null,w.a.createElement(G.b,{exact:!0,path:"/hub",render:function(e){return w.a.createElement(Th,Object.assign({},e,{myComponent:"HubPage"}))}}),w.a.createElement(G.b,{exact:!0,path:"/board/:boardId",render:function(e){return w.a.createElement(Th,Object.assign({},e,{myComponent:"BoardPage"}))}}),w.a.createElement(G.b,{exact:!0,path:"/board/:boardId/article/:articleId",render:function(e){return w.a.createElement(Th,Object.assign({},e,{myComponent:"ArticlePage"}))}}),w.a.createElement(G.b,{exact:!0,path:"/friend",render:function(e){return w.a.createElement(Th,Object.assign({},e,{myComponent:"FriendListPage"}))}}),w.a.createElement(G.b,{exact:!0,path:"/friend/:friendId/chat/:chatId",render:function(e){return w.a.createElement(Th,Object.assign({},e,{myComponent:"FriendChatPage"}))}}),w.a.createElement(G.a,{exact:!0,from:"/",to:"/friend"})))},B.a.render(w.a.createElement(x.AppContainer,null,w.a.createElement(F.b,{locale:ot,messages:it},w.a.createElement(R.Provider,{store:Kh},w.a.createElement("div",null,w.a.createElement(Vh,null),Wh())))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");qh?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Jh(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Jh(e)})}}(),Eh()},91:function(e,t,a){e.exports={root:"HubComponent_root__1IMqI","add-icon-container":"HubComponent_add-icon-container__2bKTl","add-icon-subcontainer":"HubComponent_add-icon-subcontainer__2Edn5","add-icon":"HubComponent_add-icon__21K-I"}},92:function(e,t,a){e.exports={root:"FriendComponent_root__2JFz3","add-icon-container":"FriendComponent_add-icon-container__1e-d-","add-icon-subcontainer":"FriendComponent_add-icon-subcontainer__UFWcB","add-icon":"FriendComponent_add-icon__JzvZS"}},94:function(e,t,a){e.exports={root:"BoardActionModal_root__3Vofl","action-section":"BoardActionModal_action-section__ENs5S","join-board-button":"BoardActionModal_join-board-button__1_EfN","create-board-button":"BoardActionModal_create-board-button__2wIBq","close-button":"BoardActionModal_close-button__3jTQ4",overlay:"BoardActionModal_overlay__3o1du"}},95:function(e,t,a){e.exports={root:"DropdownComponent_root__2h-wX","dd-wrapper":"DropdownComponent_dd-wrapper__2KtMz","dd-header":"DropdownComponent_dd-header__3P9e-","dd-list":"DropdownComponent_dd-list__30HTy","dd-list-item-wrapper":"DropdownComponent_dd-list-item-wrapper__UpFO7","dd-list-item":"DropdownComponent_dd-list-item__3LL2t"}}},[[328,1,2]]]);
//# sourceMappingURL=main.e81bf91f.chunk.js.map